"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[7178],{60448:function(e,t,n){var a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,r=0,i=t.length;r<i;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(77865)),l=n(17855),s=n(69573),o=r(n(94184));n(39998),t.default=function(e){var t,n=e.canSelectAll,r=void 0!==n&&n,c=e.isSelectable,u=void 0!==c&&c,f=e.sortBy,d=e.variant,m=e.isDark,v=void 0!==m&&m,p=e.colSize,b=void 0===p?0:p,g=e.columns,k=e.paddingColumnSize,E=void 0===k?0:k,S=e.hasRadio,Z=void 0!==S&&S,h=e.rowSize,y=void 0===h?0:h,_=function(e){return a([],Array(e),!0)};return i.default.createElement(l.Table,{className:(0,o.default)({"ins-c-skeleton-table__dark":v}),cells:_(E).map((function(){return""})).concat(g||a([],Array(b),!0).map((function(){return{title:i.default.createElement(s.Skeleton,{isDark:v,size:s.SkeletonSize.sm})}}))),rows:(t=g?g.length:b,_(y).map((function(){return{disableSelection:!0,cells:_(E).map((function(){return""})).concat(_(t).map((function(){return{title:i.default.createElement(s.Skeleton,{isDark:v,size:s.SkeletonSize.md})}})))}}))),sortBy:f,"aria-label":"Loading",onSelect:u?function(){}:void 0,selectVariant:u?Z?(null===l.RowSelectVariant||void 0===l.RowSelectVariant?void 0:l.RowSelectVariant.radio)||"radio":(null===l.RowSelectVariant||void 0===l.RowSelectVariant?void 0:l.RowSelectVariant.checkbox)||"checkbox":void 0,canSelectAll:r,variant:d},i.default.createElement(l.TableHeader,null),i.default.createElement(l.TableBody,null))}},41489:(e,t,n)=>{n.d(t,{Ec:()=>c,Eh:()=>u,bp:()=>f});var a=n(87462),r=n(84457),i=n(77865),l=n.n(i),s=n(30893),o=n(44012),c=function(e,t,n){var i=(0,a.Z)({},n);return l().createElement(r.h,(0,a.Z)({key:"pdf",component:"button",onClick:function(){return t(!0)}},i),e?l().createElement(o.Z,s.Z.loading):l().createElement(o.Z,s.Z.kebabExportAsPDF))},u=function(e,t,n){var i=(0,a.Z)({},n);return l().createElement(r.h,(0,a.Z)({key:"editBusinessRisk",component:"button",onClick:function(){return e(t)}},i),l().createElement(o.Z,s.Z.kebabEditBusinessRisk))},f=function(e,t,n,i){var c=(0,a.Z)({},i);return l().createElement(r.h,(0,a.Z)({key:"editStatus",component:"button",onClick:function(){return e(t,n)}},c),l().createElement(o.Z,s.Z.kebabEditStatus))}},42601:(e,t,n)=>{n.d(t,{Z:()=>S,t:()=>k});var a=n(4942),r=n(87462),i=n(45987),l=n(35664),s=n(60448),o=n.n(s),c=n(97481),u=n(45697),f=n.n(u),d=n(77865),m=n.n(d),v=n(75863),p=["isLoading","variant","children","size"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={spinner:"spinner",table:"table",compactTable:"compactTable",rectangle:"rectangle",inlineSkeleton:"inlineSkeleton",skeleton:"skeleton"},E=function(e){var t=e.isLoading,n=e.variant,a=e.children,s=e.size,u=(0,i.Z)(e,p);if(t)switch(n){case k.spinner:return m().createElement(c.Z,(0,r.Z)({centered:!0},u));case k.table:return m().createElement(o(),u);case k.compactTable:return m().createElement(o(),(0,r.Z)({variant:v.B.compact},u));case k.rectangle:return m().createElement(l.Z,(0,r.Z)({shape:"square"},u));case k.inlineSkeleton:return m().createElement(l.Z,(0,r.Z)({size:null!=s?s:l.i.lg},u,{style:g({display:"inline-block"},u.style)}));default:return m().createElement(l.Z,(0,r.Z)({size:null!=s?s:l.i.lg},u))}return a};E.propTypes={isLoading:f().bool,variant:f().oneOf(Object.keys(k)),style:f().object,children:f().node,size:f().string};const S=E},74372:(e,t,n)=>{n.d(t,{Z:()=>S});var a=n(29439),r=n(83115),i=n(59775),l=n(35575),s=n(49739),o=n(83826),c=n(23393),u=n(45697),f=n.n(u),d=n(77865),m=n.n(d),v=n(71478),p=n(78733),b=n(91709),g=n(74806),k=n(30893),E=function(e){var t=e.cves,n=e.updateRef,u=e.intl,f=(0,d.useState)(t),g=(0,a.Z)(f,1)[0],E=(0,d.useState)("0"),S=(0,a.Z)(E,2),Z=S[0],h=S[1],y=(0,d.useState)(),_=(0,a.Z)(y,2),M=_[0],w=_[1],O=(0,d.useCallback)((function(){w(g&&1===g.length&&g[0].justification||"")}),[g]);(0,d.useEffect)((function(){h(g&&1===g.length&&g[0].business_risk_id.toString()||"0"),O()}),[t,O,g]),(0,d.useEffect)(O,[O]);var j=function(e,t){var n=t.currentTarget.value;h(n)},P={variant:"success",title:u.formatMessage(k.Z.notificationBusinessRiskUpdateSuccessful,{count:g.length||0})},R={variant:"danger",autoDismiss:!1,title:u.formatMessage(k.Z.notificationBusinessRiskUpdateFailureTitle),description:u.formatMessage(k.Z.notificationBusinessRiskUpdateFailureBody)};return m().createElement(b.ZP,{items:g,onSave:function(){return(0,v.le)({business_risk_id:parseInt(Z),cve:g.map((function(e){return e.id})),business_risk_text:M}).then(n).catch((function(e){throw e}))},onSuccessNotification:P,onFailureNotification:R,title:u.formatMessage(k.Z.businessRiskModalTitle),ouiaId:"business-risk-modal"},m().createElement(s.K,{hasGutter:!0},m().createElement(o.v,null,u.formatMessage(k.Z.businessRiskModalInfo)),m().createElement(o.v,null,m().createElement(r.l,null,m().createElement(i.c,{label:u.formatMessage(k.Z.businessRiskLabel),fieldId:"businessRiskId"},p.eF.map((function(e){return m().createElement(l.Y,{className:"business-risk-radio",value:e.value,isChecked:Z===e.value,onChange:j,label:e.label,key:e.value,id:e.value,name:e.label,"aria-label":e.label,ouiaId:"business-risk-radio"})}))),m().createElement(i.c,{label:u.formatMessage(k.Z.justificationLabel),fieldId:"label"},m().createElement(c.Kx,{type:"text",onChange:function(e){w(e)},value:M,resizeOrientation:"vertical","aria-label":"justification",style:{minHeight:"2.25rem"}}))))))};E.propTypes={cves:f().array,updateRef:f().func,intl:f().any};const S=(0,g.ZP)(E)},19738:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(29439),r=n(93149),i=n(83115),l=n(59775),s=n(79851),o=n(34512),c=n(49739),u=n(83826),f=n(75824),d=n(53688),m=n(91290),v=n(45697),p=n.n(v),b=n(77865),g=n.n(b),k=n(71478),E=n(91709),S=n(74806),Z=n(30893),h=function(e){var t=e.cves,n=e.updateRef,v=e.intl,p=e.canEditPairStatus,S=(0,b.useState)(t),h=(0,a.Z)(S,1)[0],y=(0,E.Hb)(h&&h.every((function(e){return e.status_id===h[0].status_id}))&&h[0].status_id.toString()||"0"),_=y.StatusSelect,M=y.statusId,w=y.setProps,O=(0,E.fj)(h&&h.every((function(e){return e.justification===h[0].justification}))&&h[0].justification||""),j=O.JustificationInput,P=O.justification,R=(0,b.useState)(!1),I=(0,a.Z)(R,2),x=I[0],T=I[1],z=h.filter((function(e){return e.exposed_systems_count>0})).map((function(e){return e.id}));(0,b.useEffect)((function(){w({ouiaId:"status-select"})}),[w]);var C={variant:"success",title:v.formatMessage(Z.Z.notificationStatusUpdateSuccessful,{count:h.length||0})},B={variant:"danger",autoDismiss:!1,title:v.formatMessage(Z.Z.notificationStatusUpdateFailureTitle),description:v.formatMessage(Z.Z.notificationStatusUpdateFailureBody)},D=v.formatMessage(Z.Z.cveStatusModalTitle,{count:h.length||0});return g().createElement(E.ZP,{items:h,onSave:function(){return Promise.all([(0,k.xn)({cve:h.map((function(e){return e.id})),status_id:parseInt(M),status_text:P})].concat([!x&&z.length>0&&p&&(0,k.cr)({cve:z,status_id:parseInt(M),status_text:P})])).then((function(){return n(!x)})).catch((function(e){throw e}))},onSuccessNotification:C,onFailureNotification:B,title:D,ouiaId:"status-modal"},g().createElement(c.K,{hasGutter:!0},g().createElement(u.v,null,v.formatMessage(Z.Z.cveStatusModalSelected,{count:h.length||0,cveId:h[0].id,b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g().createElement("b",null,t)}})),g().createElement(u.v,null,g().createElement(d.ZP,{className:"pf-u-mr-xs",fontSize:"var(--pf-global--FontSize--md)",color:"var(--pf-global--active-color--300)"}),v.formatMessage(Z.Z.cveStatusModalInfo,{count:h.length||0}),g().createElement(f.u,{content:v.formatMessage(Z.Z.cveStatusModalInfoTooltip)},g().createElement(m.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)"}))),g().createElement(u.v,null,g().createElement(i.l,{key:"key"},_,j,z.length>0&&p&&g().createElement(l.c,{fieldId:"overwrite"},g().createElement(s.P,null,g().createElement(o.J,null,g().createElement(r.X,{label:v.formatMessage(Z.Z.cveStatusModalOverwriteCheckbox),id:"alt-form-checkbox-1",name:"alt-form-checkbox-1",isChecked:x,onChange:function(e){return T(e)}})),g().createElement(o.J,null,g().createElement(f.u,{content:v.formatMessage(Z.Z.cveStatusModalOverwriteTooltip)},g().createElement(m.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)",style:{verticalAlign:"0"}})))))))))};h.propTypes={cves:p().array,updateRef:p().func,intl:p().any,canEditPairStatus:p().bool.isRequired};const y=(0,S.ZP)(h)},39998:(e,t,n)=>{n.r(t)}}]);
//# sourceMappingURL=../sourcemaps/7178.ee402b6d77e3f924d87521eb2b8835cc.js.map