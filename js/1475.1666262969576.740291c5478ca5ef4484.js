"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[1475],{66123:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(77865),a=n.n(r),i=n(45697),s=n.n(i),o=n(56700),c=n(15984),l=n(2443),u=n(24788),f=function(e){var t=e.code;switch(parseInt(t)){case 403:return a().createElement(u.bY,null);case 404:return a().createElement(o.Z,null);case 500:case 502:case 503:return a().createElement(c.Z,null);default:return a().createElement(l.Z,null)}};f.propTypes={code:s().oneOf([s().number,s().string])};const p=f},95351:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(4942),a=n(29439),i=n(83237),s=n(32132),o=n(23279),c=n.n(o),l=n(77865),u=n.n(l);const f=function(e,t,n,o,l){var f=u().useState(),p=(0,a.Z)(f,2),m=p[0],v=p[1],d=u().useState((function(){return c()((function(t){var n;void 0!==t&&l((n={},(0,r.Z)(n,e,t),(0,r.Z)(n,"page",1),n))}),400)})),y=(0,a.Z)(d,1)[0];return u().useEffect((function(){return v(o)}),[o]),{type:i.Y.text,label:s.N.formatMessage(t),key:e,filterValues:{"aria-label":"search-field",id:"search-".concat(t.id),onChange:function(e,t){v(t),y(t)},placeholder:s.N.formatMessage(n),value:m}}}},66761:(e,t,n)=>{n.d(t,{Z:()=>P});var r=n(93433),a=n(4942),i=n(29439),s=n(77865),o=n.n(s),c=n(45697),l=n.n(c),u=n(80236),f=n(47173),p=n(68774),m=n(68340),v=n(61282),d=n(4396),y=n(81217),h=n(31487),b=n(27511),g=n(14087),O=n(79851),_=n(34512),w=n(30893),k=n(32132);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=e.appliedColumns,n=e.applyColumns,a=e.isModalOpen,c=e.setModalOpen,l=(0,s.useState)(t.map((function(e){var t;return Z(Z({},e),{},{isShown:null!==(t=e.isShown)&&void 0!==t?t:e.isShownByDefault})}))),j=(0,i.Z)(l,2),E=j[0],P=j[1];return o().createElement(u.u,{title:k.N.formatMessage(w.Z.columnManagementModalTitle),onClose:function(){return c(!1)},isOpen:a,variant:"small",description:o().createElement(p.D,null,o().createElement(m.x,{component:m.q.p},k.N.formatMessage(w.Z.columnManagementModalDescription)),o().createElement(O.P,{hasGutter:!0},o().createElement(_.J,null,o().createElement(f.zx,{isInline:!0,onClick:function(){var e=(0,r.Z)(E);e=e.map((function(e){return Z(Z({},e),{},{isShown:!0})})),P(e)},variant:"link"},k.N.formatMessage(w.Z.columnManagementModalSelectAll))),o().createElement(_.J,null,o().createElement(f.zx,{isInline:!0,onClick:function(){P(E.map((function(e){var t;return Z(Z({},e),{},{isShown:null!==(t=e.isShownByDefault)&&void 0!==t&&t})})))},variant:"link"},k.N.formatMessage(w.Z.columnManagementModalResetToDefault))))),actions:[o().createElement(f.zx,{key:"save",variant:"primary",onClick:function(){c(!1),n(E)}},k.N.formatMessage(w.Z.save)),o().createElement(f.zx,{key:"cancel",variant:"secondary",onClick:function(){c(!1),P(t)}},k.N.formatMessage(w.Z.cancel))]},o().createElement(d.FR,{"aria-label":"Table column management",id:"table-column-management",isCompact:!0},E.map((function(e,t){return o().createElement(v.L,{key:e.key},o().createElement(y.V,null,o().createElement(h.$,{checked:e.isShown,id:"checkbox-"+t,onChange:function(){return function(e){var t=(0,r.Z)(E),n=Z({},t[e]);n.isShown=!n.isShown,t[e]=n,P(t)}(t)},isDisabled:e.isUnhidable}),o().createElement(g.p,{dataListCells:[o().createElement(b.K,{key:"table-column-management-item"+t},o().createElement("label",{htmlFor:"checkbox-"+t},e.title))]})))}))))};E.propTypes={appliedColumns:l().arrayOf(l().object).isRequired,applyColumns:l().func.isRequired,isModalOpen:l().bool.isRequired,setModalOpen:l().func.isRequired};const P=E},62215:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(4942),a=n(15861),i=n(71002),s=n(43144),o=n(15671),c=n(64687),l=n.n(c),u=n(35240),f=n(32132),p=n(30893),m=n(78733);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const y=new((0,s.Z)((function e(){var t=this;(0,o.Z)(this,e),this.filename=function(e){switch(e){case"reports":return"vulnerability_cves-report--".concat((new Date).toISOString().split("T")[0]);case"systems-exposed":return"vulnerability_systems-exposed-".concat(t.params.cve,"--").concat(t.defaultParams.date);case"system-list":return"vulnerability_systems--".concat(t.defaultParams.date);default:return"vulnerability_cves--".concat(t.defaultParams.date)}},this.checkTypes=function(e,n,r){if("function"!=typeof e)throw"exec expects the 1st param to be funtion. Received ".concat((0,i.Z)(e));if(!t.pages.includes(n))throw"Page ".concat(n," does not exist");if(!t.formats.includes(r))throw"Format ".concat(r," is not supported")},this.exec=function(){var e=(0,a.Z)(l().mark((function e(n,r,a,i,s,o){var c,f,p,v,y;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(t.notifications.start),t.checkTypes(n,i,a),t.params.cve=(null==r?void 0:r.id)||null,e.prev=3,e.next=6,n(d(d(d(d({},r.id&&{id:r.id}),r),t.defaultParams),{},{data_format:a,report:"true"}));case 6:return c=e.sent,f=c.payload,e.next=10,f;case 10:p=e.sent,v=p.data,y="json"===a?JSON.stringify(v):v,(0,u.Sv)(y,t.filename(i),a),o(),s(t.notifications.success),e.next=23;break;case 18:throw e.prev=18,e.t0=e.catch(3),o(),s("403"===e.t0.status?m._V:t.notifications.failure),"".concat(e.t0);case 23:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t,n,r,a,i,s){return e.apply(this,arguments)}}(),this.defaultParams={page:1,page_size:Math.min(Number.MAX_SAFE_INTEGER,9007199254740991),date:(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc"},this.params={cve:null},this.pages=["systems-exposed","system-cves","cves","system-list"],this.formats=["csv","json"],this.notifications={start:{variant:"info",title:f.N.formatMessage(p.Z.notificationReportDownloadStart)},success:{variant:"success",title:f.N.formatMessage(p.Z.notificationReportDownloadSuccess)},failure:{variant:"danger",autoDismiss:!1,title:f.N.formatMessage(p.Z.notificationReportDownloadFailureTitle),description:f.N.formatMessage(p.Z.notificationReportDownloadFailureBody)}}})))},15248:(e,t,n)=>{n.d(t,{A6:()=>f,DU:()=>v,HV:()=>m,Yy:()=>y,lO:()=>p,vH:()=>d});var r=n(4942),a=n(30893),i=n(78733),s=n(32132),o=n(18446),c=n.n(o);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e,t,n){return n({page:t})},p=function(e,t,n){return n({page_size:t,page:1})},m=function(e){return{onSelect:function(t,n){return e.downloadReport(n)}}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.filter,r=e.advisory,o=function(e,n){return i.Oq[e].items.reduce((function(r,a){if(n===a.value)r.name=a.label,r.value=a.value;else if("rule_presence"===e){var s=t.find((function(e){return e.value===n}));["true","false",i.Zm].includes(n)?r.name=i.Oq.rule_presence.items.find((function(e){return e.value===n})).label:r.name=s&&s.label||n,r.value=n}return r}),{})},c=function(e,t){return e.reduce((function(e,n){return e.push(o(t,n)),e}),[])},l=function(e,t){return Object.keys(e).includes(t)&&!["",void 0].includes(e[t])},u=Object.keys(i.Oq).reduce((function(t,n){if("rule_presence"===n&&(l(e,"rule_presence")||l(e,"rule"))){var r=[].concat(e.rule_presence?e.rule_presence.split(","):[],e.rule?e.rule.split(","):[]);t.push({key:n,multiValue:r,category:i.Oq[n].title,chips:c(r,n)})}else if("cvss_filter"===n&&(l(e,"cvss_from")||l(e,"cvss_to"))){var a=e.cvss_from&&parseFloat(e.cvss_from).toFixed(1)||"0.0",s=e.cvss_to&&parseFloat(e.cvss_to).toFixed(1)||"10.0";"0.0"===a&&"10.0"===s||t.push({key:n,category:i.Oq[n].title,chips:[{name:"".concat(a," - ").concat(s)}]})}else if("rhel_version"===n&&l(e,"rhel_version"))t.push({key:n,multiValue:e.rhel_version.split(","),category:"Operating system",chips:e.rhel_version.split(",").map((function(e){return{value:e,name:"RHEL ".concat(e)}}))});else if(l(e,n)){var u="string"==typeof e[n]&&e[n].split(","),f=u&&u.length>1&&c(u,n)||[o(n,e[n])];t.push({key:n,multiValue:u,category:i.Oq[n].title,chips:f})}return t}),[]);return n&&u.push({key:"filter",category:s.N.formatMessage(a.Z.searchLabel),chips:[{name:n}]}),r&&u.push({key:"advisory",category:s.N.formatMessage(a.Z.advisory),chips:[{name:r}]}),u},d=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r)return e(t,n),void n(u(u({},a),{},{page:1}));var i=t.reduce((function(e,t){if("rule_presence"===t.key){var n=t.multiValue.filter((function(e){return!t.chips.some((function(t){return t.value===e}))}));e.rule_presence=n.filter((function(e){return["true","false"].includes(e)})).join(",")||"",e.rule=n.filter((function(e){return!["true","false"].includes(e)})).join(",")||""}else"filter"===t.key||"advisory"===t.key||t.multiValue&&1===t.multiValue.length?e[t.key]="":"cvss_filter"===t.key?(e.cvss_filter=void 0,e.cvss_from=void 0,e.cvss_to=void 0):e[t.key]=t.multiValue.filter((function(e){return!t.chips.some((function(t){return t.value===e}))})).join(",");return""===e[t.key]&&(e[t.key]=void 0),e}),{});n(u(u({},i),{},{page:1}))},y=function(e,t,n){return e=n.reduce((function(t,n){return u(u({},t),e[n]&&(0,r.Z)({},n,e[n]))}),{}),c()(e,t)}}}]);
//# sourceMappingURL=../sourcemaps/1475.c09326f56fc6f006f6c40aa04a5c2793.js.map