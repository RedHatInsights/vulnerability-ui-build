"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[7178],{60448:(e,t,n)=>{var a=n(95318);t.Z=void 0;var r=a(n(319)),l=a(n(34575)),i=a(n(93913)),o=a(n(81506)),c=a(n(2205)),s=a(n(78585)),u=a(n(29754)),f=a(n(59713)),d=a(n(77865)),m=n(99089),p=n(69573),v=a(n(45697));var b=function(e){(0,c.default)(v,e);var t,n,a=(t=v,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,u.default)(t);if(n){var r=(0,u.default)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,s.default)(this,e)});function v(){var e;(0,l.default)(this,v);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=a.call.apply(a,[this].concat(n)),(0,f.default)((0,o.default)(e),"createColumns",(function(){var t=e.props.colSize;return(0,r.default)(Array(t)).map((function(){return{title:d.default.createElement(p.Skeleton,{size:p.SkeletonSize.sm})}}))})),(0,f.default)((0,o.default)(e),"getColumns",(function(){var t=e.props,n=t.paddingColumnSize,a=t.columns;return e.newArray(n).map((function(){return""})).concat(a||e.createColumns())})),(0,f.default)((0,o.default)(e),"createRows",(function(){var t=e.props,n=t.colSize,a=t.rowSize,r=t.columns,l=t.paddingColumnSize,i=r?r.length:n;return e.newArray(a).map((function(){return{disableSelection:!0,cells:e.newArray(l).map((function(){return""})).concat(e.newArray(i).map((function(){return{title:d.default.createElement(p.Skeleton,{size:p.SkeletonSize.md})}})))}}))})),(0,f.default)((0,o.default)(e),"selectVariant",(function(){return e.props.hasRadio?(null===m.RowSelectVariant||void 0===m.RowSelectVariant?void 0:m.RowSelectVariant.radio)||"radio":(null===m.RowSelectVariant||void 0===m.RowSelectVariant?void 0:m.RowSelectVariant.checkbox)||"checkbox"})),(0,f.default)((0,o.default)(e),"newArray",(function(e){return(0,r.default)(Array(e))})),e}return(0,i.default)(v,[{key:"render",value:function(){var e=this.props,t=e.canSelectAll,n=e.isSelectable,a=e.sortBy,r=e.variant;return d.default.createElement(m.Table,{cells:this.getColumns(),rows:this.createRows(),sortBy:a,"aria-label":"Loading",onSelect:n,selectVariant:n?this.selectVariant():null,canSelectAll:t,variant:r},d.default.createElement(m.TableHeader,null),d.default.createElement(m.TableBody,null))}}]),v}(d.default.Component);b.propTypes={colSize:v.default.number,rowSize:v.default.number,columns:v.default.array,paddingColumnSize:v.default.number,sortBy:v.default.shape({index:v.default.number,direction:v.default.oneOf(["asc","desc"])}),isSelectable:v.default.bool,canSelectAll:v.default.bool,hasRadio:v.default.bool,variant:v.default.string},b.defaultProps={rowSize:0,paddingColumnSize:0,canSelectAll:!1,isSelectable:!1,hasRadio:!1,variant:null};var g=b;t.Z=g},41489:(e,t,n)=>{n.d(t,{Ec:()=>s,Eh:()=>u,bp:()=>f});var a=n(87462),r=n(84457),l=n(77865),i=n.n(l),o=n(30893),c=n(44012),s=function(e,t,n){var l=(0,a.Z)({},n);return i().createElement(r.h,(0,a.Z)({key:"pdf",component:"button",onClick:function(){return t(!0)}},l),e?i().createElement(c.Z,o.Z.loading):i().createElement(c.Z,o.Z.kebabExportAsPDF))},u=function(e,t,n){var l=(0,a.Z)({},n);return i().createElement(r.h,(0,a.Z)({key:"editBusinessRisk",component:"button",onClick:function(){return e(t)}},l),i().createElement(c.Z,o.Z.kebabEditBusinessRisk))},f=function(e,t,n,l){var s=(0,a.Z)({},l);return i().createElement(r.h,(0,a.Z)({key:"editStatus",component:"button",onClick:function(){return e(t,n)}},s),i().createElement(c.Z,o.Z.kebabEditStatus))}},42601:(e,t,n)=>{n.d(t,{Z:()=>h,t:()=>g});var a=n(4942),r=n(87462),l=n(45987),i=n(56455),o=n(60448),c=n(6023),s=n(45697),u=n.n(s),f=n(77865),d=n.n(f),m=n(75863),p=["isLoading","variant","children","size"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={spinner:"spinner",table:"table",compactTable:"compactTable",rectangle:"rectangle",inlineSkeleton:"inlineSkeleton",skeleton:"skeleton"},S=function(e){var t=e.isLoading,n=e.variant,a=e.children,s=e.size,u=(0,l.Z)(e,p);if(t)switch(n){case g.spinner:return d().createElement(c.Z,(0,r.Z)({centered:!0},u));case g.table:return d().createElement(o.Z,u);case g.compactTable:return d().createElement(o.Z,(0,r.Z)({variant:m.B.compact},u));case g.rectangle:return d().createElement(i.Z,(0,r.Z)({shape:"square"},u));case g.inlineSkeleton:return d().createElement(i.Z,(0,r.Z)({size:null!=s?s:i.i.lg},u,{style:b({display:"inline-block"},u.style)}));default:return d().createElement(i.Z,(0,r.Z)({size:null!=s?s:i.i.lg},u))}return a};S.propTypes={isLoading:u().bool,variant:u().oneOf(Object.keys(g)),style:u().object,children:u().node,size:u().string};const h=S},74372:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(29439),r=n(83115),l=n(59775),i=n(92504),o=n(49739),c=n(83826),s=n(23393),u=n(45697),f=n.n(u),d=n(77865),m=n.n(d),p=n(71478),v=n(78733),b=n(91709),g=n(74806),S=n(30893),h=function(e){var t=e.cves,n=e.updateRef,u=e.intl,f=(0,d.useState)(t),g=(0,a.Z)(f,1)[0],h=(0,d.useState)("0"),y=(0,a.Z)(h,2),Z=y[0],E=y[1],k=(0,d.useState)(),w=(0,a.Z)(k,2),R=w[0],_=w[1],M=(0,d.useCallback)((function(){_(g&&1===g.length&&g[0].justification||"")}),[g]);(0,d.useEffect)((function(){E(g&&1===g.length&&g[0].business_risk_id.toString()||"0"),M()}),[t,M,g]),(0,d.useEffect)(M,[M]);var O=function(e,t){var n=t.currentTarget.value;E(n)},C={variant:"success",title:u.formatMessage(S.Z.notificationBusinessRiskUpdateSuccessful,{count:g.length||0})},P={variant:"danger",autoDismiss:!1,title:u.formatMessage(S.Z.notificationBusinessRiskUpdateFailureTitle),description:u.formatMessage(S.Z.notificationBusinessRiskUpdateFailureBody)};return m().createElement(b.ZP,{items:g,onSave:function(){return(0,p.le)({business_risk_id:parseInt(Z),cve:g.map((function(e){return e.id})),business_risk_text:R}).then(n).catch((function(e){throw e}))},onSuccessNotification:C,onFailureNotification:P,title:u.formatMessage(S.Z.businessRiskModalTitle),ouiaId:"business-risk-modal"},m().createElement(o.K,{hasGutter:!0},m().createElement(c.v,null,u.formatMessage(S.Z.businessRiskModalInfo)),m().createElement(c.v,null,m().createElement(r.l,null,m().createElement(l.c,{label:u.formatMessage(S.Z.businessRiskLabel),fieldId:"businessRiskId"},v.eF.map((function(e){return m().createElement(i.Y,{className:"business-risk-radio",value:e.value,isChecked:Z===e.value,onChange:O,label:e.label,key:e.value,id:e.value,name:e.label,"aria-label":e.label,ouiaId:"business-risk-radio"})}))),m().createElement(l.c,{label:u.formatMessage(S.Z.justificationLabel),fieldId:"label"},m().createElement(s.Kx,{type:"text",onChange:function(e){_(e)},value:R,resizeOrientation:"vertical","aria-label":"justification",style:{minHeight:"2.25rem"}}))))))};h.propTypes={cves:f().array,updateRef:f().func,intl:f().any};const y=(0,g.ZP)(h)},19738:(e,t,n)=>{n.d(t,{Z:()=>k});var a=n(29439),r=n(93149),l=n(83115),i=n(59775),o=n(79851),c=n(34512),s=n(49739),u=n(83826),f=n(35224),d=n(53688),m=n(91290),p=n(45697),v=n.n(p),b=n(77865),g=n.n(b),S=n(71478),h=n(91709),y=n(74806),Z=n(30893),E=function(e){var t=e.cves,n=e.updateRef,p=e.intl,v=e.canEditPairStatus,y=(0,b.useState)(t),E=(0,a.Z)(y,1)[0],k=(0,h.Hb)(E&&E.every((function(e){return e.status_id===E[0].status_id}))&&E[0].status_id.toString()||"0"),w=k.StatusSelect,R=k.statusId,_=k.setProps,M=(0,h.fj)(E&&E.every((function(e){return e.justification===E[0].justification}))&&E[0].justification||""),O=M.JustificationInput,C=M.justification,P=(0,b.useState)(!1),z=(0,a.Z)(P,2),j=z[0],x=z[1],I=E.filter((function(e){return e.exposed_systems_count>0})).map((function(e){return e.id}));(0,b.useEffect)((function(){_({ouiaId:"status-select"})}),[_]);var T={variant:"success",title:p.formatMessage(Z.Z.notificationStatusUpdateSuccessful,{count:E.length||0})},A={variant:"danger",autoDismiss:!1,title:p.formatMessage(Z.Z.notificationStatusUpdateFailureTitle),description:p.formatMessage(Z.Z.notificationStatusUpdateFailureBody)},B=p.formatMessage(Z.Z.cveStatusModalTitle,{count:E.length||0});return g().createElement(h.ZP,{items:E,onSave:function(){return Promise.all([(0,S.xn)({cve:E.map((function(e){return e.id})),status_id:parseInt(R),status_text:C})].concat([!j&&I.length>0&&v&&(0,S.cr)({cve:I,status_id:parseInt(R),status_text:C})])).then((function(){return n(!j)})).catch((function(e){throw e}))},onSuccessNotification:T,onFailureNotification:A,title:B,ouiaId:"status-modal"},g().createElement(s.K,{hasGutter:!0},g().createElement(u.v,null,p.formatMessage(Z.Z.cveStatusModalSelected,{count:E.length||0,cveId:E[0].id,b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g().createElement("b",null,t)}})),g().createElement(u.v,null,g().createElement(d.ZP,{className:"pf-u-mr-xs",fontSize:"var(--pf-global--FontSize--md)",color:"var(--pf-global--active-color--300)"}),p.formatMessage(Z.Z.cveStatusModalInfo,{count:E.length||0}),g().createElement(f.u,{content:p.formatMessage(Z.Z.cveStatusModalInfoTooltip)},g().createElement(m.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)"}))),g().createElement(u.v,null,g().createElement(l.l,{key:"key"},w,O,I.length>0&&v&&g().createElement(i.c,{fieldId:"overwrite"},g().createElement(o.P,null,g().createElement(c.J,null,g().createElement(r.X,{label:p.formatMessage(Z.Z.cveStatusModalOverwriteCheckbox),id:"alt-form-checkbox-1",name:"alt-form-checkbox-1",isChecked:j,onChange:function(e){return x(e)}})),g().createElement(c.J,null,g().createElement(f.u,{content:p.formatMessage(Z.Z.cveStatusModalOverwriteTooltip)},g().createElement(m.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)",style:{verticalAlign:"0"}})))))))))};E.propTypes={cves:v().array,updateRef:v().func,intl:v().any,canEditPairStatus:v().bool.isRequired};const k=(0,y.ZP)(E)}}]);
//# sourceMappingURL=../sourcemaps/7178.26bb1fc936751ccb2dbc9e2d52e7fb66.js.map