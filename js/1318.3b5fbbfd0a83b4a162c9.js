(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[1318],{95351:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(96156),i=r(28481),u=r(89421),c=r(32132),o=r(23279),a=r.n(o),s=r(77865),l=r.n(s);const f=function(e,t,r,o,s){var f=l().useState(),v=(0,i.Z)(f,2),d=v[0],p=v[1],y=l().useState((function(){return a()((function(t){var r;void 0!==t&&s((r={},(0,n.Z)(r,e,t),(0,n.Z)(r,"page",1),r))}),400)})),m=(0,i.Z)(y,1)[0];return l().useEffect((function(){return p(o)}),[o]),{type:u.Yu.text,label:c.N.formatMessage(t),filterValues:{"aria-label":"search-field",id:"search-".concat(t.id),onChange:function(e,t){p(t),m(t)},placeholder:c.N.formatMessage(r),value:d}}}},15248:(e,t,r)=>{"use strict";r.d(t,{A6:()=>f,lO:()=>v,HV:()=>d,DU:()=>y,vH:()=>m,Yy:()=>h});var n=r(96156),i=r(30893),u=r(6208),c=r(32132),o=r(18446),a=r.n(o);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e,t,r){return r({page:t})},v=function(e,t,r){return r({page_size:t,page:1})},d=function(e){return{onSelect:function(t,r){return e.downloadReport(r)}}},p=["affecting","excluded"],y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.filter,n=e.advisory,o=function(e,r){return u.Oq[e].items.reduce((function(n,i){if(r===i.value)n.name=i.label,n.value=i.value;else if("security_rule"===e){var c=t.find((function(e){return e.value===r}));["true","false"].includes(r)?n.name=u.Oq.security_rule.items.find((function(e){return e.value===r})).label:n.name=c&&c.label||r,n.value=r}return n}),{})},a=function(e,t){return e.reduce((function(e,r){return e.push(o(t,r)),e}),[])},s=function(e){return[].concat(null==e?void 0:e.split(",").flatMap((function(e,t){return"true"===(null==e?void 0:e.toLowerCase())?t.toString():[]})))},l=function(e,t){return Object.keys(e).includes(t)&&!["",void 0].includes(e[t])},f=Object.keys(u.Oq).reduce((function(t,r){if("security_rule"===r&&(l(e,"rule_presence")||l(e,"rule_key"))){var n=[].concat(e.rule_presence?e.rule_presence.split(","):[],e.rule_key?e.rule_key.split(","):[]);t.push({key:r,multiValue:n,category:u.Oq[r].title,chips:a(n,r)})}else if(p.includes(r)&&l(e,r)){var i=s(e[r]);t.push({key:r,multiValue:i,category:u.Oq[r].title,chips:a(i,r)})}else if("cvss_filter"===r&&(l(e,"cvss_from")||l(e,"cvss_to"))){var c=e.cvss_from&&parseFloat(e.cvss_from).toFixed(1)||"0.0",f=e.cvss_to&&parseFloat(e.cvss_to).toFixed(1)||"10.0";"0.0"===c&&"10.0"===f||t.push({key:r,category:u.Oq[r].title,chips:[{name:"".concat(c," - ").concat(f)}]})}else if(l(e,r)){var v="string"==typeof e[r]&&e[r].split(","),d=v&&v.length>1&&a(v,r)||[o(r,e[r])];t.push({key:r,multiValue:v,category:u.Oq[r].title,chips:d})}return t}),[]);return r&&f.push({key:"filter",category:c.N.formatMessage(i.Z.searchLabel),chips:[{name:r}]}),n&&f.push({key:"advisory",category:c.N.formatMessage(i.Z.advisory),chips:[{name:n}]}),f},m=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n)return e(t,r),void r(l(l({},i),{},{page:1}));var u=t.reduce((function(e,t){if("security_rule"===t.key){var r=t.multiValue.filter((function(e){return!t.chips.some((function(t){return t.value===e}))}));e.rule_presence=r.filter((function(e){return["true","false"].includes(e)})).join(",")||"",e.rule_key=r.filter((function(e){return!["true","false"].includes(e)})).join(",")||""}else if(p.includes(t.key)){var n=t.multiValue.filter((function(e){return!t.chips.some((function(t){return t.value===e}))})),i=[!1,!1];n.forEach((function(e){i[e]=!0}));var u=i.join(",");e[t.key]="false,false"===u?"":i.join(",")}else"filter"===t.key||"advisory"===t.key||t.multiValue&&1===t.multiValue.length?e[t.key]="":"cvss_filter"===t.key?(e.cvss_filter=void 0,e.cvss_from=void 0,e.cvss_to=void 0):e[t.key]=t.multiValue.filter((function(e){return!t.chips.some((function(t){return t.value===e}))})).join(",");return e}),{});r(l(l({},u),{},{page:1}))},h=function(e,t,r){return e=r.reduce((function(t,r){return l(l({},t),e[r]&&(0,n.Z)({},r,e[r]))}),{}),a()(e,t)}},93400:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(93386),i=r.n(n),u=r(30893),c=r(32132);const o=function(e){var t=e.selectedItems,r=e.selectorHandler,n=e.items,o=e.fetchResource,a=e.multiRow,s=void 0!==a&&a,l=Array.from(t),f=l&&l.length,v=n.meta,d=n.data,p=d&&(Array.isArray(d)&&d.length&&s?d.length/2:d.length),y=function(){r(!1,[])},m=function(){var e=(o&&o({page_size:v.total_items,page:1})).payload;e&&e.then((function(e){var t=e.data.map((function(e){return e.id&&e.id||e}));r(!0,t)}))};return{handleOnCheckboxChange:function(){0===f?m():y()},items:[{title:c.N.formatMessage(u.Z.selectNone),onClick:y},{title:"".concat(c.N.formatMessage(u.Z.selectPage,{count:p})),onClick:function(){var e=n.data,t=i()(e.filter((function(e){return e.id})).map((function(e){return e.id})),l);r(!0,t)}},{title:"".concat(c.N.formatMessage(u.Z.selectAll,{count:v.total_items?v.total_items:0})),onClick:m}]}}}}]);
//# sourceMappingURL=../sourcemaps/1318.fc323f3415f72c052cc6.js.map