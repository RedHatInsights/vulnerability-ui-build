"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[774],{98489:(t,e,n)=>{n.r(e),n.d(e,{default:()=>A});var r=n(4942),i=n(15671),o=n(43144),s=n(60136),c=n(82963),a=n(61120),u=n(86350),l=n(83215),p=n(45697),f=n.n(p),y=n(77865),d=n.n(y),m=n(14494),v=n(5977),O=n(83594),h=n(41740),b=n(24788);var g=function(t){(0,s.Z)(u,t);var e,n,r=(e=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,a.Z)(e);if(n){var i=(0,a.Z)(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(0,c.Z)(this,t)});function u(t){return(0,i.Z)(this,u),r.call(this,t)}return(0,o.Z)(u,[{key:"render",value:function(){var t=this.props,e=t.entity,n=t.isOptOut,r=t.optOutSystemHandler,i=t.loaded;return e&&i?n?d().createElement(d().Fragment,null,d().createElement(b.QJ,{buttonAction:function(){return r(!1)}})):d().createElement(d().Fragment,null,d().createElement(h.QE,{entity:{id:e.id,display_name:e.display_name},allowedCveActions:["EDIT_STATUS","REMEDIATE"],showHeaderLabel:!0,setPageTitle:!0})):null}}]),u}(d().Component);g.propTypes={entity:f().object,isOptOut:f().bool,loaded:f().bool,optOutSystemHandler:f().func};const E=(0,v.EN)((0,m.$j)((function(t){var e=t.entityDetails;return{entity:e.entity,isOptOut:e.opt_out,loaded:e.loaded}}),null)(g));var D=n(75910);function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={loaded:!1},j=n(83296),P=n(75115),w=n(74806),T=n(52837),I=n(30893),N=n(38775),R=n(53895),k=n(33902);function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var L=function(t){(0,s.Z)(l,t);var e,n,r=(e=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,a.Z)(e);if(n){var i=(0,a.Z)(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(0,c.Z)(this,t)});function l(t){var e;return(0,i.Z)(this,l),(e=r.call(this,t)).notifications=function(t){return{exclude:{success:{variant:"success",title:e.props.intl.formatMessage(I.Z.notificationExcludeSuccess,{count:1,systemName:t})},failure:{variant:"danger",autoDismiss:!1,title:e.props.intl.formatMessage(I.Z.notificationExcludeFailureTitle,{count:1,systemName:t}),description:e.props.intl.formatMessage(I.Z.notificationDetailExcludeFailureBody,{count:1})}},include:{success:{variant:"success",title:e.props.intl.formatMessage(I.Z.notificationIncludeSuccessTitle,{count:1,systemName:t}),description:e.props.intl.formatMessage(I.Z.notificationIncludeSuccessBody,{count:1})},failure:{variant:"danger",autoDismiss:!1,title:e.props.intl.formatMessage(I.Z.notificationIncludeFailureTitle,{count:1,systemName:t}),description:e.props.intl.formatMessage(I.Z.notificationDetailIncludeFailureBody,{count:1})}}}},e.optOutSystem=function(t){e.props.optOutSystem(e.state.inventoryId,t).then((function(){var n=e.props.systemDetails.entity.display_name;e.props.fetchSystemDetails(e.state.inventoryId),e.props.addNotification(t?e.notifications(n).exclude.success:e.notifications(n).include.success)})).catch((function(){var n=e.props.systemDetails.entity.display_name;e.props.addNotification(t?e.notifications(n).exclude.failure:e.notifications(n).include.failure)}))},e.state={inventoryId:e.props.match.params.inventoryId},e}return(0,o.Z)(l,[{key:"componentDidMount",value:function(){this.props.fetchSystemDetails(this.state.inventoryId)}},{key:"render",value:function(){var t=this,e=this.props,n=e.systemDetails,r=void 0===n?{}:n,i=e.errors,o=r.opt_out,s=void 0!==o&&o,c=r.entity,a=r.loaded;return d().createElement(d().Fragment,null,d().createElement(N.Z,null,d().createElement(P.Z,{title:"",breadcrumbs:[{title:T.yy.systemsPage.title,to:T.yy.systemsPage.to,loaded:!0},{title:(null==c?void 0:c.display_name)||this.props.intl.formatMessage(I.Z.invalidSystem),isActive:!0,loaded:a}]},!i&&d().createElement(R.Z,{onLoad:function(e){var n=e.mergeWithEntities,r=e.mergeWithDetail,i=e.INVENTORY_ACTION_TYPES;j.Z.register(M(M({},n()),r(function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case D.up+"_FULFILLED":return S(S({},n),r.payload.data);case t.LOAD_ENTITY_FULFILLED:return S(S({},n),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return d().createElement(E,{optOutSystemHandler:e})}}]});case t.LOAD_ENTITY_REJECTED:return S(S({},n),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return d().createElement(E,null)}}]});default:return n}}}(i,t.optOutSystem))))},hideBack:!0,actions:c&&[s?{title:this.props.intl.formatMessage(I.Z.inventoryKebabOptionsResume),onClick:function(){return t.optOutSystem(!1)}}:{title:this.props.intl.formatMessage(I.Z.inventoryKebabOptionsExclude),onClick:function(){return t.optOutSystem(!0)}}]})),d().createElement(u.Z,null,d().createElement(d().Fragment,null,d().createElement(k.Z,{optOutSystemHandler:this.optOutSystem})))))}}]),l}(d().Component);L.propTypes={fetchSystemDetails:f().func,systemDetails:f().object,optOutSystem:f().func,match:f().object,addNotification:f().func,intl:f().any,errors:f().object};const A=(0,v.EN)((0,w.ZP)((0,m.$j)((function(t){return{errors:t.SystemCvesStore.cveList.payload.errors,systemDetails:t.entityDetails}}),(function(t){return{optOutSystem:function(e,n){return t((0,O.DP)(e,n))},fetchSystemDetails:function(e){return t((0,O.o0)(e))},addNotification:function(e){return t((0,l.wN)(e))}}}))(L)))}}]);
//# sourceMappingURL=../sourcemaps/SystemDetailsPage.d306832b3c900edc287b.js.map