"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[774],{98489:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(4942),i=n(86350),o=n(83215),a=n(45697),s=n.n(a),c=n(77865),u=n.n(c),l=n(28216),d=n(5977),f=n(83594),y=n(41740),p=n(24788),m=function(e){var t=e.entity,n=e.isOptOut,r=e.optOutSystemHandler,i=e.loaded;return t&&i&&n?u().createElement(p.QJ,{buttonAction:function(){return r(!1)}}):u().createElement(y.QE,{entity:{id:null==t?void 0:t.id,display_name:null==t?void 0:t.display_name},allowedCveActions:["EDIT_STATUS","REMEDIATE"],showHeaderLabel:!0,setPageTitle:!0})};m.propTypes={entity:s().object,isOptOut:s().bool,loaded:s().bool,optOutSystemHandler:s().func};const O=(0,d.EN)((0,l.$j)((function(e){var t=e.entityDetails;return{entity:t.entity,isOptOut:t.opt_out,loaded:t.loaded}}),null)(m));var b=n(75910);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={loaded:!1},D=n(83296),_=n(75115),j=n(74806),h=n(52837),S=n(30893),P=n(38775),Z=n(53895),w=n(33902);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=e.fetchSystemDetails,n=e.systemDetails,r=void 0===n?{}:n,o=e.optOutSystem,a=e.match,s=e.addNotification,l=e.intl,d=e.errors,f=a.params.inventoryId;(0,c.useEffect)((function(){t(f)}),[t,f]);var y=function(e){return{exclude:{success:{variant:"success",title:l.formatMessage(S.Z.notificationExcludeSuccess,{count:1,systemName:e})},failure:{variant:"danger",autoDismiss:!1,title:l.formatMessage(S.Z.notificationExcludeFailureTitle,{count:1,systemName:e}),description:l.formatMessage(S.Z.notificationDetailExcludeFailureBody,{count:1})}},include:{success:{variant:"success",title:l.formatMessage(S.Z.notificationIncludeSuccessTitle,{count:1,systemName:e}),description:l.formatMessage(S.Z.notificationIncludeSuccessBody,{count:1})},failure:{variant:"danger",autoDismiss:!1,title:l.formatMessage(S.Z.notificationIncludeFailureTitle,{count:1,systemName:e}),description:l.formatMessage(S.Z.notificationDetailIncludeFailureBody,{count:1})}}}},p=function(e){o(f,e).then((function(){var n=r.entity.display_name;t(f),s(e?y(n).exclude.success:y(n).include.success)})).catch((function(t){var n=r.entity.display_name;s("503"===t.status?h.iF:e?y(n).exclude.failure:y(n).include.failure)}))},m=r.opt_out,v=void 0!==m&&m,j=r.entity,T=r.loaded;return u().createElement(P.Z,null,u().createElement(_.Z,{title:"",breadcrumbs:[{title:h.yy.systemsPage.title,to:h.yy.systemsPage.to,loaded:!0},{title:(null==j?void 0:j.display_name)||l.formatMessage(S.Z.invalidSystem),isActive:!0,loaded:T}]},!d&&u().createElement(Z.Z,{onLoad:function(e){var t=e.mergeWithEntities,n=e.mergeWithDetail,r=e.INVENTORY_ACTION_TYPES;D.Z.register(N(N({},t()),n(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case b.up+"_FULFILLED":return E(E({},n),r.payload.data);case e.LOAD_ENTITY_FULFILLED:return E(E({},n),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return u().createElement(O,{optOutSystemHandler:t})}}]});case e.LOAD_ENTITY_REJECTED:return E(E({},n),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return u().createElement(O,null)}}]});default:return n}}}(r,p))))},hideBack:!0,actions:j&&[v?{title:l.formatMessage(S.Z.inventoryKebabOptionsResume),onClick:function(){return p(!1)}}:{title:l.formatMessage(S.Z.inventoryKebabOptionsExclude),onClick:function(){return p(!0)}}]})),u().createElement(i.Z,null,u().createElement(w.Z,{optOutSystemHandler:p})))};I.propTypes={fetchSystemDetails:s().func,systemDetails:s().object,optOutSystem:s().func,match:s().object,addNotification:s().func,intl:s().any,errors:s().object};const L=(0,d.EN)((0,j.ZP)((0,l.$j)((function(e){return{errors:e.SystemCvesStore.cveList.payload.errors,systemDetails:e.entityDetails}}),(function(e){return{optOutSystem:function(t,n){return e((0,f.DP)(t,n))},fetchSystemDetails:function(t){return e((0,f.o0)(t))},addNotification:function(t){return e((0,o.wN)(t))}}}))(I)))}}]);
//# sourceMappingURL=../sourcemaps/SystemDetailsPage.854bc8ef794d629f5852a99f747eb6f9.js.map