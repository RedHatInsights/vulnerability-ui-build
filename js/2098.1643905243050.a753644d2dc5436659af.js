(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[2098],{66123:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(77865),a=n.n(r),i=n(45697),s=n.n(i),c=n(98446),o=n(20167),l=n(43846),u=n(24788),f=function(e){switch(e.code){case 403:return a().createElement(u.bY,null);case 404:return a().createElement(c.Z,null);case 500:case 502:case 503:return a().createElement(o.Z,null);default:return a().createElement(l.Z,null)}};f.propTypes={code:s().number};const p=f},95351:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(4942),a=n(29439),i=n(44612),s=n(32132),c=n(23279),o=n.n(c),l=n(77865),u=n.n(l);const f=function(e,t,n,c,l){var f=u().useState(),p=(0,a.Z)(f,2),m=p[0],d=p[1],v=u().useState((function(){return o()((function(t){var n;void 0!==t&&l((n={},(0,r.Z)(n,e,t),(0,r.Z)(n,"page",1),n))}),400)})),y=(0,a.Z)(v,1)[0];return u().useEffect((function(){return d(c)}),[c]),{type:i.Y.text,label:s.N.formatMessage(t),key:e,filterValues:{"aria-label":"search-field",id:"search-".concat(t.id),onChange:function(e,t){d(t),y(t)},placeholder:s.N.formatMessage(n),value:m}}}},66761:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(93433),a=n(4942),i=n(29439),s=n(77865),c=n.n(s),o=n(45697),l=n.n(o),u=n(80236),f=n(47173),p=n(68774),m=n(68340),d=n(61282),v=n(31765),y=n(81217),h=n(31487),b=n(27511),g=n(14087),O=n(79851),w=n(34512),_=n(30893),j=n(32132);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=e.appliedColumns,n=e.applyColumns,a=e.isModalOpen,o=e.setModalOpen,l=(0,s.useState)(t.map((function(e){var t;return Z(Z({},e),{},{isShown:null!==(t=e.isShown)&&void 0!==t?t:e.isShownByDefault})}))),k=(0,i.Z)(l,2),E=k[0],P=k[1];return c().createElement(u.u,{title:j.N.formatMessage(_.Z.columnManagementModalTitle),onClose:function(){return o(!1)},isOpen:a,variant:"small",description:c().createElement(p.D,null,c().createElement(m.x,{component:m.q.p},j.N.formatMessage(_.Z.columnManagementModalDescription)),c().createElement(O.P,{hasGutter:!0},c().createElement(w.J,null,c().createElement(f.zx,{isInline:!0,onClick:function(){var e=(0,r.Z)(E);e=e.map((function(e){return Z(Z({},e),{},{isShown:!0})})),P(e)},variant:"link"},j.N.formatMessage(_.Z.columnManagementModalSelectAll))),c().createElement(w.J,null,c().createElement(f.zx,{isInline:!0,onClick:function(){P(E.map((function(e){var t;return Z(Z({},e),{},{isShown:null!==(t=e.isShownByDefault)&&void 0!==t&&t})})))},variant:"link"},j.N.formatMessage(_.Z.columnManagementModalResetToDefault))))),actions:[c().createElement(f.zx,{key:"save",variant:"primary",onClick:function(){o(!1),n(E)}},j.N.formatMessage(_.Z.save)),c().createElement(f.zx,{key:"cancel",variant:"secondary",onClick:function(){o(!1),P(t)}},j.N.formatMessage(_.Z.cancel))]},c().createElement(v.FR,{"aria-label":"Table column management",id:"table-column-management",isCompact:!0},E.map((function(e,t){return c().createElement(d.L,{key:e.key},c().createElement(y.V,null,c().createElement(h.$,{checked:e.isShown,id:"checkbox-"+t,onChange:function(){return function(e){var t=(0,r.Z)(E),n=Z({},t[e]);n.isShown=!n.isShown,t[e]=n,P(t)}(t)},isDisabled:e.isUnhidable}),c().createElement(g.p,{dataListCells:[c().createElement(b.K,{key:"table-column-management-item"+t},c().createElement("label",{htmlFor:"checkbox-"+t},e.title))]})))}))))};E.propTypes={appliedColumns:l().arrayOf(l().object).isRequired,applyColumns:l().func.isRequired,isModalOpen:l().bool.isRequired,setModalOpen:l().func.isRequired};const P=E},62215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(4942),a=n(15861),i=n(71002),s=n(43144),c=n(15671),o=n(87757),l=n.n(o),u=n(35240),f=n(32132),p=n(30893),m=n(78733);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const y=new((0,s.Z)((function e(){var t=this;(0,c.Z)(this,e),this.filename=function(e){switch(e){case"reports":return"vulnerability_cves-report--".concat((new Date).toISOString().split("T")[0]);case"systems-exposed":return"vulnerability_systems-exposed-".concat(t.params.cve,"--").concat(t.defaultParams.date);case"system-list":return"vulnerability_systems--".concat(t.defaultParams.date);default:return"vulnerability_cves--".concat(t.defaultParams.date)}},this.checkTypes=function(e,n,r){if("function"!=typeof e)throw"exec expects the 1st param to be funtion. Received ".concat((0,i.Z)(e));if(!t.pages.includes(n))throw"Page ".concat(n," does not exist");if(!t.formats.includes(r))throw"Format ".concat(r," is not supported")},this.exec=function(){var e=(0,a.Z)(l().mark((function e(n,r,a,i,s,c){var o,f,p,d,y;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(t.notifications.start),t.checkTypes(n,i,a),t.params.cve=(null==r?void 0:r.id)||null,e.prev=3,e.next=6,n(v(v(v(v({},r.id&&{id:r.id}),r),t.defaultParams),{},{data_format:a,report:"true"}));case 6:return o=e.sent,f=o.payload,e.next=10,f;case 10:p=e.sent,d=p.data,y="json"===a?JSON.stringify(d):d,(0,u.Sv)(y,t.filename(i),a),c(),s(t.notifications.success),e.next=23;break;case 18:throw e.prev=18,e.t0=e.catch(3),c(),s("403"===e.t0.status?m._V:t.notifications.failure),"".concat(e.t0);case 23:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t,n,r,a,i,s){return e.apply(this,arguments)}}(),this.defaultParams={page:1,page_size:Math.min(Number.MAX_SAFE_INTEGER,9007199254740991),date:(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc"},this.params={cve:null},this.pages=["systems-exposed","system-cves","cves","system-list"],this.formats=["csv","json"],this.notifications={start:{variant:"info",title:f.N.formatMessage(p.Z.notificationReportDownloadStart)},success:{variant:"success",title:f.N.formatMessage(p.Z.notificationReportDownloadSuccess)},failure:{variant:"danger",autoDismiss:!1,title:f.N.formatMessage(p.Z.notificationReportDownloadFailureTitle),description:f.N.formatMessage(p.Z.notificationReportDownloadFailureBody)}}})))},15248:(e,t,n)=>{"use strict";n.d(t,{A6:()=>f,lO:()=>p,HV:()=>m,DU:()=>d,vH:()=>v,Yy:()=>y});var r=n(4942),a=n(30893),i=n(78733),s=n(32132),c=n(18446),o=n.n(c);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e,t,n){return n({page:t})},p=function(e,t,n){return n({page_size:t,page:1})},m=function(e){return{onSelect:function(t,n){return e.downloadReport(n)}}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.filter,r=e.advisory,c=function(e,n){return i.Oq[e].items.reduce((function(r,a){if(n===a.value)r.name=a.label,r.value=a.value;else if("rule_presence"===e){var s=t.find((function(e){return e.value===n}));["true","false"].includes(n)?r.name=i.Oq.rule_presence.items.find((function(e){return e.value===n})).label:r.name=s&&s.label||n,r.value=n}return r}),{})},o=function(e,t){return e.reduce((function(e,n){return e.push(c(t,n)),e}),[])},l=function(e,t){return Object.keys(e).includes(t)&&!["",void 0].includes(e[t])},u=Object.keys(i.Oq).reduce((function(t,n){if("rule_presence"===n&&(l(e,"rule_presence")||l(e,"rule"))){var r=[].concat(e.rule_presence?e.rule_presence.split(","):[],e.rule?e.rule.split(","):[]);t.push({key:n,multiValue:r,category:i.Oq[n].title,chips:o(r,n)})}else if("cvss_filter"===n&&(l(e,"cvss_from")||l(e,"cvss_to"))){var a=e.cvss_from&&parseFloat(e.cvss_from).toFixed(1)||"0.0",s=e.cvss_to&&parseFloat(e.cvss_to).toFixed(1)||"10.0";"0.0"===a&&"10.0"===s||t.push({key:n,category:i.Oq[n].title,chips:[{name:"".concat(a," - ").concat(s)}]})}else if(l(e,n)){var u="string"==typeof e[n]&&e[n].split(","),f=u&&u.length>1&&o(u,n)||[c(n,e[n])];t.push({key:n,multiValue:u,category:i.Oq[n].title,chips:f})}return t}),[]);return n&&u.push({key:"filter",category:s.N.formatMessage(a.Z.searchLabel),chips:[{name:n}]}),r&&u.push({key:"advisory",category:s.N.formatMessage(a.Z.advisory),chips:[{name:r}]}),u},v=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r)return e(t,n),void n(u(u({},a),{},{page:1}));var i=t.reduce((function(e,t){if("rule_presence"===t.key){var n=t.multiValue.filter((function(e){return!t.chips.some((function(t){return t.value===e}))}));e.rule_presence=n.filter((function(e){return["true","false"].includes(e)})).join(",")||"",e.rule=n.filter((function(e){return!["true","false"].includes(e)})).join(",")||""}else"filter"===t.key||"advisory"===t.key||t.multiValue&&1===t.multiValue.length?e[t.key]="":"cvss_filter"===t.key?(e.cvss_filter=void 0,e.cvss_from=void 0,e.cvss_to=void 0):e[t.key]=t.multiValue.filter((function(e){return!t.chips.some((function(t){return t.value===e}))})).join(",");return""===e[t.key]&&(e[t.key]=void 0),e}),{});n(u(u({},i),{},{page:1}))},y=function(e,t,n){return e=n.reduce((function(t,n){return u(u({},t),e[n]&&(0,r.Z)({},n,e[n]))}),{}),o()(e,t)}},70347:()=>{},18192:()=>{},23055:()=>{},25238:()=>{}}]);
//# sourceMappingURL=../sourcemaps/2098.d7c8ca5a757b1366539a57416d2bcc87.js.map