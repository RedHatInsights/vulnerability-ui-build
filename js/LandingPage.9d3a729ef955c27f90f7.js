(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[13],{30012:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ie});var r=n(25558),o=n.n(r),c=n(89583),a=n(91067),l=n(59713),i=n.n(l),s=n(319),u=n.n(s),p=n(63038),f=n.n(p),m=n(44981),d=n(81159),v=n(34023),b=n(59912),y=n(67006),g=n(67754),h=n(81815),O=n(96282),E=n(39005),C=n(67154),S=n.n(C),j=n(45697),w=n.n(j),P=n(72573),k=n(62851),_=n(29515),D=n(52906),x=n(27272);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=e.context,n=e.header,c=e.entity,a=t.cves,l=t.methods,i=t.selectedCves,s=t.openedCves,p=0===a.data.length,f=a.data&&a.data.map((function(e){return i.includes(e.id)&&M(M({},e),{},{selected:!0})||e})).map((function(e,t){var n=t%2==0?s.includes(e.id):void 0;return M(M({},e),{},{isOpen:n})}));return o().createElement(r.Fragment,null,a.isLoading?o().createElement(k.c,{colSize:7,rowSize:20}):o().createElement(r.Fragment,null,o().createElement(P.Table,{canSelectAll:!1,"aria-label":"Vulnerability CVE table",cells:n,rows:p?function(){var e=t.cves;return[{heightAuto:!0,cells:[{props:{colSpan:8},title:0!==["filter","cvss_from","cvss_to","public_from","public_to","impact","status_id"].filter((function(t){return Object.prototype.hasOwnProperty.call(e.meta,t)&&e.meta[t]})).length?y.Sl:c?y.dX:0===e.data.length&&y.vb}]}]}():f,onSelect:p?void 0:function(e,n,r){var o=t.cves,c=t.methods,a=o.data[r]&&o.data[r].id;c.selectCves(n,a)},onCollapse:p?void 0:function(e,t){return l.openCves(t)},actionResolver:0!==a.data.length?function(e,t){return(0,D.hA)(l,t.rowIndex)}:void 0,sortBy:p?void 0:(0,h.hO)([{key:"collapse"},{key:"checkbox"}].concat(u()(n)),a.meta.sort),onSort:p?void 0:function(e,t,r){return(0,h.L6)(t,r,[{key:"collapse"},{key:"checkbox"}].concat(u()(n)),a.meta.sort,l.apply)},ouiaId:"cves-table",isStickyHeader:!0},o().createElement(r.Fragment,null,o().createElement(P.TableHeader,null),o().createElement(P.TableBody,null))),o().createElement(_.f,null,o().createElement(x.Z,{meta:a.meta,apply:l.apply}))))};I.propTypes={context:w().any,header:w().array,entity:w().object};const R=function(e){return o().createElement(ae.Consumer,null,(function(t){return o().createElement(I,S()({context:t},e))}))};var B=n(74806),V=n(18623),F=n(57721),H=n(74268),T=n(47835),L=n(9038),A=n(11550);const z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.affecting,r=function(t){var n=[!1,!1];t.forEach((function(e){n[e]=!0}));var r=n.join(",");e({affecting:"false,false"===r?"":r,page:1})};return{label:A.N.formatMessage(V.Z.affectsSystems),type:L.conditionalFilterType.checkbox,urlParam:"affecting",filterValues:{onChange:function(e,t){r(t)},items:b.qr.map((function(e){return{label:e.label,value:e.value}})),value:null==n?void 0:n.split(",").flatMap((function(e,t){return"true"===(null==e?void 0:e.toLowerCase())?t.toString():[]}))}}};var N=n(84589),U=n(52663),X=n(96184),Y=n(16721),$=n(58671),q=n(34970),G=n(61369),W=n(16343),J=n(66780),K=n(25032);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e){var t=(0,r.useState)(!1),n=f()(t,2),c=n[0],a=n[1],l=e.context,i=l.cves,s=l.params,u=l.methods,p=l.selectedCves,m=l.expandCveDescription,d=s.filter,v=p&&p.length,b=(0,H.Z)({selectedItems:p,selectorHandler:u.selectCves,items:i,fetchResource:function(e){return(0,F.cW)(ee(ee({},s),e))},multiRow:!0}),y=["",{label:e.intl.formatMessage(V.Z.editBusinessRisk),onClick:function(){return u.showBusinessRiskModal(p.map((function(e){return{id:e,business_risk_id:"0"}})))},props:{isDisabled:!v}},{label:e.intl.formatMessage(V.Z.editStatus),onClick:function(){return u.showStatusModal(p.map((function(e){return{id:e,status_id:"0"}}),[]))},props:{isDisabled:!v}},{label:m?e.intl.formatMessage(V.Z.kebabCollapseCves):e.intl.formatMessage(V.Z.kebabExpandCves),onClick:function(){var t=e.context,n=t.cves,r=t.methods,o=t.expandCveDescription?[]:n.data.filter((function(e){return e.id})).map((function(e){return e.id}));r.openCves(o)},props:{isDisabled:0===i.meta.total_items}}];return o().createElement(o().Fragment,null,o().createElement(T.U,{pagination:{itemCount:i.meta.total_items||0,page:i.meta.page||1,perPage:i.meta.page_size||1,ouiaId:"pagination-top",onSetPage:function(e,t){return(0,K.A6)(e,t,u.apply)},onPerPageSelect:function(e,t){return(0,K.lO)(e,t,u.apply)}},actionsConfig:{actions:y,dropdownProps:{ouiaId:"toolbar-actions"}},bulkSelect:{count:v,items:b.items,isDisabled:0===i.meta.total_items&&0===v,checked:Boolean(v),ouiaId:"bulk-select",onSelect:function(){return b.handleOnCheckboxChange()}},filterConfig:{items:[(0,Y.Z)("filter",V.Z.cve,V.Z.searchFilterByCveID,d,u.apply),(0,$.Z)(u.apply,s),(0,X.Z)(u.apply,s),(0,U.Z)(u.apply,s),(0,q.Z)(u.apply,s),(0,G.Z)(u.apply,s),(0,N.Z)(u.apply,s),z(u.apply,s)]},activeFiltersConfig:{filters:(0,K.DU)(s),onDelete:function(e,t){return(0,K.vH)(t,u.apply)}},exportConfig:ee({isDisabled:0===i.meta.total_items,extraItems:[(0,W.Ec)(c,a)],ouiaId:"export"},(0,K.HV)(u))}),c&&o().createElement(J.Z,{showButton:!1,type:"cves",params:s,filters:(0,K.DU)(s),onSuccess:function(){return a(!1)}}))};te.propTypes={context:w().object,intl:w().object},te.defaultProps={totalNumber:0,apply:function(){},downloadReport:function(){}};const ne=(0,B.ZP)((function(e){return o().createElement(ae.Consumer,null,(function(t){return o().createElement(te,S()({context:t},e))}))}));var re=n(64739),oe=n(90017);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ae=o().createContext({});const le=function(){var e=(0,m.useDispatch)(),t=(0,r.useState)((function(){return function(){return null}})),n=f()(t,2),c=n[0],a=n[1],l=(0,r.useState)((function(){return function(){return null}})),s=f()(l,2),p=s[0],C=s[1],S=(0,r.useState)(!1),j=f()(S,2),w=j[0],P=j[1],k=(0,r.useState)(!0),_=f()(k,2),D=_[0],x=_[1],Z=(0,m.useSelector)((function(e){return e.CVEsStore.cveList})),M=(0,m.useSelector)((function(e){return e.CVEsStore.parameters})),I=(0,m.useSelector)((function(e){return e.CVEsStore.selectedCves})),B=(0,m.useSelector)((function(e){return e.CVEsStore.openedCves})),V=(0,m.useSelector)((function(e){return e.CVEsStore.expandCveDescription})),H=(0,r.useMemo)((function(){return(0,g.c_)(Z)}),[Z]),T=(0,h.H1)(["show_irrelevant"].concat(u()(b.kO))),L=f()(T,2),A=L[0],z=L[1],N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,h.pX)(t);e((0,F.yM)(n))};return(0,r.useEffect)((function(){D?(N(A),x(!1)):(e((0,F.jh)(M)),w&&z(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},M))||P(!0))}),[M]),(0,r.useEffect)((function(){return function(){e((0,F.Ss)())}}),[]),H.errors?(e((0,oe.clearNotifications)()),y.pY):o().createElement(ae.Provider,{value:{cves:H,params:M,selectedCves:I,openedCves:B,expandCveDescription:V,methods:{apply:N,downloadReport:function(e){re.Z.exec(F.jh,M,e,"cves")},selectCves:function(t,n){e((0,F.EY)(n||[]))},showBusinessRiskModal:function(e){var t=H.meta;C((function(){return function(){return o().createElement(O.Z,{cves:e,updateRef:function(){return(0,h.$)(t,N)}})}}))},showStatusModal:function(e){var t=H.meta;a((function(){return function(){return o().createElement(E.Z,{cves:e,updateRef:function(){return(0,h.$)(t,N)}})}}))},openCves:function(t){e((0,F.Rk)(t))}}}},o().createElement(p,null),o().createElement(c,null),o().createElement(d.Stack,null,o().createElement(v.StackItem,null,o().createElement(ne,null)),o().createElement(v.StackItem,null,o().createElement(R,{header:b.GL}))))},ie=function(){return o().createElement(r.Fragment,null,o().createElement(a.Z,{showBreadcrumb:!1}),o().createElement(c.o,null,o().createElement(le,null)))}}}]);
//# sourceMappingURL=LandingPage.9d3a729ef955c27f90f7.js.map