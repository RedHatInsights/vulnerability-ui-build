(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[13],{30012:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>fe});var r=n(25558),o=n.n(r),a=n(86350),c=n(91067),i=n(59713),s=n.n(i),l=n(319),u=n.n(l),p=n(63038),f=n.n(p),d=n(276),m=n(49739),v=n(83826),b=n(59912),y=n(67754),g=n(81815),h=n(96282),O=n(39005),E=n(67154),j=n.n(E),_=n(45697),S=n.n(_),w=n(3351),C=n(22860),P=n(6934),k=n(75863),x=n(75959),Z=n(32875),D=n(52906),R=n(27272),M=n(67006);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(e){var t=e.context,n=e.header,a=e.entity,c=t.cves,i=t.methods,s=t.selectedCves,l=t.expandedRows,p=0===c.data.length,f=c.data&&c.data.map((function(e){return s.includes(e.id)&&I(I({},e),{},{selected:!0})||e})).map((function(e,t){var n=t%2==0?l.includes(e.id):void 0;return I(I({},e),{},{isOpen:n})}));return o().createElement(r.Fragment,null,c.isLoading?o().createElement(x.Z,{colSize:7,rowSize:20,variant:k.B.compact}):o().createElement(r.Fragment,null,o().createElement(w.i,{canSelectAll:!1,"aria-label":"Vulnerability CVE table",cells:n,rows:p?function(){var e=t.cves;return[{heightAuto:!0,cells:[{props:{colSpan:8},title:0!==["filter","cvss_from","cvss_to","public_from","public_to","impact","status_id"].filter((function(t){return Object.prototype.hasOwnProperty.call(e.meta,t)&&e.meta[t]})).length?M.Sl:a?M.dX:0===e.data.length&&M.vb}]}]}():f,onSelect:p?void 0:function(e,n,r){var o=t.cves,a=t.methods,c=o.data[r]&&o.data[r].id;a.selectCves(n,c)},onCollapse:p?void 0:function(e,t){return i.openCves(t)},actionResolver:0!==c.data.length?function(e,t){return(0,D.hA)(i,t.rowIndex)}:void 0,sortBy:p?void 0:(0,g.hO)([{key:"collapse"},{key:"checkbox"}].concat(u()(n)),c.meta.sort),onSort:p?void 0:function(e,t,r){return(0,g.L6)(t,r,[{key:"collapse"},{key:"checkbox"}].concat(u()(n)),c.meta.sort,i.apply)},ouiaId:"cves-table",isStickyHeader:!0,variant:k.B.compact},o().createElement(r.Fragment,null,o().createElement(P.x,null),o().createElement(C.R,null))),o().createElement(Z.Z,null,o().createElement(R.Z,{meta:c.meta,apply:i.apply}))))};V.propTypes={context:S().any,header:S().array,entity:S().object};const A=function(e){return o().createElement(ue.Consumer,null,(function(t){return o().createElement(V,j()({context:t},e))}))};var F=n(74806),L=n(18623),H=n(57721),z=n(74268),N=n(49629),T=n(89421),U=n(11550);const X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.affecting,r=function(t){var n=[!1,!1];t.forEach((function(e){n[e]=!0}));var r=n.join(",");e({affecting:"false,false"===r?"":r,page:1})};return{label:U.N.formatMessage(L.Z.filterSystemsExposed),type:T.Yu.checkbox,urlParam:"affecting",filterValues:{onChange:function(e,t){r(t)},items:b.qr.map((function(e){return{label:e.label,value:e.value}})),value:null==n?void 0:n.split(",").flatMap((function(e,t){return"true"===(null==e?void 0:e.toLowerCase())?t.toString():[]}))}}};var Y=n(84589),$=n(52663),q=n(96184),G=n(16721),K=n(58671),W=n(34970),J=n(61369),Q=n(16343),ee=n(39602),te=n(25032);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=function(e){var t=(0,r.useState)(!1),n=f()(t,2),a=n[0],c=n[1],i=e.context,s=i.cves,l=i.params,u=i.methods,p=i.selectedCves,d=i.isAllExpanded,m=l.filter,v=p&&p.length,b=(0,z.Z)({selectedItems:p,selectorHandler:u.selectCves,items:s,fetchResource:function(e){return(0,H.cW)(re(re({},l),e))},multiRow:!0}),y=["",{label:e.intl.formatMessage(L.Z.editBusinessRisk),onClick:function(){return u.showBusinessRiskModal(s.data.filter((function(e){return p.includes(e.id)})).map((function(e){return{id:e.id,business_risk_id:e.business_risk_id,business_risk_text:e.business_risk_justification}})))},props:{isDisabled:!v}},{label:e.intl.formatMessage(L.Z.editStatus),onClick:function(){return u.showStatusModal(s.data.filter((function(e){return p.includes(e.id)})).map((function(e){return{id:e.id,exposed_systems_count:e.exposed_systems_count,justification:e.status_justification,status_id:e.status_id}}),[]))},props:{isDisabled:!v}},{label:d?e.intl.formatMessage(L.Z.kebabCollapseCves):e.intl.formatMessage(L.Z.kebabExpandCves),onClick:function(){var t=e.context,n=t.cves,r=t.methods,o=t.isAllExpanded?[]:n.data.filter((function(e){return e.id})).map((function(e){return e.id}));r.openCves(o)},props:{isDisabled:0===s.meta.total_items}}];return o().createElement(o().Fragment,null,o().createElement(N.Z,{pagination:{itemCount:s.meta.total_items||0,page:s.meta.page||1,perPage:s.meta.page_size||1,ouiaId:"pagination-top",onSetPage:function(e,t){return(0,te.A6)(e,t,u.apply)},onPerPageSelect:function(e,t){return(0,te.lO)(e,t,u.apply)}},actionsConfig:{actions:y,dropdownProps:{ouiaId:"toolbar-actions"}},bulkSelect:{count:v,items:b.items,isDisabled:0===s.meta.total_items&&0===v,checked:Boolean(v),ouiaId:"bulk-select",onSelect:function(){return b.handleOnCheckboxChange()}},filterConfig:{items:[(0,G.Z)("filter",L.Z.cve,L.Z.searchFilterByCveID,m,u.apply),(0,K.Z)(u.apply,l),(0,q.Z)(u.apply,l),(0,$.Z)(u.apply,l),(0,W.Z)(u.apply,l),(0,J.Z)(u.apply,l),(0,Y.Z)(u.apply,l),X(u.apply,l)]},activeFiltersConfig:{filters:(0,te.DU)(l),onDelete:function(e,t){return(0,te.vH)(t,u.apply)}},exportConfig:re({isDisabled:0===s.meta.total_items,extraItems:[(0,Q.Ec)(a,c)],ouiaId:"export"},(0,te.HV)(u))}),a&&o().createElement(ee.Z,{showButton:!1,params:l,filters:(0,te.DU)(l),onSuccess:function(){return c(!1)}}))};oe.propTypes={context:S().object,intl:S().object},oe.defaultProps={totalNumber:0,apply:function(){},downloadReport:function(){}};const ae=(0,F.ZP)((function(e){return o().createElement(ue.Consumer,null,(function(t){return o().createElement(oe,j()({context:t},e))}))}));var ce=n(64739),ie=n(83215),se=n(55409);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ue=o().createContext({});const pe=function(){var e=(0,d.useDispatch)(),t=(0,r.useState)((function(){return function(){return null}})),n=f()(t,2),a=n[0],c=n[1],i=(0,r.useState)((function(){return function(){return null}})),l=f()(i,2),p=l[0],E=l[1],j=(0,r.useState)(!1),_=f()(j,2),S=_[0],w=_[1],C=(0,r.useState)(!0),P=f()(C,2),k=P[0],x=P[1],Z=(0,d.useSelector)((function(e){return e.CVEsStore.cveList})),D=(0,d.useSelector)((function(e){return e.CVEsStore.parameters})),R=(0,d.useSelector)((function(e){return e.CVEsStore.selectedCves})),M=(0,d.useSelector)((function(e){return e.CVEsStore.expandedRows})),B=(0,d.useSelector)((function(e){return e.CVEsStore.isAllExpanded})),I=(0,r.useMemo)((function(){return(0,y.c_)(Z)}),[Z]),V=(0,g.H1)(["show_irrelevant"].concat(u()(b.kO))),F=f()(V,2),L=F[0],z=F[1],N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,g.pX)(t);e((0,H.yM)(n))};return(0,r.useEffect)((function(){k?(N(L),x(!1)):(e((0,H.jh)(D)),S&&z(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},D))||w(!0))}),[D]),(0,r.useEffect)((function(){return function(){e((0,H.Ss)()),e((0,ie.L1)())}}),[e]),I.errors?o().createElement(se.Z,{code:parseInt(I.errors.status)}):o().createElement(ue.Provider,{value:{cves:I,params:D,selectedCves:R,expandedRows:M,isAllExpanded:B,methods:{apply:N,downloadReport:function(e){ce.Z.exec(H.jh,D,e,"cves")},selectCves:function(t,n){e((0,H.EY)(n||[]))},showBusinessRiskModal:function(e){var t=I.meta;E((function(){return function(){return o().createElement(h.Z,{cves:e,updateRef:function(){return(0,g.$)(t,N)}})}}))},showStatusModal:function(e){var t=I.meta;c((function(){return function(){return o().createElement(O.Z,{cves:e,updateRef:function(){return(0,g.$)(t,N)}})}}))},openCves:function(t){e((0,H.Rk)(t))}}}},o().createElement(p,null),o().createElement(a,null),o().createElement(m.K,null,o().createElement(v.v,null,o().createElement(ae,null)),o().createElement(v.v,null,o().createElement(A,{header:b.GL}))))},fe=function(){return o().createElement(r.Fragment,null,o().createElement(c.Z,{showBreadcrumb:!1}),o().createElement(a.Z,null,o().createElement(pe,null)))}}}]);
//# sourceMappingURL=LandingPage.6fc75d98d73a21e76171.js.map