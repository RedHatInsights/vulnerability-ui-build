"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[966],{74372:(e,t,a)=>{a.d(t,{Z:()=>E});var n=a(29439),s=a(83115),i=a(59775),l=a(92504),r=a(49739),o=a(83826),u=a(23393),c=a(45697),f=a.n(c),m=a(77865),d=a.n(m),v=a(71478),p=a(78733),g=a(91709),b=a(74806),h=a(30893),Z=function(e){var t=e.cves,a=e.updateRef,c=e.intl,f=(0,m.useState)(t),b=(0,n.Z)(f,1)[0],Z=(0,m.useState)("0"),E=(0,n.Z)(Z,2),_=E[0],S=E[1],k=(0,m.useState)(),M=(0,n.Z)(k,2),y=M[0],I=M[1],x=(0,m.useCallback)((function(){I(b&&1===b.length&&b[0].justification||"")}),[b]);(0,m.useEffect)((function(){S(b&&1===b.length&&b[0].business_risk_id.toString()||"0"),x()}),[t,x,b]),(0,m.useEffect)(x,[x]);var C=function(e,t){var a=t.currentTarget.value;S(a)},R={variant:"success",title:c.formatMessage(h.Z.notificationBusinessRiskUpdateSuccessful,{count:b.length||0})},P={variant:"danger",autoDismiss:!1,title:c.formatMessage(h.Z.notificationBusinessRiskUpdateFailureTitle),description:c.formatMessage(h.Z.notificationBusinessRiskUpdateFailureBody)};return d().createElement(g.ZP,{items:b,onSave:function(){return(0,v.le)({business_risk_id:parseInt(_),cve:b.map((function(e){return e.id})),business_risk_text:y}).then(a).catch((function(e){throw e}))},onSuccessNotification:R,onFailureNotification:P,title:c.formatMessage(h.Z.businessRiskModalTitle),ouiaId:"business-risk-modal"},d().createElement(r.K,{hasGutter:!0},d().createElement(o.v,null,c.formatMessage(h.Z.businessRiskModalInfo)),d().createElement(o.v,null,d().createElement(s.l,null,d().createElement(i.c,{label:c.formatMessage(h.Z.businessRiskLabel),fieldId:"businessRiskId"},p.eF.map((function(e){return d().createElement(l.Y,{className:"business-risk-radio",value:e.value,isChecked:_===e.value,onChange:C,label:e.label,key:e.value,id:e.value,name:e.label,"aria-label":e.label,ouiaId:"business-risk-radio"})}))),d().createElement(i.c,{label:c.formatMessage(h.Z.justificationLabel),fieldId:"label"},d().createElement(u.Kx,{type:"text",onChange:function(e){I(e)},value:y,resizeOrientation:"vertical","aria-label":"justification",style:{minHeight:"2.25rem"}}))))))};Z.propTypes={cves:f().array,updateRef:f().func,intl:f().any};const E=(0,b.ZP)(Z)},19738:(e,t,a)=>{a.d(t,{Z:()=>k});var n=a(29439),s=a(93149),i=a(83115),l=a(59775),r=a(79851),o=a(34512),u=a(49739),c=a(83826),f=a(35224),m=a(53688),d=a(91290),v=a(45697),p=a.n(v),g=a(77865),b=a.n(g),h=a(71478),Z=a(91709),E=a(74806),_=a(30893),S=function(e){var t=e.cves,a=e.updateRef,v=e.intl,p=(0,g.useState)(t),E=(0,n.Z)(p,1)[0],S=(0,Z.Hb)(E&&E.every((function(e){return e.status_id===E[0].status_id}))&&E[0].status_id.toString()||"0"),k=S.StatusSelect,M=S.statusId,y=S.setProps,I=(0,Z.fj)(E&&E.every((function(e){return e.justification===E[0].justification}))&&E[0].justification||""),x=I.JustificationInput,C=I.justification,R=(0,g.useState)(!1),P=(0,n.Z)(R,2),T=P[0],j=P[1],w=E.filter((function(e){return e.exposed_systems_count>0})).map((function(e){return e.id}));(0,g.useEffect)((function(){y({ouiaId:"status-select"})}),[y]);var F={variant:"success",title:v.formatMessage(_.Z.notificationStatusUpdateSuccessful,{count:E.length||0})},N={variant:"danger",autoDismiss:!1,title:v.formatMessage(_.Z.notificationStatusUpdateFailureTitle),description:v.formatMessage(_.Z.notificationStatusUpdateFailureBody)},U=v.formatMessage(_.Z.cveStatusModalTitle,{count:E.length||0});return b().createElement(Z.ZP,{items:E,onSave:function(){return Promise.all([(0,h.xn)({cve:E.map((function(e){return e.id})),status_id:parseInt(M),status_text:C})].concat([!T&&w.length>0&&(0,h.cr)({cve:w,status_id:parseInt(M),status_text:C})])).then((function(){return a(!T)})).catch((function(e){throw e}))},onSuccessNotification:F,onFailureNotification:N,title:U,ouiaId:"status-modal"},b().createElement(u.K,{hasGutter:!0},b().createElement(c.v,null,v.formatMessage(_.Z.cveStatusModalSelected,{count:E.length||0,cveId:E[0].id,b:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return b().createElement("b",null,t)}})),b().createElement(c.v,null,b().createElement(m.ZP,{className:"pf-u-mr-xs",fontSize:"var(--pf-global--FontSize--md)",color:"var(--pf-global--active-color--300)"}),v.formatMessage(_.Z.cveStatusModalInfo,{count:E.length||0}),b().createElement(f.u,{content:v.formatMessage(_.Z.cveStatusModalInfoTooltip)},b().createElement(d.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)"}))),b().createElement(c.v,null,b().createElement(i.l,{key:"key"},k,x,w.length>0&&b().createElement(l.c,{fieldId:"overwrite"},b().createElement(r.P,null,b().createElement(o.J,null,b().createElement(s.X,{label:v.formatMessage(_.Z.cveStatusModalOverwriteCheckbox),id:"alt-form-checkbox-1",name:"alt-form-checkbox-1",isChecked:T,onChange:function(e){return j(e)}})),b().createElement(o.J,null,b().createElement(f.u,{content:v.formatMessage(_.Z.cveStatusModalOverwriteTooltip)},b().createElement(d.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)",style:{verticalAlign:"0"}})))))))))};S.propTypes={cves:p().array,updateRef:p().func,intl:p().any};const k=(0,E.ZP)(S)}}]);
//# sourceMappingURL=../sourcemaps/966.4179e45ffd36380241c2d596b35c106f.js.map