(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[545],{16721:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(59713),i=n.n(r),u=n(63038),c=n.n(u),l=n(80712),o=n(11550),s=n(23279),a=n.n(s),f=n(25558),d=n.n(f);const v=function(e,t,n,r,u){var s=d().useState(),f=c()(s,2),v=f[0],p=f[1],y=d().useState((function(){return a()((function(t){var n;void 0!==t&&u((n={},i()(n,e,t),i()(n,"page",1),n))}),400)})),m=c()(y,1)[0];return d().useEffect((function(){return p(r)}),[r]),{type:l.Yu.text,label:o.N.formatMessage(t),filterValues:{"aria-label":"search-field",id:"search-".concat(t.id),onChange:function(e,t){p(t),m(t)},placeholder:o.N.formatMessage(n),value:v}}}},25032:(e,t,n)=>{"use strict";n.d(t,{A6:()=>a,lO:()=>f,HV:()=>d,DU:()=>v,vH:()=>y});var r=n(59713),i=n.n(r),u=n(18623),c=n(59912),l=n(11550);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(e,t,n){return n({page:t})},f=function(e,t,n){return n({page_size:t,page:1})},d=function(e){return{onSelect:function(t,n){return e.downloadReport(n)}}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.filter,r=e.advisory,i=function(e,n){return c.Oq[e].items.reduce((function(r,i){if(n===i.value)r.name=i.label,r.value=i.value;else if("security_rule"===e){var u=t.find((function(e){return e.value===n}));["true","false"].includes(n)?r.name=c.Oq.security_rule.items.find((function(e){return e.value===n})).label:r.name=u&&u.label||n,r.value=n}return r}),{})},o=function(e,t){return e.reduce((function(e,n){return e.push(i(t,n)),e}),[])},s=Object.keys(c.Oq).reduce((function(t,n){if("security_rule"!==n||["",void 0].includes(e.rule_presence)&&["",void 0].includes(e.rule_key)){if("affecting"===n&&Object.keys(e).includes("affecting")&&!["",void 0].includes(e.affecting)){var r,u=[].concat(null===(r=e.affecting)||void 0===r?void 0:r.split(",").flatMap((function(e,t){return"true"===(null==e?void 0:e.toLowerCase())?t.toString():[]})));t.push({key:n,multiValue:u,category:c.Oq[n].title,chips:o(u,n)})}else if("excluded"===n&&Object.keys(e).includes("excluded")&&!["",void 0].includes(e.excluded)){var l,s=[].concat(null===(l=e.excluded)||void 0===l?void 0:l.split(",").flatMap((function(e,t){return"true"===(null==e?void 0:e.toLowerCase())?t.toString():[]})));t.push({key:n,multiValue:s,category:c.Oq[n].title,chips:o(s,n)})}else if("cvss_filter"===n&&(Object.keys(e).includes("cvss_from")||Object.keys(e).includes("cvss_to"))){var a=e.cvss_from&&parseFloat(e.cvss_from).toFixed(1)||"0.0",f=e.cvss_to&&parseFloat(e.cvss_to).toFixed(1)||"10.0";"0.0"===a&&"10.0"===f||t.push({key:n,category:c.Oq[n].title,chips:[{name:"".concat(a," - ").concat(f)}]})}else if(Object.keys(e).includes(n)&&!["",void 0].includes(e[n])){var d="string"==typeof e[n]&&e[n].split(","),v=d&&d.length>1&&o(d,n)||[i(n,e[n])];t.push({key:n,multiValue:d,category:c.Oq[n].title,chips:v})}}else{var p=[].concat(e.rule_presence?e.rule_presence.split(","):[],e.rule_key?e.rule_key.split(","):[]);t.push({key:n,multiValue:p,category:c.Oq[n].title,chips:o(p,n)})}return t}),[]);return n&&s.push({key:"filter",category:l.N.formatMessage(u.Z.searchLabel),chips:[{name:n}]}),r&&s.push({key:"advisory",category:l.N.formatMessage(u.Z.advisory),chips:[{name:r}]}),s},p=["affecting","excluded"],y=function(e,t){t(s(s({},e.reduce((function(e,t){if("security_rule"===t.key){var n=t.multiValue.filter((function(e){return!t.chips.some((function(t){return t.value===e}))}));e.rule_presence=n.filter((function(e){return["true","false"].includes(e)})).join(",")||"",e.rule_key=n.filter((function(e){return!["true","false"].includes(e)})).join(",")||""}else if(p.includes(t.key)){var r=t.multiValue.filter((function(e){return!t.chips.some((function(t){return t.value===e}))})),i=[!1,!1];r.forEach((function(e){i[e]=!0}));var u=i.join(",");e[t.key]="false,false"===u?"":i.join(",")}else"filter"===t.key||"advisory"===t.key||t.multiValue&&1===t.multiValue.length?e[t.key]="":"cvss_filter"===t.key?(e.cvss_filter=void 0,e.cvss_from=void 0,e.cvss_to=void 0):e[t.key]=t.multiValue.filter((function(e){return!t.chips.some((function(t){return t.value===e}))})).join(",");return e}),{})),{},{page:1}))}},74268:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(93386),i=n.n(r),u=n(18623),c=n(11550);const l=function(e){var t=e.selectedItems,n=e.selectorHandler,r=e.items,l=e.fetchResource,o=e.multiRow,s=void 0!==o&&o,a=Array.from(t),f=a&&a.length,d=r.meta,v=r.data,p=v&&(Array.isArray(v)&&v.length&&s?v.length/2:v.length),y=function(){n(!1,[])},m=function(){var e=(l&&l({page_size:d.total_items,page:1})).payload;e&&e.then((function(e){var t=e.data.map((function(e){return e.id&&e.id||e}));n(!0,t)}))};return{handleOnCheckboxChange:function(){0===f?m():y()},items:[{title:c.N.formatMessage(u.Z.selectNone),onClick:y},{title:"".concat(c.N.formatMessage(u.Z.selectPage,{count:p})),onClick:function(){var e=r.data,t=i()(e.filter((function(e){return e.id})).map((function(e){return e.id})),a);n(!0,t)}},{title:"".concat(c.N.formatMessage(u.Z.selectAll,{count:d.total_items?d.total_items:0})),onClick:m}]}}}}]);
//# sourceMappingURL=545.1437cc77ff16d68aa2f6.js.map