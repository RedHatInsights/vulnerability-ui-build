"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[450],{37450:(e,t,n)=>{n.d(t,{lm:()=>h,U:()=>_,a9:()=>O,ZS:()=>w});var r=n(29439),a=n(15861),i=n(45987),o=n(4942),c=n(87757),s=n.n(c),u=n(77865),l=n(28216),f=n(86896),d=n(83215),m=n(83594),p=n(30893),v=n(52837),g=["msg"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=(0,l.I0)(),n=b({variant:"info"},e);return(0,u.useEffect)((function(){return function(){e.preventClear||t((0,d.L1)())}}),[t]),[function(e){var r=e.msg,a=(0,i.Z)(e,g);return t((0,d.wN)(b(b({title:r},n),a)))},function(){return t((0,d.L1)())}]},_=function(e,t){var n=t.id,r=t.setUrlParams,i=function(){var t=(0,a.Z)(s().mark((function t(a,i){var o,c,u,l,f,d,m,p,v,g;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=i.orderBy,l=i.orderDirection,f=i.page,d=i.per_page,m=i.vulnerabilityParams,p="".concat("ASC"===l?"":"-").concat(u),v=b(b({},m),{},{page:f,page_size:d,sort:p}),r(b({},v)),t.next=6,e(b(b({},n&&{id:n}),v));case 6:return g=t.sent,t.abrupt("return",{results:null==g||null===(o=g.data)||void 0===o?void 0:o.map((function(e){return b({id:e.id},e.attributes)})),total:null==g||null===(c=g.meta)||void 0===c?void 0:c.total_items});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return i},O=function(e){var t=h({variant:"success"}),n=(0,r.Z)(t,1)[0],a=h({variant:"danger",autoDismiss:!1}),i=(0,r.Z)(a,1)[0],o=(0,l.I0)(),c=(0,f.Z)();return function(t,r,a){var s=Object.keys(t).length;o((0,m.R0)(Object.keys(t),a)).then((function(){n(a?{msg:c.formatMessage(p.Z.notificationExcludeSuccess,{count:s,systemName:r})}:{msg:c.formatMessage(p.Z.notificationIncludeSuccessTitle,{count:s,systemName:r}),description:c.formatMessage(p.Z.notificationIncludeSuccessBody)})})).catch((function(e){i("503"===e.status?v.iF:a?{msg:c.formatMessage(p.Z.notificationExcludeFailureTitle,{count:s,systemName:r}),description:c.formatMessage(p.Z.notificationExcludeFailureBody,{count:s})}:{msg:c.formatMessage(p.Z.notificationIncludeFailureTitle,{count:s,systemName:r}),description:c.formatMessage(p.Z.notificationIncludeFailureBody,{count:s})})})).finally(e)}},Z=function(e){var t=e.id,n=e.inventory_id;return{id:t||n,selected:!0}},w=function(e){var t=e.rawData,n=e.selectedRows,r=e.selectedRowsCount,i=e.handleSelect,o=e.fetchResource,c=e.multiRow,u=void 0!==c&&c,l=(0,f.Z)(),d=t.meta,m=t.data,v=m&&(Array.isArray(m)&&m.length&&u?m.length/2:m.length),g=function(){var e=[];Object.keys(n).forEach((function(t){return e.push({id:t,selected:!1}),e})),i(e)},y=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({page_size:d.total_items,page:1});case 2:e.sent.payload.then((function(e){var t=e.data;return i(t.map(Z))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{count:r,checked:!!r,isDisabled:0===d.total_items&&0===r,ouiaId:"bulk-select",items:[{title:l.formatMessage(p.Z.selectNone),onClick:g},{title:"".concat(l.formatMessage(p.Z.selectPage,{count:v})),onClick:function(){var e=(null!=t?t:{}).data;i(null==e?void 0:e.map(Z))}},{title:"".concat(l.formatMessage(p.Z.selectAll,{count:d.total_items?d.total_items:0})),onClick:y}],onSelect:function(){return r?g():y()}}}}}]);
//# sourceMappingURL=../sourcemaps/450.ac2df62a6a61a2946594d4fb5cac771b.js.map