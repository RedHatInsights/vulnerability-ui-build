"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[3774],{39591:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(45987),o=n(77865),a=n.n(o),i=n(45697),c=function(e){var t=e.component,n=(0,r.Z)(e,["component"]);return(0,o.useEffect)((function(){console.error("Unable to load iventory component. Failed to load ".concat(t,"."),n)}),[]),a().createElement("div",null,a().createElement("h1",null,"Unable to load inventory component"),a().createElement("h2",null,"Failed to load ",t),a().createElement("code",null,"More info can be found in browser console output."))};c.propTypes={component:n.n(i)().string};const l=c},3054:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var r=n(4942),o=n(29439),a=n(86350),i=n(83215),c=n(45697),l=n.n(c),s=n(77865),u=n.n(s),p=n(28216),d=n(5977),f=n(83594),m=n(93433),y=n(46096),b=n(24788),E=n(6023),v=n(32132),O=n(30893),g=function(e){var t=e.entity,n=e.isOptOut,r=e.optOutSystemHandler,o=e.loaded,a=e.rbacPermissions,i=e.isRbacLoading,c=a.canExport,l=a.canReadVulnerabilityResults,s=a.canEditPairStatus,p=a.canReadExcluded,d=["REMEDIATE"].concat((0,m.Z)(s?["EDIT_STATUS"]:[]));return i?u().createElement(E.Z,{centered:!0}):l?t&&o&&n?p?u().createElement(b.QJ,{buttonAction:function(){return r(t.display_name,!1)}}):u().createElement(b.bY,{title:v.N.formatMessage(O.Z.notAuthorizedNoAccessForSystem)}):u().createElement(y.QE,{entity:{id:null==t?void 0:t.id,display_name:null==t?void 0:t.display_name},allowedCveActions:d,showHeaderLabel:!0,setPageTitle:!0,canExport:c}):u().createElement(b.bY,null)};g.propTypes={entity:l().object,isOptOut:l().bool,loaded:l().bool,optOutSystemHandler:l().func,rbacPermissions:l().object,isRbacLoading:l().bool};const Z=(0,p.$j)((function(e){var t=e.entityDetails;return{entity:t.entity,isOptOut:t.opt_out,loaded:t.loaded}}),null)(g);var _=n(75910);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={loaded:!1},R=n(83296),D=n(75115),k=n(74806),S=n(78733),I=n(87462),T=n(54025),w=n(52643),N=n(2372),x=n(39591),L=function(e){var t=(0,d.k6)(),n=(0,p.oR)();return u().createElement(s.Suspense,{fallback:e.fallback},u().createElement(T.ScalprumComponent,(0,I.Z)({history:t,store:n,appName:"inventory",module:"./DetailWrapper",scope:"inventory",ErrorComponent:u().createElement(x.Z,(0,I.Z)({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e)))};L.propTypes={fallback:l().node,innerRef:l().object};var C=u().forwardRef((function(e,t){return u().createElement(L,(0,I.Z)({innerRef:t},e))}));C.propTypes={fallback:l().node},C.defaultProps={fallback:u().createElement(w.b,{className:"pf-u-p-lg"},u().createElement(N.$,{size:"xl"}))};const A=C;var M=function(e){var t=(0,d.k6)(),n=(0,p.oR)();return u().createElement(s.Suspense,{fallback:e.fallback},u().createElement(T.ScalprumComponent,(0,I.Z)({history:t,store:n,appName:"inventory",module:"./InventoryDetailHead",scope:"inventory",ErrorComponent:u().createElement(x.Z,(0,I.Z)({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e)))};M.propTypes={fallback:l().node,innerRef:l().object};var F=u().forwardRef((function(e,t){return u().createElement(M,(0,I.Z)({innerProps:t},e))}));F.propTypes={fallback:l().node},F.defaultProps={fallback:u().createElement(w.b,{className:"pf-u-p-lg"},u().createElement(N.$,{size:"xl"}))};const H=F;var V=function(e){var t=(0,d.k6)(),n=(0,p.oR)();return u().createElement(s.Suspense,{fallback:e.fallback},u().createElement(T.ScalprumComponent,(0,I.Z)({history:t,store:n,appName:"inventory",module:"./AppInfo",scope:"inventory",ErrorComponent:u().createElement(x.Z,(0,I.Z)({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e)))};V.propTypes={fallback:l().node,innerRef:l().object};var Y=u().forwardRef((function(e,t){return u().createElement(V,(0,I.Z)({innerRef:t},e))}));Y.propTypes={fallback:l().node},Y.defaultProps={fallback:u().createElement(w.b,{className:"pf-u-p-lg"},u().createElement(N.$,{size:"xl"}))};const $=Y;var B=n(37450);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(e){var t=e.systemDetails,n=void 0===t?{}:t,r=e.intl,c=e.errors,l=(0,p.I0)(),m=(0,d.$B)(),y=(0,B.Wu)([S._I.setExcludedIncluded,S._I.basicReporting,S._I.readVulnerabilityResults,S._I.setPairStatus,S._I.readExcluded]),b=(0,o.Z)(y,2),E=(0,o.Z)(b[0],5),v=E[0],g=E[1],P=E[2],k=E[3],I=E[4],T=b[1],w={canExport:g,canReadVulnerabilityResults:P,canEditPairStatus:k,canReadExcluded:I},N=m.params.inventoryId;(0,s.useEffect)((function(){l((0,f.o0)(N))}),[l,N]),(0,s.useEffect)((function(){return function(){l((0,i.L1)())}}),[l]);var x=function(e){return{exclude:{success:{variant:"success",title:r.formatMessage(O.Z.notificationExcludeSuccess,{count:1,systemName:e})},failure:{variant:"danger",autoDismiss:!1,title:r.formatMessage(O.Z.notificationExcludeFailureTitle,{count:1,systemName:e}),description:r.formatMessage(O.Z.notificationDetailExcludeFailureBody,{count:1})}},include:{success:{variant:"success",title:r.formatMessage(O.Z.notificationIncludeSuccessTitle,{count:1,systemName:e}),description:r.formatMessage(O.Z.notificationIncludeSuccessBody,{count:1})},failure:{variant:"danger",autoDismiss:!1,title:r.formatMessage(O.Z.notificationIncludeFailureTitle,{count:1,systemName:e}),description:r.formatMessage(O.Z.notificationDetailIncludeFailureBody,{count:1})}}}},L=function(e,t){l((0,f.R0)([N],t)).then((function(){l((0,f.o0)(N)),l((0,i.wN)(t?x(e).exclude.success:x(e).include.success))})).catch((function(n){l((0,i.wN)("503"===n.status?S.iF:t?x(e).exclude.failure:x(e).include.failure))}))},C=n.opt_out,M=void 0!==C&&C,F=n.entity,V=n.loaded;return u().createElement(A,null,u().createElement(D.Z,{title:"",breadcrumbs:[{title:S.yy.systemsPage.title,to:S.yy.systemsPage.to,loaded:!0},{title:(null==F?void 0:F.display_name)||r.formatMessage(O.Z.invalidSystem),isActive:!0,loaded:V}]},!c&&u().createElement(H,{onLoad:function(e){var t=e.mergeWithEntities,n=e.mergeWithDetail,r=e.INVENTORY_ACTION_TYPES;R.Z.register(z(z({},t()),n(function(e,t,n,r){return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case _.up+"_FULFILLED":return h(h({},o),a.payload.data);case e.LOAD_ENTITY_FULFILLED:return h(h({},o),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return u().createElement(Z,{rbacPermissions:n,optOutSystemHandler:t,isRbacLoading:r})}}]});case e.LOAD_ENTITY_REJECTED:return h(h({},o),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return u().createElement(Z,null)}}]});default:return o}}}(r,L,w,T))))},hideBack:!0,actions:F&&v&&[M?{title:r.formatMessage(O.Z.inventoryKebabOptionsResume),onClick:function(){return L(n.entity.display_name,!1)}}:{title:r.formatMessage(O.Z.inventoryKebabOptionsExclude),onClick:function(){return L(n.entity.display_name,!0)}}]})),u().createElement(a.Z,null,u().createElement($,{optOutSystemHandler:L,rbacPermissions:w,isRbacLoading:T})))};W.propTypes={systemDetails:l().object,intl:l().any,errors:l().object};const J=(0,k.ZP)((0,p.$j)((function(e){return{errors:e.SystemCvesStore.cveList.payload.errors,systemDetails:e.entityDetails}}),null)(W))}}]);
//# sourceMappingURL=../sourcemaps/SystemDetailsPage.3003a85bf35c4f7e88954912c9691942.js.map