"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[13],{53651:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ye});var r=n(77865),o=n.n(r),a=n(44012),s=n(79706),l=n(91290),c=n(15265),i=n(30893),u=n(86350),p=n(75115),d=n(4942),f=n(93433),m=n(29439),v=n(28216),b=n(49739),y=n(83826),E=n(78733),h=n(52064),g=n(29648),O=n(74372),Z=n(19738),S=n(87462),w=n(45697),C=n.n(w),_=n(3351),P=n(22860),j=n(6934),k=n(75863),x=n(75959),R=n(43003),D=n(5938),M=n(24788);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(e){var t=e.context,n=e.header,a=e.canEditStatusOrBusinessRisk,s=t.cves,l=t.methods,c=t.selectedCves,u=t.expandedRows,p=0===s.data.length,d=s.data&&s.data.map((function(e){return c.includes(e.id)&&I(I({},e),{},{selected:!0})||e})).map((function(e,t){var n=t%2==0?u.includes(e.id):void 0;return I(I({},e),{},{isOpen:n})}));return s.isLoading?o().createElement(x.Z,{colSize:null==n?void 0:n.length,rowSize:20,variant:k.B.compact}):o().createElement(r.Fragment,null,o().createElement(_.i,{canSelectAll:!1,"aria-label":"Vulnerability CVE table",cells:n,rows:p?[{heightAuto:!0,cells:[{props:{colSpan:null==n?void 0:n.length},title:o().createElement(M.lP,{secondParagraph:"true"===t.params.affecting?i.Z.emptyStateYourSystemsShouldHaveCVEs:i.Z.emptyStateThereShouldBeCVEs})}]}]:d,onSelect:p?void 0:function(e,n,r){var o=t.cves,a=t.methods,s=o.data[r]&&o.data[r].id;a.selectCves(n,s)},onCollapse:p?void 0:function(e,t){return l.openCves(t)},actionResolver:a&&s.data.length>0?function(e,t){return(0,R.hA)(l,t.rowIndex)}:void 0,sortBy:p?void 0:(0,g.hO)([{key:"collapse"},{key:"checkbox"}].concat((0,f.Z)(n)),s.meta.sort),onSort:p?void 0:function(e,t,r){return(0,g.L6)(t,r,[{key:"collapse"},{key:"checkbox"}].concat((0,f.Z)(n)),s.meta.sort,l.apply)},ouiaId:"cves-table",isStickyHeader:!0,variant:k.B.compact},o().createElement(j.x,null),o().createElement(P.R,null)),o().createElement(D.Z,{meta:s.meta,apply:l.apply}))};V.propTypes={context:C().any,header:C().array,canEditStatusOrBusinessRisk:C().bool};const A=function(e){return o().createElement(ve.Consumer,null,(function(t){return o().createElement(V,(0,S.Z)({context:t},e))}))};var H=n(74806),F=n(83594),L=n(93400),T=n(49629),Y=n(44612),N=n(32132);const z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.affecting,r=function(t){e({affecting:t.length>0?null==t?void 0:t.join(","):void 0,page:1})};return{label:N.N.formatMessage(i.Z.filterSystemsExposed),type:Y.Y.checkbox,urlParam:"affecting",filterValues:{onChange:function(e,t){r(t)},items:E.qr.map((function(e){return{label:e.label,value:e.value}})),value:null==n?void 0:n.split(",")}}};var U=n(95859),q=n(9088),W=n(90960),$=n(95351),J=n(16369),K=n(35938),X=n(54534),G=n(1792),Q=n(41489),ee=n(33084),te=n(15248);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=function(e){var t=(0,r.useState)(!1),n=(0,m.Z)(t,2),a=n[0],s=n[1],l=e.context,c=e.canEditStatusOrBusinessRisk,u=e.canExport,p=l.cves,d=l.params,v=l.methods,b=l.selectedCves,y=l.isAllExpanded,h=l.selectedRowsRawData,g=d.filter,O=b&&b.length,Z=(0,L.Z)({selectedItems:b,selectorHandler:v.selectCves,items:p,fetchResource:function(e){return(0,F.cW)(re(re({},d),e))},multiRow:!0}),S=[""].concat((0,f.Z)(c?[{label:e.intl.formatMessage(i.Z.editBusinessRisk),onClick:function(){return v.showBusinessRiskModal(h.map((function(e){var t=e.id,n=e.attributes;return{id:t,business_risk_id:n.business_risk_id,justification:n.business_risk_text}})),!0)},props:{isDisabled:!O}},{label:e.intl.formatMessage(i.Z.editStatus),onClick:function(){return v.showStatusModal(h.map((function(e){var t=e.id,n=e.attributes;return{id:t,exposed_systems_count:n.systems_affected,justification:n.status_text,status_id:n.status_id}}),[]),!0)},props:{isDisabled:!O}}]:[]),[{label:e.intl.formatMessage(i.Z.columnManagementModalTitle),onClick:function(){return v.setColumnModalOpen(!0)}}]);return o().createElement(o().Fragment,null,o().createElement(T.Z,{pagination:{isDisabled:0===p.meta.total_items,itemCount:p.meta.total_items||0,page:p.meta.page||1,perPage:p.meta.page_size||1,ouiaId:"pagination-top",onSetPage:function(e,t){return(0,te.A6)(e,t,v.apply)},onPerPageSelect:function(e,t){return(0,te.lO)(e,t,v.apply)}},actionsConfig:{actions:S,dropdownProps:{ouiaId:"toolbar-actions"}},bulkSelect:{count:O,items:Z.items,isDisabled:0===p.meta.total_items&&0===O,checked:Boolean(O),ouiaId:"bulk-select",onSelect:function(){return Z.handleOnCheckboxChange()}},filterConfig:{items:[(0,$.Z)("filter",i.Z.cve,i.Z.searchFilterByCveID,g,v.apply),(0,J.Z)(v.apply,d),(0,X.Z)(v.apply,d),(0,W.Z)(v.apply,d),(0,q.Z)(v.apply,d),(0,K.Z)(v.apply,d),z(v.apply,d),(0,U.Z)(v.apply,d),(0,G.Z)(v.apply,d)]},activeFiltersConfig:{filters:(0,te.DU)(d),onDelete:function(e,t,n){return(0,te.vH)(t,v.apply,n,E.MM)},deleteTitle:e.intl.formatMessage(i.Z.resetFilters),showDeleteButton:!(0,te.Yy)(d,E.MM,E.fU)},exportConfig:u&&re({isDisabled:0===p.meta.total_items,extraItems:[(0,Q.Ec)(a,s)],ouiaId:"export"},(0,te.HV)(v)),expandAll:{isAllExpanded:y,onClick:function(){var t=e.context,n=t.cves,r=t.methods,o=t.isAllExpanded?[]:n.data.filter((function(e){return e.id})).map((function(e){return e.id}));r.openCves(o)}}}),a&&o().createElement(ee.Z,{showButton:!1,params:d,filters:(0,te.DU)(d),onSuccess:function(){return s(!1)}}))};oe.propTypes={context:C().object,intl:C().object,canEditStatusOrBusinessRisk:C().bool,canExport:C().bool},oe.defaultProps={totalNumber:0,apply:function(){},downloadReport:function(){}};const ae=(0,H.ZP)((function(e){return o().createElement(ve.Consumer,null,(function(t){return o().createElement(oe,(0,S.Z)({context:t},e))}))}));var se=n(62215),le=n(83215),ce=n(66123),ie=n(66761),ue=n(12140),pe=n(6023),de=n(37450);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=o().createContext({});const be=function(){var e=(0,v.I0)(),t=(0,r.useState)((function(){return function(){return null}})),n=(0,m.Z)(t,2),a=n[0],s=n[1],l=(0,r.useState)((function(){return function(){return null}})),c=(0,m.Z)(l,2),i=c[0],u=c[1],p=(0,r.useState)(!1),d=(0,m.Z)(p,2),S=d[0],w=d[1],C=(0,r.useState)(!1),_=(0,m.Z)(C,2),P=_[0],j=_[1],k=(0,de.Wu)([E._I.setCveStatusAndBusinessRisk,E._I.basicReporting,E._I.readVulnerabilityResults]),x=(0,m.Z)(k,2),R=(0,m.Z)(x[0],3),D=R[0],B=R[1],I=R[2],V=x[1],H=(0,v.v9)((function(e){return e.CVEsStore.cveList})),L=(0,v.v9)((function(e){return e.CVEsStore.parameters})),T=(0,v.v9)((function(e){return e.CVEsStore.columns})),Y=(0,v.v9)((function(e){return e.CVEsStore.selectedCves})),N=(0,v.v9)((function(e){return e.CVEsStore.selectedRowsRawData})),z=(0,v.v9)((function(e){return e.CVEsStore.expandedRows})),U=(0,v.v9)((function(e){return e.CVEsStore.isAllExpanded})),q=(0,r.useMemo)((function(){return(0,h.c_)(H,T)}),[H,T]),W=(0,g.H1)(["show_irrelevant"].concat((0,f.Z)(E.kO))),$=(0,m.Z)(W,2),J=$[0],K=$[1],X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,g.pX)(t);e((0,F.yM)(n))};return(0,r.useEffect)((function(){X(J)}),[]),(0,ue.ZP)((function(){e((0,F.jh)(L)),S?K(me({},L)):w(!0)}),[L]),(0,r.useEffect)((function(){return function(){e((0,F.Ss)()),e((0,le.L1)())}}),[e]),q.errors?o().createElement(ce.Z,{code:parseInt(q.errors.status)}):V?o().createElement(pe.Z,{centered:!0}):I?o().createElement(ve.Provider,{value:{cves:q,selectedRowsRawData:N,params:L,selectedCves:Y,expandedRows:z,isAllExpanded:U,methods:{apply:X,downloadReport:function(t){se.Z.exec(F.jh,L,t,"cves",(function(t){return e((0,le.wN)(t))}),(function(){return e((0,le.L1)())}))},selectCves:function(t,n){e((0,F.EY)(n||[]))},showBusinessRiskModal:function(t,n){var r=q.meta;u((function(){return function(){return o().createElement(O.Z,{cves:t,updateRef:function(){e((0,F.Ss)()),(0,g.$)(n?me(me({},r),{},{page:1}):r,L,X)}})}}))},showStatusModal:function(t,n){var r=q.meta;s((function(){return function(){return o().createElement(Z.Z,{cves:t,updateRef:function(){e((0,F.Ss)()),(0,g.$)(n?me(me({},r),{},{page:1}):r,L,X)}})}}))},openCves:function(t){e((0,F.Rk)(t))},setColumnModalOpen:j}}},o().createElement(i,null),o().createElement(a,null),o().createElement(ie.Z,{appliedColumns:T,applyColumns:function(t){return e((0,F.vP)(t))},isModalOpen:P,setModalOpen:j}),o().createElement(b.K,null,o().createElement(y.v,null,o().createElement(ae,{canEditStatusOrBusinessRisk:D,canExport:B})),o().createElement(y.v,null,o().createElement(A,{header:T.filter((function(e){var t;return null!==(t=e.isShown)&&void 0!==t?t:e.isShownByDefault})),canEditStatusOrBusinessRisk:D})))):o().createElement(M.bY,null)},ye=function(){var e=o().createElement(s.J,{enableFlip:!0,position:"right",headerContent:o().createElement(a.Z,i.Z.ovalPopoverHeader),bodyContent:o().createElement(a.Z,i.Z.ovalPopoverBody),footerContent:o().createElement("a",{href:"https://access.redhat.com/documentation/en-us/red_hat_insights/2021/html/assessing_and_monitoring_security_vulnerabilities_on_rhel_systems/index",target:"__blank",rel:"noopener noreferrer"},o().createElement(a.Z,i.Z.learnMore)," ",o().createElement(c.ZP,null))},o().createElement("span",null,o().createElement(a.Z,i.Z.cvesHeader),o().createElement(l.ZP,{color:"var(--pf-global--secondary-color--100)",className:"pf-u-ml-sm pointer cves-header-questionmark",style:{verticalAlign:"0"}})));return o().createElement(r.Fragment,null,o().createElement(p.Z,{title:e,showBreadcrumb:!1}),o().createElement(u.Z,null,o().createElement(be,null)))}}}]);
//# sourceMappingURL=../sourcemaps/LandingPage.f759d6a5d51f52f481d04186a1f925ff.js.map