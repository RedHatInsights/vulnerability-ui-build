(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[602],{39602:(e,t,r)=>{"use strict";r.d(t,{Z:()=>A});var n=r(67154),a=r.n(n),s=r(87757),o=r.n(s),i=r(319),c=r.n(i),u=r(59713),p=r.n(u),l=r(48926),f=r.n(l),b=r(63038),m=r.n(b),v=r(6479),d=r.n(v),y=r(25558),g=r.n(y),_=r(45697),O=r.n(_),h=r(86896),P=r(58141),j=r(92339),D=r(81815),Z=r(37330),k=r(18623),w=r(58504),F=r(7255),R=r(64739),x=r(59912),E=r(89736),M=r(94949),S=r(25098);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=function(e){var t=e.filters,r=e.params,n=e.reportData,s=void 0===n?{}:n,i=e.buttonProps,u=e.isReportDynamic,p=void 0!==u&&u,l=e.label,b=d()(e,["filters","params","reportData","buttonProps","isReportDynamic","label"]),v=(0,h.Z)(),_=(0,y.useState)(!1),O=m()(_,2),N=O[0],C=O[1],A=(0,y.useState)(!1),H=m()(A,2),U=H[0],z=H[1],L=(0,S.l)(),q=function(e){return(0,D.F3)(e,(0,Z.s9)(s,r),!0)},B=function(){var e=f()(o().mark((function e(){var n,a,i,u,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),L({msg:v.formatMessage(k.Z.customReportNotificationCve)}),e.next=4,(0,j.dH)(T(T(T({},r),R.Z.defaultParams),{},{sort:r.sort||"-cvss_score",affecting:"true,false"}));case 4:if(n=e.sent,a=n.data,i=n.meta,!s||!s.userNotes){e.next=11;break}return e.next=10,insights.chrome.auth.getUser();case 10:u=e.sent;case 11:return a=a.map((function(e){var t;return T(T({},e),{},{attributes:T(T({},e.attributes),{},{status:x.Em.find((function(t){return t.value===e.attributes.status_id.toString()})).label,business_risk:x.eF.find((function(t){return t.value===e.attributes.business_risk_id.toString()})).label,impact:(null===(t=x.cv[e.attributes.impact])||void 0===t?void 0:t.title)||v.formatMessage(k.Z.impactListUnknown),cvss_score:parseFloat(e.attributes.cvss3_score||e.attributes.cvss2_score).toFixed(1)})})})),z((function(){var e,t=a.some((function(e){return e.attributes.rules.length>0}));return p?t&&s&&(null===(e=s.header)||void 0===e?void 0:e.includes("rule_presence")):t})),l=(0,w.Z)({data:a.splice(0,(0,Z.rg)(s,r)),meta:i,filters:t,intl:v,isReportDynamic:p,reportData:s,user:u,type:"cves"}),f=q(a),C(!1),e.abrupt("return",[l].concat(c()(f.map((function(e,t){return(0,F.Z)({data:e,page:t,intl:v,header:s&&s.header,type:"cves",isReportDynamic:p})})))));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g().createElement("div",null,g().createElement(P.o6,a()({},b,{label:N?v.formatMessage(k.Z.loading):v.formatMessage(l),asyncFunction:B,buttonProps:T({component:"button"},i),reportName:p?s.reportTitle:v.formatMessage(k.Z.cvePDFReportName),type:"",fileName:"".concat(R.Z.filename(p?"reports":""),".pdf"),allPagesHaveTitle:!1,size:"A4",orientation:"landscape",footer:U&&g().createElement(E.xv,{style:M.Z.footer},v.formatMessage(k.Z.customReportFooter))})))};C.defaultProps={label:k.Z.kebabExportAsPDF},C.propTypes={filters:O().oneOfType([O().array,O().object]),params:O().object,reportData:O().object,buttonProps:O().object,label:O().oneOfType([O().array,O().object]),isReportDynamic:O().bool};const A=C}}]);
//# sourceMappingURL=602.95568657a2553a231d5c.js.map