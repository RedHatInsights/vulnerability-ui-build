(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[3774],{98489:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>F});var r=n(96156),o=n(6610),i=n(5991),s=n(10379),c=n(46070),a=n(77608),u=n(86350),l=n(83215),p=n(45697),f=n.n(p),y=n(77865),d=n.n(y),m=n(14494),v=n(5977),O=n(9048),b=n(41740),h=n(24788);var E=function(t){(0,s.Z)(u,t);var e,n,r=(e=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,a.Z)(e);if(n){var o=(0,a.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,c.Z)(this,t)});function u(t){return(0,o.Z)(this,u),r.call(this,t)}return(0,i.Z)(u,[{key:"render",value:function(){var t=this.props,e=t.entity,n=t.isOptOut,r=t.optOutSystemHandler,o=t.loaded;return e&&o?n?d().createElement(d().Fragment,null,d().createElement(h.o0,{buttonAction:function(){return r(!1)}})):d().createElement(d().Fragment,null,d().createElement(b.QE,{entity:{id:e.id,display_name:e.display_name},allowedCveActions:["EDIT_STATUS","REMEDIATE"],showHeaderLabel:!0,setPageTitle:!0})):null}}]),u}(d().Component);E.propTypes={entity:f().object,isOptOut:f().bool,loaded:f().bool,optOutSystemHandler:f().func};const g=(0,v.EN)((0,m.connect)((function(t){var e=t.entityDetails;return{entity:e.entity,isOptOut:e.opt_out,loaded:e.loaded}}),null)(E));var D=n(75910);function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={loaded:!1},j=n(83296),P=n(23320),w=n(74806),R=n(6208),T=n(30893),I=n(38775),k=n(53895),A=n(33902);function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var C=function(t){(0,s.Z)(l,t);var e,n,r=(e=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,a.Z)(e);if(n){var o=(0,a.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,c.Z)(this,t)});function l(t){var e;return(0,o.Z)(this,l),(e=r.call(this,t)).optOutSystem=function(t){e.props.optOutSystem(e.state.inventoryId,t).then((function(){e.props.fetchSystemDetails(e.state.inventoryId),!0===t?e.props.addNotification({variant:"success",title:e.props.intl.formatMessage(T.Z.inventoryOptOutSuccess)}):e.props.addNotification({variant:"success",title:e.props.intl.formatMessage(T.Z.inventoryResumeAnalysisTitle),description:e.props.intl.formatMessage(T.Z.inventoryResumeAnalysisDescription)})}))},e.state={inventoryId:e.props.match.params.inventoryId},e}return(0,i.Z)(l,[{key:"componentDidMount",value:function(){this.props.fetchSystemDetails(this.state.inventoryId)}},{key:"render",value:function(){var t=this,e=this.props,n=e.systemDetails,r=void 0===n?{}:n,o=e.errors,i=r.opt_out,s=void 0!==i&&i,c=r.entity,a=r.loaded;return d().createElement(d().Fragment,null,d().createElement(I.Z,null,d().createElement(P.Z,{title:"",breadcrumbs:[{title:R.yy.systemsPage.title,to:R.yy.systemsPage.to,loaded:!0},{title:(null==c?void 0:c.display_name)||this.props.intl.formatMessage(T.Z.invalidSystem),isActive:!0,loaded:a}]},!o&&d().createElement(k.Z,{onLoad:function(e){var n=e.mergeWithEntities,r=e.mergeWithDetail,o=e.INVENTORY_ACTION_TYPES;j.Z.register(L(L({},n()),r(function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case D.up+"_FULFILLED":return Z(Z({},n),r.payload.data);case t.LOAD_ENTITY_FULFILLED:return Z(Z({},n),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return d().createElement(g,{optOutSystemHandler:e})}}]});case t.LOAD_ENTITY_REJECTED:return Z(Z({},n),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return d().createElement(g,null)}}]});default:return n}}}(o,t.optOutSystem))))},hideBack:!0,actions:c&&[s?{title:this.props.intl.formatMessage(T.Z.inventoryKebabOptionsResume),onClick:function(){return t.optOutSystem(!1)}}:{title:this.props.intl.formatMessage(T.Z.inventoryKebabOptionsExclude),onClick:function(){return t.optOutSystem(!0)}}]})),d().createElement(u.Z,null,d().createElement(d().Fragment,null,d().createElement(A.Z,{optOutSystemHandler:this.optOutSystem})))))}}]),l}(d().Component);C.propTypes={fetchSystemDetails:f().func,systemDetails:f().object,optOutSystem:f().func,match:f().object,addNotification:f().func,intl:f().any,errors:f().object};const F=(0,v.EN)((0,w.ZP)((0,m.connect)((function(t){return{errors:t.SystemCvesStore.cveList.payload.errors,systemDetails:t.entityDetails}}),(function(t){return{optOutSystem:function(e,n){return t((0,O.DP)(e,n))},fetchSystemDetails:function(e){return t((0,O.o0)(e))},addNotification:function(e){return t((0,l.wN)(e))}}}))(C)))}}]);
//# sourceMappingURL=../sourcemaps/SystemDetailsPage.8990eb97dd6d7f2d2bdb.js.map