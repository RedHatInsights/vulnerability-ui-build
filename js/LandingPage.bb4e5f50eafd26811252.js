"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[13],{53651:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ue});var r=n(77865),o=n.n(r),a=n(86350),c=n(75115),l=n(4942),s=n(93433),i=n(29439),u=n(28216),p=n(49739),f=n(83826),d=n(52837),m=n(52064),v=n(29648),b=n(74372),y=n(19738),g=n(87462),h=n(45697),O=n.n(h),E=n(3351),Z=n(22860),w=n(6934),C=n(75863),S=n(75959),j=n(43003),P=n(5938),_=n(24788),k=n(30893);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){var t=e.context,n=e.header,a=t.cves,c=t.methods,l=t.selectedCves,i=t.expandedRows,u=0===a.data.length,p=a.data&&a.data.map((function(e){return l.includes(e.id)&&D(D({},e),{},{selected:!0})||e})).map((function(e,t){var n=t%2==0?i.includes(e.id):void 0;return D(D({},e),{},{isOpen:n})}));return a.isLoading?o().createElement(S.Z,{colSize:7,rowSize:20,variant:C.B.compact}):o().createElement(r.Fragment,null,o().createElement(E.i,{canSelectAll:!1,"aria-label":"Vulnerability CVE table",cells:n,rows:u?[{heightAuto:!0,cells:[{props:{colSpan:8},title:o().createElement(_.lP,{secondParagraph:"true"===t.params.affecting?k.Z.emptyStateYourSystemsShouldHaveCVEs:k.Z.emptyStateThereShouldBeCVEs})}]}]:p,onSelect:u?void 0:function(e,n,r){var o=t.cves,a=t.methods,c=o.data[r]&&o.data[r].id;a.selectCves(n,c)},onCollapse:u?void 0:function(e,t){return c.openCves(t)},actionResolver:0!==a.data.length?function(e,t){return(0,j.hA)(c,t.rowIndex)}:void 0,sortBy:u?void 0:(0,v.hO)([{key:"collapse"},{key:"checkbox"}].concat((0,s.Z)(n)),a.meta.sort),onSort:u?void 0:function(e,t,r){return(0,v.L6)(t,r,[{key:"collapse"},{key:"checkbox"}].concat((0,s.Z)(n)),a.meta.sort,c.apply)},ouiaId:"cves-table",isStickyHeader:!0,variant:C.B.compact},o().createElement(w.x,null),o().createElement(Z.R,null)),o().createElement(P.Z,{meta:a.meta,apply:c.apply}))};M.propTypes={context:O().any,header:O().array};const R=function(e){return o().createElement(se.Consumer,null,(function(t){return o().createElement(M,(0,g.Z)({context:t},e))}))};var B=n(74806),V=n(83594),I=n(93400),A=n(49629),F=n(44612),H=n(32132);const L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.affecting,r=function(t){e({affecting:t.length>0?null==t?void 0:t.join(","):void 0,page:1})};return{label:H.N.formatMessage(k.Z.filterSystemsExposed),type:F.Y.checkbox,urlParam:"affecting",filterValues:{onChange:function(e,t){r(t)},items:d.qr.map((function(e){return{label:e.label,value:e.value}})),value:null==n?void 0:n.split(",")}}};var T=n(95859),Y=n(9088),z=n(90960),N=n(95351),U=n(16369),$=n(35938),q=n(54534),G=n(1792),K=n(41489),W=n(33084),X=n(15248);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e){var t=(0,r.useState)(!1),n=(0,i.Z)(t,2),a=n[0],c=n[1],l=e.context,s=l.cves,u=l.params,p=l.methods,f=l.selectedCves,m=l.isAllExpanded,v=l.selectedRowsRawData,b=u.filter,y=f&&f.length,g=(0,I.Z)({selectedItems:f,selectorHandler:p.selectCves,items:s,fetchResource:function(e){return(0,V.cW)(Q(Q({},u),e))},multiRow:!0}),h=["",{label:e.intl.formatMessage(k.Z.editBusinessRisk),onClick:function(){return p.showBusinessRiskModal(v.map((function(e){var t=e.id,n=e.attributes;return{id:t,business_risk_id:n.business_risk_id,justification:n.business_risk_text}})),!0)},props:{isDisabled:!y}},{label:e.intl.formatMessage(k.Z.editStatus),onClick:function(){return p.showStatusModal(v.map((function(e){var t=e.id,n=e.attributes;return{id:t,exposed_systems_count:n.systems_affected,justification:n.status_text,status_id:n.status_id}}),[]),!0)},props:{isDisabled:!y}},{label:e.intl.formatMessage(k.Z.columnManagementModalTitle),onClick:function(){return p.setColumnModalOpen(!0)}}];return o().createElement(o().Fragment,null,o().createElement(A.Z,{pagination:{itemCount:s.meta.total_items||0,page:s.meta.page||1,perPage:s.meta.page_size||1,ouiaId:"pagination-top",onSetPage:function(e,t){return(0,X.A6)(e,t,p.apply)},onPerPageSelect:function(e,t){return(0,X.lO)(e,t,p.apply)}},actionsConfig:{actions:h,dropdownProps:{ouiaId:"toolbar-actions"}},bulkSelect:{count:y,items:g.items,isDisabled:0===s.meta.total_items&&0===y,checked:Boolean(y),ouiaId:"bulk-select",onSelect:function(){return g.handleOnCheckboxChange()}},filterConfig:{items:[(0,N.Z)("filter",k.Z.cve,k.Z.searchFilterByCveID,b,p.apply),(0,U.Z)(p.apply,u),(0,q.Z)(p.apply,u),(0,z.Z)(p.apply,u),(0,Y.Z)(p.apply,u),(0,$.Z)(p.apply,u),L(p.apply,u),(0,T.Z)(p.apply,u),(0,G.Z)(p.apply,u)]},activeFiltersConfig:{filters:(0,X.DU)(u),onDelete:function(e,t,n){return(0,X.vH)(t,p.apply,n,d.MM)},deleteTitle:e.intl.formatMessage(k.Z.resetFilters),showDeleteButton:!(0,X.Yy)(u,d.MM,d.fU)},exportConfig:Q({isDisabled:0===s.meta.total_items,extraItems:[(0,K.Ec)(a,c)],ouiaId:"export"},(0,X.HV)(p)),expandAll:{isAllExpanded:m,onClick:function(){var t=e.context,n=t.cves,r=t.methods,o=t.isAllExpanded?[]:n.data.filter((function(e){return e.id})).map((function(e){return e.id}));r.openCves(o)}}}),a&&o().createElement(W.Z,{showButton:!1,params:u,filters:(0,X.DU)(u),onSuccess:function(){return c(!1)}}))};ee.propTypes={context:O().object,intl:O().object},ee.defaultProps={totalNumber:0,apply:function(){},downloadReport:function(){}};const te=(0,B.ZP)((function(e){return o().createElement(se.Consumer,null,(function(t){return o().createElement(ee,(0,g.Z)({context:t},e))}))}));var ne=n(62215),re=n(83215),oe=n(66123),ae=n(66761);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=o().createContext({});const ie=function(){var e=(0,u.I0)(),t=(0,r.useState)((function(){return function(){return null}})),n=(0,i.Z)(t,2),a=n[0],c=n[1],l=(0,r.useState)((function(){return function(){return null}})),g=(0,i.Z)(l,2),h=g[0],O=g[1],E=(0,r.useState)(!1),Z=(0,i.Z)(E,2),w=Z[0],C=Z[1],S=(0,r.useState)(!0),j=(0,i.Z)(S,2),P=j[0],_=j[1],k=(0,r.useState)(d.GL),x=(0,i.Z)(k,2),D=x[0],M=x[1],B=(0,r.useState)(!1),I=(0,i.Z)(B,2),A=I[0],F=I[1],H=(0,u.v9)((function(e){return e.CVEsStore.cveList})),L=(0,u.v9)((function(e){return e.CVEsStore.parameters})),T=(0,u.v9)((function(e){return e.CVEsStore.selectedCves})),Y=(0,u.v9)((function(e){return e.CVEsStore.selectedRowsRawData})),z=(0,u.v9)((function(e){return e.CVEsStore.expandedRows})),N=(0,u.v9)((function(e){return e.CVEsStore.isAllExpanded})),U=(0,r.useMemo)((function(){return(0,m.c_)(H,D)}),[H,D]),$=(0,v.H1)(["show_irrelevant"].concat((0,s.Z)(d.kO))),q=(0,i.Z)($,2),G=q[0],K=q[1],W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,v.pX)(t);e((0,V.yM)(n))};return(0,r.useEffect)((function(){P?(W(G),_(!1)):(e((0,V.jh)(L)),w&&K(le({},L))||C(!0))}),[L]),(0,r.useEffect)((function(){return function(){e((0,V.Ss)()),e((0,re.L1)())}}),[e]),U.errors?o().createElement(oe.Z,{code:parseInt(U.errors.status)}):o().createElement(se.Provider,{value:{cves:U,selectedRowsRawData:Y,params:L,selectedCves:T,expandedRows:z,isAllExpanded:N,methods:{apply:W,downloadReport:function(t){ne.Z.exec(V.jh,L,t,"cves",(function(t){return e((0,re.wN)(t))}),(function(){return e((0,re.L1)())}))},selectCves:function(t,n){e((0,V.EY)(n||[]))},showBusinessRiskModal:function(t,n){var r=U.meta;O((function(){return function(){return o().createElement(b.Z,{cves:t,updateRef:function(){e((0,V.ZZ)()),(0,v.$)(n?le(le({},r),{},{page:1}):r,W)}})}}))},showStatusModal:function(t,n){var r=U.meta;c((function(){return function(){return o().createElement(y.Z,{cves:t,updateRef:function(){e((0,V.ZZ)()),(0,v.$)(n?le(le({},r),{},{page:1}):r,W)}})}}))},openCves:function(t){e((0,V.Rk)(t))},setColumnModalOpen:F}}},o().createElement(h,null),o().createElement(a,null),o().createElement(ae.Z,{appliedColumns:D,applyColumns:M,isModalOpen:A,setModalOpen:F}),o().createElement(p.K,null,o().createElement(f.v,null,o().createElement(te,null)),o().createElement(f.v,null,o().createElement(R,{header:D.filter((function(e){return e.isShown}))}))))},ue=function(){return o().createElement(r.Fragment,null,o().createElement(c.Z,{showBreadcrumb:!1}),o().createElement(a.Z,null,o().createElement(ie,null)))}}}]);
//# sourceMappingURL=../sourcemaps/LandingPage.c2c9b4534716d3782a0d2e63cf5fa3b3.js.map