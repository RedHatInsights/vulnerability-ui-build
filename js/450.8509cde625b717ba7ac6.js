"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[450],{37450:(e,t,n)=>{n.d(t,{lm:()=>h,U:()=>_,a9:()=>O,ZS:()=>w});var r=n(29439),a=n(15861),o=n(45987),i=n(4942),c=n(87757),s=n.n(c),u=n(77865),l=n(28216),f=n(86896),d=n(83215),p=n(83594),m=n(30893),v=n(6208),g=["msg"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=(0,l.I0)(),n=b({variant:"info"},e);return(0,u.useEffect)((function(){return function(){e.preventClear||t((0,d.L1)())}}),[t]),[function(e){var r=e.msg,a=(0,o.Z)(e,g);return t((0,d.wN)(b(b({title:r},n),a)))},function(){return t((0,d.L1)())}]},_=function(e,t){var n=t.id,r=t.setUrlParams,o=t.createRows,i=function(){var t=(0,a.Z)(s().mark((function t(a,i){var c,u,l,f,d,p,m,v,g,y,h,_,O,Z;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m=i.orderBy,v=i.orderDirection,g=i.page,y=i.per_page,h=i.vulnerabilityParams,_="".concat("ASC"===v?"":"-").concat(m),O=b(b({},h),{},{page:g,page_size:y,sort:_}),null==r||r(b({},O)),t.next=6,e(b(b({},n&&{id:n}),O));case 6:return Z=t.sent,t.abrupt("return",{results:"function"==typeof o?o({items:Z,cveId:n}):null==Z||null===(c=Z.data)||void 0===c?void 0:c.map((function(e){return b({id:e.id},e.attributes)})),total:null==Z||null===(u=Z.meta)||void 0===u?void 0:u.total_items,page:null==Z||null===(l=Z.meta)||void 0===l?void 0:l.page,perPage:null==Z?void 0:Z.meta.page_size,meta:{page:null==Z||null===(f=Z.meta)||void 0===f?void 0:f.page,sort:null==Z||null===(d=Z.meta)||void 0===d?void 0:d.sort,page_size:null==Z||null===(p=Z.meta)||void 0===p?void 0:p.page_size}});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return i},O=function(e){var t=h({variant:"success"}),n=(0,r.Z)(t,1)[0],a=h({variant:"danger",autoDismiss:!1}),o=(0,r.Z)(a,1)[0],i=(0,l.I0)(),c=(0,f.Z)();return function(t,r,a){var s=Object.keys(t).length;i((0,p.R0)(Object.keys(t),a)).then((function(){n(a?{msg:c.formatMessage(m.Z.notificationExcludeSuccess,{count:s,systemName:r})}:{msg:c.formatMessage(m.Z.notificationIncludeSuccessTitle,{count:s,systemName:r}),description:c.formatMessage(m.Z.notificationIncludeSuccessBody)})})).catch((function(e){o("503"===e.status?v.iF:a?{msg:c.formatMessage(m.Z.notificationExcludeFailureTitle,{count:s,systemName:r}),description:c.formatMessage(m.Z.notificationExcludeFailureBody,{count:s})}:{msg:c.formatMessage(m.Z.notificationIncludeFailureTitle,{count:s,systemName:r}),description:c.formatMessage(m.Z.notificationIncludeFailureBody,{count:s})})})).finally(e)}},Z=function(e){var t=e.id,n=e.inventory_id;return{id:t||n,selected:!0}},w=function(e){var t=e.rawData,n=e.selectedRows,r=e.selectedRowsCount,o=e.handleSelect,i=e.fetchResource,c=e.multiRow,u=void 0!==c&&c,l=(0,f.Z)(),d=t.meta,p=t.data,v=p&&(Array.isArray(p)&&p.length&&u?p.length/2:p.length),g=function(){var e=[];Object.keys(n).forEach((function(t){return e.push({id:t,selected:!1}),e})),o(e)},y=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({page_size:d.totalItems,page:1});case 2:e.sent.payload.then((function(e){var t=e.data;return o(t.map(Z))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{count:r,checked:!!r,isDisabled:0===d.totalItems&&0===r,ouiaId:"bulk-select",items:[{title:l.formatMessage(m.Z.selectNone),onClick:g},{title:"".concat(l.formatMessage(m.Z.selectPage,{count:v})),onClick:function(){var e=(null!=t?t:{}).data;o(null==e?void 0:e.map(Z))}},{title:"".concat(l.formatMessage(m.Z.selectAll,{count:d.totalItems})),onClick:y}],onSelect:function(){return r?g():y()}}}}}]);
//# sourceMappingURL=../sourcemaps/450.aee52cef79aadbc8603802c2f33e78f4.js.map