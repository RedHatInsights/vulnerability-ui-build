"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[6743],{75863:(e,t,r)=>{var n,a;r.d(t,{L:()=>n,B:()=>a}),function(e){e.none="",e.grid="grid",e.gridMd="grid-md",e.gridLg="grid-lg",e.gridXl="grid-xl",e.grid2xl="grid-2xl"}(n||(n={})),function(e){e.compact="compact"}(a||(a={}))},39591:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(45987),a=r(77865),o=r.n(a),s=r(45697),l=function(e){var t=e.component,r=(0,n.Z)(e,["component"]);return(0,a.useEffect)((function(){console.error("Unable to load iventory component. Failed to load ".concat(t,"."),r)}),[]),o().createElement("div",null,o().createElement("h1",null,"Unable to load inventory component"),o().createElement("h2",null,"Failed to load ",t),o().createElement("code",null,"More info can be found in browser console output."))};l.propTypes={component:r.n(s)().string};const c=l},33739:(e,t,r)=>{r.d(t,{Z:()=>y});var n=r(87462),a=r(77865),o=r.n(a),s=r(45697),l=r.n(s),c=r(54025),i=r(5977),u=r(28216),d=r(52643),p=r(2372),m=r(39591),f=function(e){var t=(0,i.k6)(),r=(0,u.oR)();return o().createElement(a.Suspense,{fallback:e.fallback},o().createElement(c.ScalprumComponent,(0,n.Z)({history:t,store:r,appName:"inventory",module:"./InventoryTable",scope:"inventory",ErrorComponent:o().createElement(m.Z,(0,n.Z)({component:"InventoryDetailHead",history:t,store:r},e)),ref:e.innerRef},e)))};f.propTypes={fallback:l().node,innerRef:l().object};var v=o().forwardRef((function(e,t){return o().createElement(f,(0,n.Z)({innerRef:t},e))}));v.propTypes={fallback:l().node},v.defaultProps={fallback:o().createElement(d.b,{className:"pf-u-p-lg"},o().createElement(p.$,{size:"xl"}))};const y=v},92162:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(87462),a=r(93433),o=r(29439),s=r(77865),l=r.n(s),c=r(78733),i=r(44612),u=r(54680),d=r(92694),p=r(32132),m=r(30893);const f=function(e,t){var r=l().useState(!1),s=(0,o.Z)(r,2),f=s[0],v=s[1],y=l().useState(10),b=(0,o.Z)(y,2),g=b[0],h=b[1],Z=c.iP.slice().reverse(),O=e?e.split(","):[];return{type:i.Y.custom,label:p.N.formatMessage(m.Z.osFilterLabel),filterValues:{children:l().createElement(u.P,(0,n.Z)({variant:"checkbox",onToggle:function(e){v(e)},onSelect:function(e,r){var n,o=c.iP.find((function(e){return e.label===r})).value;O.includes(o)?(n=O).splice(n.indexOf(o),1):n=[].concat((0,a.Z)(O),[o]),t({rhel_version:n.join(","),page:1})},selections:O.map((function(e){return c.iP.find((function(t){return t.value===e})).label})),isOpen:f,"aria-label":"os-version-filter",placeholderText:p.N.formatMessage(m.Z.osFilterPlaceholder)},g<Z.length&&{loadingVariant:{text:p.N.formatMessage(m.Z.viewMore),onClick:function(){h(Z.length)}}},{style:{maxHeight:"420px",overflow:"auto"}}),Z.slice(0,g).map((function(e,t){return l().createElement(d.$,{isDisabled:e.disabled,key:t,value:e.label,description:null==e?void 0:e.description})})))}}}},41489:(e,t,r)=>{r.d(t,{Ec:()=>i,Eh:()=>u,bp:()=>d});var n=r(87462),a=r(84457),o=r(77865),s=r.n(o),l=r(30893),c=r(44012),i=function(e,t,r){var o=(0,n.Z)({},r);return s().createElement(a.h,(0,n.Z)({key:"pdf",component:"button",onClick:function(){return t(!0)}},o),e?s().createElement(c.Z,l.Z.loading):s().createElement(c.Z,l.Z.kebabExportAsPDF))},u=function(e,t,r){var o=(0,n.Z)({},r);return s().createElement(a.h,(0,n.Z)({key:"editBusinessRisk",component:"button",onClick:function(){return e(t)}},o),s().createElement(c.Z,l.Z.kebabEditBusinessRisk))},d=function(e,t,r,o){var i=(0,n.Z)({},o);return s().createElement(a.h,(0,n.Z)({key:"editStatus",component:"button",onClick:function(){return e(t,r)}},i),s().createElement(c.Z,l.Z.kebabEditStatus))}},1809:(e,t,r)=>{r.d(t,{Z:()=>v});var n=r(4942),a=r(77865),o=r.n(a),s=r(45697),l=r.n(s),c=r(74093),i=r(3968),u=r(80167),d=r(30893);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){var t=e.intl,r=e.hasRule,n=e.hasExploit,a=e.isSmall,s=void 0!==a&&a;return o().createElement(c.G7,{style:u.Z.labelsWrapper},n&&o().createElement(c.G7,{style:m(m({},u.Z.label),{},{width:s?62:70})},o().createElement(i.Uc,{icon:!1,width:s?62:75,variant:4,label:t.formatMessage(d.Z.knownExploit),textStyle:s?m(m({},u.Z.smallText),{},{left:-56}):void 0,labelStyle:{border:"solid",borderWidth:1,borderColor:"#c9190b",height:s?16:20}})),r&&o().createElement(c.G7,{style:u.Z.label},o().createElement(i.Uc,{icon:!1,width:s?59:63,label:t.formatMessage(d.Z.securityRuleLabel),textStyle:s?u.Z.smallText:void 0,labelStyle:{border:"solid",borderWidth:1,borderColor:"#bee1f4",height:s?16:20}})))};f.propTypes={hasRule:l().bool,hasExploit:l().bool,intl:l().any,isSmall:l().bool};const v=f},43198:(e,t,r)=>{r.d(t,{Z:()=>y});var n=r(77865),a=r.n(n),o=r(45697),s=r.n(o),l=r(3968),c=r(74093),i=r(30893),u=r(62598),d=r(78733),p=r(22408),m=r(80167),f=r(61429),v=function(e){for(var t,r=e.data,o=e.meta,s=e.filters,v=e.intl,y=e.isReportDynamic,b=e.reportData,g=e.user,h=e.type,Z=y?s:s.reduce((function(e,t){var r,n;return e[t.key]={filter:t.category,values:"publish_date"===t.key?d.GZ.find((function(e){return e.value===t.chips[0].value})).timespan_label:t.chips.map((function(e){return e.name})).join(", "),isAllChosen:(null===(r=("cves"===h?d.jW:d.Gb)[t.key])||void 0===r?void 0:r.component)===f.Z?t.chips.length===(null===(n=d.Oq[t.key])||void 0===n?void 0:n.items.length):null},e}),{}),O=[{name:"impact",msg:i.Z.CVEsPDFreportFiltersSeverity,lowercase:!0},{name:"business_risk_id",msg:i.Z.CVEsPDFreportFiltersBusinessRisk,lowercase:!0},{name:"status_id",msg:i.Z.CVEsPDFreportFiltersStatus,lowercase:!0},{name:"rule_presence",msg:i.Z.CVEsPDFreportFiltersDefinedValue,lowercase:!0},{name:"known_exploit",msg:i.Z.CVEsPDFreportFiltersDefinedValue,lowercase:!0},{name:"rhel_version",msg:i.Z.CVEsPDFreportFiltersOsVersion}],E=[{name:"filter",msg:i.Z.systemsPDFreportFiltersSearchTerm,lowercase:!0},{name:"rhel_version",msg:i.Z.systemsPDFreportFiltersOsVersion}],w="cves"===h?O:E,P=0;P<w.length;P++)if(Z.hasOwnProperty(w[P].name)){w[P].isFirst=!0;break}for(var j=w.length-1;j>=0;j--)if(Z.hasOwnProperty(w[j].name)){w[j].isLast=!0;break}var D,R,C,k;return a().createElement(n.Fragment,{key:"first-section"},y&&a().createElement(l.nv,null,(0,p.aR)(i.Z.customReportIntroductionText)),"cves"===h?a().createElement(l.nv,null,(0,p.aR)(i.Z.customReportSearchTermCvssAndPublishDate,{hasSearchTerm:Z.hasOwnProperty("filter")?"yes":"no",searchTerm:Z.filter&&Z.filter.values,score:Z.cvss_filter&&Z.cvss_filter.values||d.OX.cvss_filter.from.toFixed(1)+" - "+d.OX.cvss_filter.to.toFixed(1),published:Z.publish_date&&Z.publish_date.values||(0,p.aR)(i.Z.customReportTimespanAnytime)}),w.map((function(e){var t;return Z.hasOwnProperty(e.name)&&!(null!==(t=Z[e.name])&&void 0!==t&&t.isAllChosen)&&(0,p.aR)(e.msg,{values:e.lowercase?Z[e.name].values.toLowerCase():Z[e.name].values,prefix:e.isLast?v.formatMessage(i.Z.customReportAnd):";"})})),a().createElement(c.xv,null,"."),"\n\n"):(k=null===(D=s.find((function(e){return"excluded"===e.key})))||void 0===D?void 0:D.multiValue,(null===(R=Object.values(Z))||void 0===R||null===(C=R.filter((function(e){return!0!==e.isAllChosen})))||void 0===C?void 0:C.length)>0?a().createElement(l.nv,null,v.formatMessage(i.Z.systemsPDFreportSubHeader),1===(null==k?void 0:k.length)&&("true"===k[0]?" "+v.formatMessage(i.Z.systemsPDFreportFiltersExcluded):" "+v.formatMessage(i.Z.systemsPDFreportFiltersIncluded)),w.map((function(e){var t;return Z.hasOwnProperty(e.name)&&!(null!==(t=Z[e.name])&&void 0!==t&&t.isAllChosen)&&(0,p.aR)(e.msg,{values:e.lowercase?Z[e.name].values.toLowerCase():Z[e.name].values,prefix:e.isFirst?"":e.isLast?v.formatMessage(i.Z.customReportAnd):";"})})),".\n\n"):null),"cves"===h&&a().createElement(l.nv,null,a().createElement(c.xv,null,(0,p.aR)(i.Z.CVEsPDFreportSubHeader,{cve_count:o.total_items.toString(),system_count:o.system_count.toString()}),(y&&(null===(t=b.header)||void 0===t?void 0:t.includes("known_exploit"))||!y)&&(0,p.aR)(i.Z.CVEsPDFreportSubHeaderExploit,{knownExploitCount:o.knownExploitCount.toString()}))),b&&b.userNotes?a().createElement(c.G7,{style:m.Z.userNotes},a().createElement(l.nv,{style:m.Z.userNotesTitle},a().createElement(c.xv,{style:m.Z.bold},v.formatMessage(i.Z.customReportUserNoteLabel))),a().createElement(l.nv,null,a().createElement(c.xv,null,b.userNotes)),a().createElement(l.nv,null,g&&g.identity&&a().createElement(c.xv,{style:m.Z.italic},v.formatMessage(i.Z.customReportUserNotesGenerated,{name:"".concat(g.identity.user.first_name," ").concat(g.identity.user.last_name)})))):null,a().createElement(c.G7,{style:m.Z.mt16},(0,u.Z)({data:r,intl:v,header:b&&b.header,type:h,isReportDynamic:y})))};v.defaultProps={user:void 0},v.propTypes={intl:s().any,filters:s().array,data:s().object,meta:s().object,reportData:s().object,isReportDynamic:s().bool,user:s().object,type:s().string};const y=v},62598:(e,t,r)=>{r.d(t,{Z:()=>Z});var n=r(4942),a=r(93433),o=r(77865),s=r.n(o),l=r(45697),c=r.n(l),i=r(74093),u=r(3968),d=r(35240),p=r(78733),m=r(30893),f=r(80167),v=r(29648),y=r(1809);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e){var t=e.data,r=e.page,n=e.intl,l=e.header,c=e.type,b=e.isReportDynamic,h=void 0!==b&&b,Z=[{name:"publish_date",header:{value:n.formatMessage(m.Z.publishDate)}},{name:"cvss_filter",header:{value:n.formatMessage(m.Z.cvssBaseScore)},hit:"cvss_score"},{name:"impact",header:{value:n.formatMessage(m.Z.impact)},hit:"impact"},{name:"affecting",header:{value:n.formatMessage(m.Z.systemsExposed)},hit:"systems_affected"},{name:"business_risk_id",header:{value:n.formatMessage(m.Z.businessRisk)},hit:"business_risk"},{name:"status_id",header:{value:n.formatMessage(m.Z.status)},hit:"status"}],O=function(e){var t=e.value,r=e.style;return s().createElement(i.xv,{key:t,style:r},t)},E=["cvss_score","impact","systems_affected","business_risk","status"],w=[];l?(w.push({value:n.formatMessage(m.Z.cveId)}),E=[],Z.forEach((function(e){l.includes(e.name)&&(w.push(e.header),e.hit&&E.push(e.hit))}))):"cves"===c?w=[{value:n.formatMessage(m.Z.cveId)}].concat(Z.map((function(e){return e.header}))):(E=["display_name","os","cve_count","updated"],w=[{value:n.formatMessage(m.Z.systemsColumnHeaderName),id:"name"},{value:n.formatMessage(m.Z.systemsColumnHeaderOSFull)},{value:n.formatMessage(m.Z.systemsColumnHeaderCveCount)},{value:n.formatMessage(m.Z.systemsColumnHeaderUpdated)}]);var P=function(e){var t=e.rules&&e.rules.length>0;return h?t&&l.includes("rule_presence"):t},j=(0,a.Z)(t.map((function(e){var t,r,o=e.attributes;return[s().createElement(i.G7,{style:[f.Z.bodyCell,f.Z.cveCell]},s().createElement(i.G7,null,s().createElement(i.xv,null,s().createElement(i.rU,{style:f.Z.link,src:"".concat(p.OF,"/").concat(o.synopsis)},o.synopsis))),s().createElement(y.Z,{hasExploit:(t=o,r=t.known_exploit,h?r&&l.includes("known_exploit"):r),hasRule:P(o),intl:n,isSmall:!0})),(!l||l.includes("publish_date"))&&s().createElement(i.xv,{key:o.public_date,style:[f.Z.bodyCell,f.Z.cveCell]},(0,d.Un)(o.public_date))].concat((0,a.Z)(E.map((function(e){return O({value:o[e],style:[f.Z.bodyCell,f.Z.cveCell]})}))))}))),D=(0,a.Z)(t.map((function(e){var t=e.attributes;return[O({value:t.display_name,style:[f.Z.bodyCell,f.Z.systemNameCell]}),O({value:t.os,style:[f.Z.bodyCell,f.Z.systemCell]}),O({value:t.opt_out?n.formatMessage(m.Z.systemsTableExcluded):t.cve_count,style:[f.Z.bodyCell,f.Z.systemCell]}),O({value:(0,v.p6)(t.updated,!0),style:[f.Z.bodyCell,f.Z.systemCell]})]})));return s().createElement(o.Fragment,{key:r},s().createElement(u.iA,{withHeader:!0,rows:[w.map((function(e){return O(g(g({},e),{},{style:[f.Z.headerCell,"cves"===c?f.Z.cveCell:"name"===e.id?f.Z.systemNameCell:f.Z.systemCell]}))}))].concat((0,a.Z)("cves"===c?j:D))}),0===t.length&&s().createElement(i.xv,null,n.formatMessage(m.Z.customReportNoItems)))};h.propTypes={data:c().object,intl:c().any,page:c().number,header:c().array,type:c().string,isReportDynamic:c().bool};const Z=h},75584:(e,t,r)=>{r.r(t),r.d(t,{default:()=>se});var n=r(4942),a=r(29439),o=r(77865),s=r.n(o),l=r(86896),c=r(30893),i=r(28216),u=r(93433),d=r(45697),p=r.n(d),m=r(74806),f=r(29648),v=r(83594),y=r(98621),b=r(95351),g=r(15248),h=r(62215),Z=r(87462),O=r(15861),E=r(45987),w=r(87757),P=r.n(w),j=r(3968),D=r(71478),R=r(43198),C=r(62598),k=r(78733),S=r(37450),x=["filters","params","reportData","buttonProps","label"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M=function(e){var t=e.filters,r=e.params,n=e.reportData,i=void 0===n?{}:n,d=e.buttonProps,p=e.label,m=(0,E.Z)(e,x),v=(0,l.Z)(),y=(0,o.useState)(!1),b=(0,a.Z)(y,2),g=b[0],w=b[1],_=(0,S.lm)(),M=(0,a.Z)(_,2),T=M[0],I=M[1],N=k.tp.systemsReportRestPages,L=k.tp.systemsReportFirstPage;(0,o.useEffect)((function(){w(!0),T({msg:v.formatMessage(c.Z.notificationReportDownloadStart)})}),[]);var V=function(e){return(0,f.F3)(e,N)},A=function(){var e=(0,O.Z)(P().mark((function e(){var n,a,o,s,l;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,D.vk)(F(F(F({},r),h.Z.defaultParams),{},{report:"true"}));case 3:o=e.sent,n=o.data,a=o.meta,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(0),I(),T({variant:"danger",autoDismiss:!1,msg:v.formatMessage(c.Z.notificationReportDownloadFailureTitle),description:v.formatMessage(c.Z.notificationReportDownloadFailureBody)}),e.abrupt("return",[]);case 13:return s=(0,R.Z)({data:n.splice(0,L),meta:a,filters:t,intl:v}),l=V(n),w(!1),I(),T({variant:"success",msg:v.formatMessage(c.Z.notificationReportDownloadSuccess)}),e.abrupt("return",[s].concat((0,u.Z)(l.map((function(e,t){return(0,C.Z)({data:e,page:t,intl:v,header:i&&i.header})})))));case 19:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return s().createElement("div",null,s().createElement(j.o6,(0,Z.Z)({},m,{fallback:null,label:g?v.formatMessage(c.Z.loading):v.formatMessage(p),asyncFunction:A,buttonProps:F({component:"button"},d),reportName:v.formatMessage(c.Z.systemPDFReportName),type:"",fileName:"".concat(h.Z.filename("system-list"),".pdf"),allPagesHaveTitle:!1,size:"A4",orientation:"landscape"})))};M.defaultProps={label:c.Z.kebabExportAsPDF},M.propTypes={filters:p().oneOfType([p().array,p().object]),params:p().object,reportData:p().object,buttonProps:p().object,label:p().oneOfType([p().array,p().object])};const T=M;var I=r(41489),N=r(44612),L=r(32132);const V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.excluded,n=function(t){e({excluded:t.length>0?null==t?void 0:t.join(","):void 0,page:1})};return{label:L.N.formatMessage(c.Z.filterSystemsIncludedInAnalysis),type:N.Y.checkbox,urlParam:"excluded",filterValues:{onChange:function(e,t){n(t)},items:k._9.map((function(e){return{label:e.label,value:e.value}})),value:(null==r?void 0:r.length)>0?null==r?void 0:r.split(","):void 0}}};var A=r(83215),B=r(92162);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G=function(e){var t=e.selectedRows,r=e.selectedRowsCount,n=e.selectedRowsRawData,l=e.intl,d=e.canExport,p=e.canSetExcludedIncluded,m=e.canReadExcluded,f=e.parameters,Z=e.rawData,O=e.methods,E=(0,o.useState)(!1),w=(0,a.Z)(E,2),P=w[0],j=w[1],D=O.apply,R=O.handleSelect,C=O.doOptOut,x=O.setColumnModalOpen,_=(0,i.I0)(),F=(0,o.useMemo)((function(){return{selectedExcluded:n.some((function(e){return!0===e.opt_out})),selectedIncluded:n.some((function(e){return!1===e.opt_out}))}}),[n]),M=[""].concat((0,u.Z)(p?[{label:l.formatMessage(c.Z.systemKebabExcludeAnalysis,{count:r}),onClick:function(){return C(t,null==n?void 0:n[0].display_name,!0)},props:{isDisabled:!r||!F.selectedIncluded}},{label:l.formatMessage(c.Z.systemKebabIncludeAnalysis,{count:r}),onClick:function(){return C(t,null==n?void 0:n[0].display_name,!1,t)},props:{isDisabled:!r||!F.selectedExcluded}}]:[]),[{label:l.formatMessage(c.Z.columnManagementModalTitle),onClick:function(){return x(!0)}}]),N=(0,S.ZS)({rawData:Z,selectedRows:t,selectedRowsCount:r,handleSelect:R,fetchResource:function(e){return(0,v.ip)(U(U({},f),e))}}),L=[(0,b.Z)("filter",c.Z.systemsSearchName,c.Z.searchFilterByName,f.filter,D)].concat((0,u.Z)(m?[V(D,f)]:[]),[(0,B.Z)(f.rhel_version,D)]);return s().createElement(o.Fragment,null,s().createElement(y.Z,{className:"vuln-systems-primary-toolbar",bulkSelect:N,actionsConfig:{actions:M,dropdownProps:{ouiaId:"toolbar-actions"}},filterConfig:{items:L},activeFiltersConfig:{filters:(0,g.DU)(f),onDelete:function(e,t,r){return(0,g.vH)(t,O.apply,r,k.Sy)},deleteTitle:l.formatMessage(c.Z.resetFilters),showDeleteButton:!(0,g.Yy)(f,m?k.Sy:{},k.D2)},exportConfig:d?U({isDisabled:0===Z.meta.totalItems,extraItems:[(0,I.Ec)(P,j)],ouiaId:"export"},(0,g.HV)({downloadReport:function(e){var t=U({},f);h.Z.exec(v.lc,t,e,"system-list",(function(e){return _((0,A.wN)(e))}),(function(){return _((0,A.L1)())}))}})):null}),P&&s().createElement(T,{showButton:!1,params:f,filters:(0,g.DU)(f),onSuccess:function(){return j(!1)}}))};G.propTypes={rawData:f.nE,canExport:p().bool,canSetExcludedIncluded:p().bool,canReadExcluded:p().bool,parameters:p().object,selectedRows:p().array,selectedRowsCount:p().number,selectedRowsRawData:p().array,methods:p().shape({doOptOut:p().func,apply:p().func,handleSelect:p().func,setColumnModalOpen:p().func}),intl:p().any};const W=(0,m.ZP)(G);var z=r(83296),K=r(86350),Y=r(43003),X=r(75115),$=r(57998),q=r(33739),J=r(66123),Q=r(75863),ee=r(24788),te=r(66761),re=r(94909),ne=r(6023);function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const se=function(){var e=(0,S.Wu)([k._I.readVulnerabilityResults,k._I.setExcludedIncluded,k._I.basicReporting,k._I.readExcluded]),t=(0,a.Z)(e,2),r=(0,a.Z)(t[0],4),n=r[0],u=r[1],d=r[2],p=r[3],m=t[1],y=s().createRef(),b=(0,i.I0)(),g=(0,l.Z)(),h=(0,f.H1)(k.IV),Z=(0,a.Z)(h,2),O=Z[0],E=Z[1],w=(0,i.v9)((function(e){var t=e.entities;return(null==t?void 0:t.rows)||[]}),i.wU),P=(0,i.v9)((function(e){var t=e.entities;return null==t?void 0:t.total})),j=(0,i.v9)((function(e){var t=e.entities;return null==t?void 0:t.meta})),R=(0,i.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRows)||{}})),C=(0,i.v9)((function(e){var t,r=e.entities;return null!==(t=null==r?void 0:r.selectedRowsCount)&&void 0!==t?t:0})),x=(0,i.v9)((function(e){var t=e.entities;return(null==t?void 0:t.selectedRowsRawData)||[]})),_=(0,i.v9)((function(e){var t=e.entities;return(null==t?void 0:t.loaded)||!1})),F=(0,i.v9)((function(e){return e.SystemsPageStore.params}),i.wU);p||(F.excluded="");var M=(0,i.v9)((function(e){return e.SystemsPageStore.error})),T=M.hasError,I=M.errorCode,N=(0,i.v9)((function(e){return e.SystemsPageStore.columns})),L=(0,o.useState)(!1),V=(0,a.Z)(L,2),B=V[0],H=V[1];(0,o.useEffect)((function(){return function(){b((0,v.re)()),b((0,v.r5)()),b((0,A.L1)())}}),[b]);var U=function(e){return b((0,v.SF)(e))};(0,o.useEffect)((function(){return U(O)}),[]),(0,o.useEffect)((function(){return E(oe(oe({},F),j))}),[E,F,j]);var G=(0,S.a9)((function(){return b((0,v.r5)()),y.current.onRefreshData({page:1})})),ae=(0,S.U)(D.vk,{}),se=(0,o.useState)(0),le=(0,a.Z)(se,2),ce=le[0],ie=le[1];return(0,o.useEffect)((function(){return ie(ce+1)}),[N]),m?s().createElement(ne.Z,{centered:!0}):n?s().createElement(o.Fragment,null,s().createElement(te.Z,{appliedColumns:N,applyColumns:function(e){return b((0,v.Ce)(e))},isModalOpen:B,setModalOpen:H}),s().createElement(X.Z,{title:g.formatMessage(c.Z.vulnerabilitySystemsHeader),showBreadcrumb:!1}),s().createElement(K.Z,null,T?s().createElement(J.Z,{code:I}):s().createElement(q.Z,{disableDefaultColumns:!0,onLoad:function(e){var t=e.mergeWithEntities;z.Z.register(oe({},t((0,$.K)(N),oe({page:Number(F.page||1),perPage:Number(F.page_size||20)},F.sort&&{sortBy:{key:F.sort.replace(/^-/,""),direction:F.sort.match(/^-/)?"desc":"asc"}}))))},tableProps:{isStickyHeader:!0,canSelectAll:!1,actionResolver:P>0&&u&&function(e){return(0,Y.zs)(e,G)},variant:Q.B.compact},paginationProps:{isDisabled:!P},showTagModal:!0,isFullView:!0,ref:y,autoRefresh:!0,customFilters:{vulnerabilityParams:oe({},F)},columnsCounter:ce,columns:function(e){return t=e,N.filter((function(e){var t;return null!==(t=e.isShown)&&void 0!==t?t:e.isShownByDefault})).map((function(e){return oe(oe({},t.find((function(t){var r=t.key;return e.key===r}))),e)}));var t},getEntities:ae,hideFilters:{all:!0},noSystemsTable:s().createElement(ee.UE,null)},s().createElement(W,{canExport:d,canSetExcludedIncluded:u,canReadExcluded:p,parameters:F,rawData:{data:w,meta:{totalItems:P},isLoaded:_},selectedRows:R,selectedRowsCount:C,selectedRowsRawData:x,methods:{doOptOut:G,apply:U,handleSelect:function(e){return b((0,v.hd)(e))},setColumnModalOpen:H},actions:!0})))):s().createElement(re.Z,null)}},57998:(e,t,r)=>{r.d(t,{K:()=>p});var n=r(4942),a=r(18535),o=r(75910),s=r(77043),l=r.n(s);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={columns:[],rows:[],entities:[],loaded:!1,tagsLoaded:!1,allTagsLoaded:!1,invConfig:{},sortBy:{key:"updated",direction:"desc"},page:1,perPage:20,selectedRows:{},prevLoadedRows:[],selectedRowsRawData:[],selectedRowsCount:0};function d(e,t,r){var n=e.find((function(e){return"advisory"===e.key}));return t.selectedRows||(t.selectedRows={}),t.sortBy||(t.sortBy={key:"updated",direction:"desc"}),t.loaded?(!t.rows.some((function(e){return e.patchAccess}))&&n&&(n.isShown=!1),i(i({},t),{},{columns:e,rows:t.rows.map((function(e){return i(i({},e),{},{selected:t.selectedRows[e.id]||!1})})),prevLoadedRows:l()(r.payload.results,t.prevLoadedRows,"id"),meta:r.payload.meta})):t}var p=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,r=arguments.length>1?arguments[1]:void 0,n=i({},t);switch(r.type){case o.LY+"_FULFILLED":return d(e,n,r);case o.pr:return(0,a.hd)(n,r);case o.xC:return i(i({},n),{},{rows:n.rows.map((function(e){return i(i({},e),{},{isOpen:e.id===r.payload.id?r.payload.isOpen:e.isOpen})}))});case o.t2:return u;default:return n}}}}}]);
//# sourceMappingURL=../sourcemaps/Systems.03beec578a0c25b78456ad8b8a4156df.js.map