(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1607:function(e,t,n){"use strict";t.__esModule=!0,t.ExclamationCircleIconConfig={name:"ExclamationCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.ExclamationCircleIcon=n(146).createIcon(t.ExclamationCircleIconConfig),t.default=t.ExclamationCircleIcon},1631:function(e,t,n){"use strict";var r=n(676),a=n.n(r),o=n(681),i=n.n(o),c=n(682),s=n.n(c),l=n(683),u=n.n(l),p=n(487),f=n.n(p),d=n(916),m=n(4),b=n.n(m),y=n(0),v=n.n(y),h=n(27);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var g=function(e){s()(n,e);var t=O(n);function n(){var e,r;a()(this,n);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return u()(r,(e=r=t.call.apply(t,[this].concat(i)),r.handleChangePage=function(e,t){return r.props.apply({page:t})},r.handleSetPageSize=function(e,t){return r.props.apply({page_size:t,page:1})},e))}return i()(n,[{key:"shouldComponentUpdate",value:function(e){return e.meta!==this.props.meta}},{key:"render",value:function(){var e=this.props,t=e.meta,n=e.variant,r=t.page,a=t.total_items,o=t.page_size;return v.a.createElement(v.a.Fragment,null,v.a.createElement(d.Pagination,{page:r||1,itemCount:a||0,perPage:o||h.k,onSetPage:this.handleChangePage,onPerPageSelect:this.handleSetPageSize,variant:d.PaginationVariant[n],ouiaId:"pagination-".concat(d.PaginationVariant[n])}))}}]),n}(y.Component);g.propTypes={apply:b.a.func,meta:b.a.object,variant:b.a.string},g.defaultProps={variant:"bottom"},t.a=g},1632:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(315);var a=n(480),o=n(408),i=n(481),c=n(0),s=r(c),l=r(n(4)),u=r(n(316)),p=n(1542);var f=function(e){var t=e.isFooter,n=e.results,r=e.className,l=e.selected,f=e.children,d=i._objectWithoutProperties(e,["isFooter","results","className","selected","children"]),m=u("ins-c-table__toolbar",o._defineProperty({},"ins-m-footer",t),r);return s.createElement(c.Fragment,null,s.createElement(p.Toolbar,a._extends({className:m},d)," ",f),(n>=0||l>=0)&&s.createElement("div",{className:"ins-c-table__toolbar-results"},n>=0&&s.createElement("span",{className:"ins-c-table__toolbar-results-count"}," ",function(e){return"".concat(e,e>1||e<1?" Results":" Result")}(n)," "),l>=0&&s.createElement("span",{className:"ins-c-table__toolbar-results-selected"}," ",l," Selected ")))};f.propTypes={isFooter:l.bool,results:l.number,children:l.any,className:l.string,selected:l.number},f.defaultProps={isFooter:!1},t.TableToolbar=f},1633:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(315),n(480);var a=n(408);n(481);var o=r(n(0)),i=r(n(4));n(316),n(672);var c=n(920),s=n(671),l=n(1643),u=n(689);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var f=function(e){s._inherits(n,e);var t=function(e){return function(){var t,n=s._getPrototypeOf(e);if(p()){var r=s._getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return s._possibleConstructorReturn(this,t)}}(n);function n(){var e;s._classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),p=0;p<r;p++)i[p]=arguments[p];return e=t.call.apply(t,[this].concat(i)),a._defineProperty(s._assertThisInitialized(e),"createColumns",(function(){var t=e.props.colSize;return c._toConsumableArray(Array(t)).map((function(){return{title:o.createElement(u.Skeleton,{size:u.SkeletonSize.sm})}}))})),a._defineProperty(s._assertThisInitialized(e),"getColumns",(function(){var t=e.props,n=t.paddingColumnSize,r=t.columns;return e.newArray(n).map((function(){return""})).concat(r||e.createColumns())})),a._defineProperty(s._assertThisInitialized(e),"createRows",(function(){var t=e.props,n=t.colSize,r=t.rowSize,a=t.columns,i=t.paddingColumnSize,c=a?a.length:n;return e.newArray(r).map((function(){return{disableSelection:!0,cells:e.newArray(i).map((function(){return""})).concat(e.newArray(c).map((function(){return{title:o.createElement(u.Skeleton,{size:u.SkeletonSize.md})}})))}}))})),a._defineProperty(s._assertThisInitialized(e),"selectVariant",(function(){return e.props.hasRadio?(null===l.RowSelectVariant||void 0===l.RowSelectVariant?void 0:l.RowSelectVariant.radio)||"radio":(null===l.RowSelectVariant||void 0===l.RowSelectVariant?void 0:l.RowSelectVariant.checkbox)||"checkbox"})),a._defineProperty(s._assertThisInitialized(e),"newArray",(function(e){return c._toConsumableArray(Array(e))})),e}return s._createClass(n,[{key:"render",value:function(){var e=this.props,t=e.canSelectAll,n=e.isSelectable,r=e.sortBy;return o.createElement(l.Table,{cells:this.getColumns(),rows:this.createRows(),sortBy:r,"aria-label":"Loading",onSelect:n,selectVariant:n?this.selectVariant():null,canSelectAll:t},o.createElement(l.TableHeader,null),o.createElement(l.TableBody,null))}}]),n}(o.Component);f.propTypes={colSize:i.number,rowSize:i.number,columns:i.array,paddingColumnSize:i.number,sortBy:i.shape({index:i.number,direction:i.oneOf(["asc","desc"])}),isSelectable:i.bool,canSelectAll:i.bool,hasRadio:i.bool},f.defaultProps={rowSize:0,paddingColumnSize:0,canSelectAll:!1,isSelectable:!1,hasRadio:!1},t.SkeletonTable=f},1634:function(e,t,n){"use strict";var r=n(1475),a=n(27),o=n(10),i=n(7);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.publish_date;""!==n&&n||(n="0");var c=function(t){e({publish_date:"0"!==t&&t||"",page:1})};return{label:o.a.formatMessage(i.a.publishDate),type:r.conditionalFilterType.radio,urlParam:"publish_date",filterValues:{onChange:function(e,t){c(t)},items:a.r.map((function(e){return{label:e.label,value:e.value}})),value:n}}}},1635:function(e,t,n){"use strict";var r=n(1475),a=n(27),o=n(10),i=n(7);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.cvss_filter;""!==n&&n||(n="0");var c=function(t){e({cvss_filter:"0"!==t&&t||"",page:1})};return{label:o.a.formatMessage(i.a.cvssBaseScore),type:r.conditionalFilterType.radio,urlParam:"cvss_filter",filterValues:{onChange:function(e,t){c(t)},items:a.i.map((function(e){return{label:e.label,value:e.value}})),value:n}}}},1636:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1475),i=n(27),c=n(10),s=n(7),l=n(489),u=n.n(l);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.impact,r=function(t){e({impact:t.length>"0"&&t.filter((function(e){return","!==e})).join(",")||"",page:1})};return{label:c.a.formatMessage(s.a.impact),type:o.conditionalFilterType.checkbox,urlParam:"impact",filterValues:{onChange:function(e,t){r(t)},items:i.n.map((function(e){return{label:a.a.createElement(a.a.Fragment,null,e.hasIcon&&a.a.createElement(u.a,{className:"pf-u-mr-xs",color:e.iconColor}),e.label),value:e.value}})),value:n?n.split(","):[]}}}},1638:function(e,t,n){"use strict";var r=n(1475),a=n(27),o=n(10),i=n(7);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.business_risk_id,c=function(t){e({business_risk_id:t.length>"0"&&t.filter((function(e){return","!==e})).join(",")||"",page:1})};return{label:o.a.formatMessage(i.a.businessRisk),type:r.conditionalFilterType.checkbox,urlParam:"business_risk_id",filterValues:{onChange:function(e,t){c(t)},items:a.c.map((function(e){return{label:e.label,value:e.value}})),value:n?n.split(","):[]}}}},2063:function(e,t,n){"use strict";n.r(t);var r=n(252),a=n.n(r),o=n(42),i=n.n(o),c=n(317),s=n.n(c),l=n(676),u=n.n(l),p=n(681),f=n.n(p),d=n(682),m=n.n(d),b=n(683),y=n.n(b),v=n(487),h=n.n(v),O=n(677),g=n(668),j=n(26),S=n(4),_=n.n(S),E=n(0),P=n.n(E),C=n(290),w=n(135),D=n(1575),T=n(287),R=n(670),k=n(411),I=n.n(k),x=n(134),A=n.n(x),z=n(7),F=n(105),M=n.n(F),V=n(148),B=n.n(V),L=n(1633),N=n(1632),H=n(686),W=n(150),U=n(1631),Y=n(1524);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e){var t,n=e.context,r=e.header,a=e.entity,o=n.cves,i=n.methods,c=n.selectedCves,s=n.openedCves,l=n.canEditStatus;(null==o||null===(t=o.meta)||void 0===t?void 0:t.patch_access)||(r=r.filter((function(e){return"advisory"!==e.key})));var u=!o.data||0===o.data.length,p=u?[]:o.data.map((function(e){return c.includes(e.id)&&J(J({},e),{},{selected:!0})||e})).map((function(e,t){var n=t%2==0?s.find((function(t){return t.id===e.id}))||!1:{isOpen:void 0};return J(J({},e),{},{isOpen:n&&n.isOpen})}));return P.a.createElement(E.Fragment,null,o.isLoading?P.a.createElement(L.SkeletonTable,{colSize:6,rowSize:20}):P.a.createElement(E.Fragment,null,P.a.createElement(j.Table,{isStickyHeader:!0,canSelectAll:!1,"aria-label":"Vulnerability CVE table",cells:r,rows:u?function(){var e=n.cves;return[{heightAuto:!0,cells:[{props:{colSpan:8},title:0!==["filter","cvss_from","cvss_to","public_from","public_to","impact","status_id"].filter((function(t){return Object.prototype.hasOwnProperty.call(e.meta,t)&&e.meta[t]})).length?Y.f:a?Y.b:e.data&&0!==e.data.length?void 0:Y.a}]}]}():p,onSelect:u?void 0:function(e,t,r){var a=n.cves,o=n.methods,i=a.data[r]&&a.data[r].id;o.selectCves(t,i)},actionResolver:!u&&l&&function(e,t){return Object(H.e)(i,a,t.rowIndex)},sortBy:u?void 0:Object(W.c)([{key:"collapse"},{key:"checkbox"}].concat(B()(r)),o.meta.sort),onCollapse:u?void 0:function(e,t,r){return function(e,t,r){var a=n.cves,o=n.methods,i=n.expandCveDescription,c=a.data[t]&&a.data[t].id;o.openCves(r,[c],i)}(0,t,r)},onSort:u?void 0:function(e,t,n){return Object(W.g)(t,n,[{key:"collapse"},{key:"checkbox"}].concat(B()(r)),o.meta.sort,i.apply)},gridBreakPoint:"grid-lg",ouiaId:"cves-table"},P.a.createElement(E.Fragment,null,P.a.createElement(j.TableHeader,null),P.a.createElement(j.TableBody,null))),P.a.createElement(N.TableToolbar,null,P.a.createElement(U.a,{meta:o.meta,apply:i.apply}))))};q.propTypes={context:_.a.any,header:_.a.array,entity:_.a.string};var K=function(e){return P.a.createElement(_e.Consumer,null,(function(t){return P.a.createElement(q,M()({context:t},e))}))},Q=n(81),X=n(451),Z=n(27),$=n(704),ee=n(354),te=n(147),ne=n(100),re=n(149),ae=n(1530),oe=n(1695),ie=n(1696),ce=n(1551),se=n(1604),le=n(1634),ue=n(1635),pe=n(1636),fe=n(1552),de=n(1578),me=n(1638),be=n(1579),ye=n(1553);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=function(e){var t=e.entity,n=e.intl,r=e.context,a=r.cves,o=r.parameters,i=r.methods,c=r.selectedCves,s=r.expandCveDescription,l=r.canEditStatus,u=r.canRemediate,p=o.filter,f=o.advisory,d=u&&(c&&c.length||0),m=Object(E.useMemo)((function(){return Object(ce.a)({selectedItems:c,selectorHandler:i.selectCves,items:a,fetchResource:function(e){return i.fetchResource(he(he({},o),e))},multiRow:!0})}),[c,a,o,i]),b=[""].concat(B()(l?[{label:n.formatMessage(z.a.editStatus),onClick:function(){return i.showStatusModal(B()(c).map((function(e){return he({id:e},a.data.filter((function(t){return e===t.id})).map((function(e){return{status_id:e.status_id,cve_status_id:e.cve_status_id,justification:e.status_justification,cve_justification:e.cve_status_justification}}))[0])})),[])},props:{isDisabled:!d}}]:[]),[{label:s?n.formatMessage(z.a.kebabCollapseCves):n.formatMessage(z.a.kebabExpandCves),onClick:function(){var e=r.cves,t=r.methods,n=r.expandCveDescription,a=!n,o=n?[]:e.data.filter((function(e){return e.id})).map((function(e){return e.id}));t.openCves(a,o,!n)},props:{isDisabled:0===a.meta.total_items}}]),y=c.flatMap((function(e){return a.data.filter((function(t){return e===t.id}))}));return P.a.createElement(P.a.Fragment,null,P.a.createElement(se.PrimaryToolbar,{pagination:{itemCount:a.meta.total_items||0,page:a.meta.page||1,perPage:a.meta.page_size||1,ouiaId:"pagination-top",onSetPage:function(e,t){return Object(ye.c)(e,t,i.apply)},onPerPageSelect:function(e,t){return Object(ye.d)(e,t,i.apply)}},dedicatedAction:u&&t&&P.a.createElement(ie.a,{systems:t,cves:y}),actionsConfig:{actions:b,kebabToggleProps:{isDisabled:!d&&0===a.meta.total_items},dropdownProps:{ouiaId:"toolbar-actions"}},bulkSelect:{count:d,items:m.items,isDisabled:0===a.meta.total_items&&0===d,checked:Boolean(d),ouiaId:"bulk-select",onSelect:function(){return m.handleOnCheckboxChange()}},filterConfig:{items:[Object(fe.a)("filter",z.a.cve,z.a.searchFilterByCveID,p,i.apply),Object(de.a)(i.apply,o),Object(pe.a)(i.apply,o),Object(ue.a)(i.apply,o),Object(me.a)(i.apply,o),Object(be.a)(i.apply,o),Object(le.a)(i.apply,o),Object(fe.a)("advisory",z.a.advisory,z.a.search,f,i.apply)]},activeFiltersConfig:{filters:Object(ye.a)(o),onDelete:function(e,t){return Object(ye.e)(t,i.apply)}},exportConfig:he({isDisabled:0===a.meta.total_items,ouiaId:"export"},Object(ye.b)(i))}))};Oe.defaultProps={totalNumber:0,apply:function(){},downloadReport:function(){}},Oe.propTypes={entity:_.a.string,context:_.a.object,intl:_.a.any};var ge=Object(Q.c)((function(e){return P.a.createElement(_e.Consumer,null,(function(t){return P.a.createElement(Oe,M()({context:t},e))}))}));function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=Object(E.createContext)({}),Ee=function(e){var t=e.entity,n=e.intl,r=e.allowedCveActions,a=e.showHeaderLabel,o=e.setPageTitle,i=Object(C.useDispatch)(),c=Object(E.useState)((function(){return function(){return null}})),s=A()(c,2),l=s[0],u=s[1],p=Object(E.useState)(!1),f=A()(p,2),d=f[0],m=f[1],b=Object(E.useState)(!0),y=A()(b,2),v=y[0],h=y[1],O=Object(C.useSelector)((function(e){return e.SystemCvesStore.cveList})),j=Object(C.useSelector)((function(e){return e.SystemCvesStore.parameters})),S=Object(C.useSelector)((function(e){return e.SystemCvesStore.selectedCves})),_=Object(C.useSelector)((function(e){return e.SystemCvesStore.openedCves})),w=Object(C.useSelector)((function(e){return e.SystemCvesStore.expandCveDescription})),D=["REMEDIATE","EDIT_STATUS"].map((function(e){return r.includes(e)})),T=A()(D,2),k=T[0],I=T[1],x=Object(E.useMemo)((function(){return Object($.b)(t.id,O)}),[O]),F=Object(W.j)(Z.d),M=A()(F,2),V=M[0],B=M[1],L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(W.a)(e);i(Object(R.c)(t))};Object(E.useEffect)((function(){o&&(document.title="".concat(t.display_name,"\n                - ").concat(n.formatMessage(z.a.systemsHeader)," - ").concat(n.formatMessage(z.a.pageTitleSuffix))),v?(L(Se({sort:"-public_date"},B)),h(!1)):(i(Object(R.q)(Se(Se({},j),{},{system:t.id}))),d&&V(Se({},j))||m(!0))}),[j]),Object(E.useEffect)((function(){return function(){i(Object(R.h)())}}),[]);var N,H;return O.payload.errors?(N=O.payload.errors,H=N.status,404===parseInt(H)&&t.id?Y.d:(i(Object(g.clearNotifications)()),Y.g)):P.a.createElement(_e.Provider,{value:{cves:x,parameters:j,selectedCves:S,openedCves:_,expandCveDescription:w,canRemediate:k,canEditStatus:I,methods:{apply:L,downloadReport:function(e){var n=Se(Se({},j),{},{system:t.id});ae.a.exec(R.q,n,e,"system-cves")},selectCves:function(e,t){i(Object(R.A)(t))},openCves:function(e,t,n){i(Object(R.l)({isOpen:e,cves:t,expandCveDescription:n}))},showStatusModal:function(e){var n=Array.from(x.data.filter((function(t){return e.some((function(e){return e.id===t.id}))})));n=n.map((function(e){return{id:e.id,cve_status_id:e.cve_status_id,status_id:e.status_id,justification:e.status_justification,cve_justification:e.cve_status_justification}})),u((function(){return function(){return P.a.createElement(oe.a,{cveList:n,updateRef:function(){return Object(W.i)(x.meta,L)},inventoryList:[{id:t.id,display_name:t.display_name}],type:"systemDetail"})}}))},fetchResource:function(e){return Object(R.t)(Se(Se({},e),{},{system:t.id}))}}}},P.a.createElement(l,null),P.a.createElement(ee.Stack,{hasGutter:!0},a&&P.a.createElement(te.StackItem,null,P.a.createElement(re.TextContent,null,P.a.createElement(ne.Text,{component:ne.TextVariants.h2},n.formatMessage(z.a.cvesHeader)))),P.a.createElement(te.StackItem,null,P.a.createElement(ge,{entity:t.id}))),P.a.createElement(K,{header:Z.F,entity:t.id}))};Ee.defaultProps={allowedCveActions:[],showHeaderLabel:!1,setPageTitle:!1},Ee.propTypes={entity:_.a.object,intl:_.a.any,allowedCveActions:_.a.array,showHeaderLabel:_.a.bool};var Pe=Object(T.o)(Object(Q.c)(Ee)),Ce=function(e){var t=e.customItnlProvider,n=e.customRouter,r=I()(e,["customItnlProvider","customRouter"]),a=n?w.BrowserRouter:E.Fragment,o=t?X.b:E.Fragment;return P.a.createElement(o,t&&{locale:navigator.language.slice(0,2),messages:z.a},P.a.createElement(a,n&&{basename:"".concat(window.location.pathname)},P.a.createElement(Pe,r)))};Ce.propTypes={customItnlProvider:_.a.bool,customRouter:_.a.bool},Ce.defaultProps={customItnlProvider:!1,customRouter:!1};function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y()(this,n)}}var De=function(e){m()(n,e);var t=we(n);function n(e){return u()(this,n),t.call(this,e)}return f()(n,[{key:"render",value:function(){var e=this.props,t=e.entity,n=e.isOptOut,r=e.optOutSystemHandler,a=e.loaded;return t&&a?n?P.a.createElement(P.a.Fragment,null,P.a.createElement(Y.c,{buttonAction:function(){return r(!1)}})):P.a.createElement(P.a.Fragment,null,P.a.createElement(Pe,{entity:{id:t.id,display_name:t.display_name},allowedCveActions:["EDIT_STATUS","REMEDIATE"],showHeaderLabel:!0,setPageTitle:!0})):null}}]),n}(P.a.Component);De.propTypes={entity:_.a.object,isOptOut:_.a.bool,loaded:_.a.bool,optOutSystemHandler:_.a.func};var Te=Object(T.o)(Object(C.connect)((function(e){var t=e.entityDetails;return{entity:t.entity,isOptOut:t.opt_out,loaded:t.loaded}}),null)(De)),Re=n(21);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe={loaded:!1},Ae=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Re.v+"_FULFILLED":return Ie(Ie({},n),r.payload.data);case e.LOAD_ENTITY_FULFILLED:return Ie(Ie({},n),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return P.a.createElement(Te,{optOutSystemHandler:t})}}]});case e.LOAD_ENTITY_REJECTED:return Ie(Ie({},n),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return P.a.createElement(Te,null)}}]});default:return n}}},ze=n(152),Fe=n(678);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y()(this,n)}}var Le=function(e){m()(r,e);var t,n=Be(r);function r(e){var t;return u()(this,r),(t=n.call(this,e)).optOutSystem=function(e){t.props.optOutSystem(t.state.inventoryId,e).then((function(){t.props.fetchSystemDetails(t.state.inventoryId),!0===e?t.props.addNotification({variant:"success",title:t.props.intl.formatMessage(z.a.inventoryOptOutSuccess)}):t.props.addNotification({variant:"success",title:t.props.intl.formatMessage(z.a.inventoryResumeAnalysisTitle),description:t.props.intl.formatMessage(z.a.inventoryResumeAnalysisDescription)})}))},t.state={inventoryId:t.props.match.params.inventoryId,removeListener:function(){}},t}return f()(r,[{key:"componentDidMount",value:function(){this.props.fetchSystemDetails(this.state.inventoryId),this.fetchInventory()}},{key:"fetchInventory",value:(t=s()(a.a.mark((function e(){var t,n,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.loadInventory({ReactRedux:C,react:P.a,reactRouterDom:w,pfReactTable:{Table:j.Table,TableBody:j.TableBody,TableHeader:j.TableHeader,TableGridBreakpoint:j.TableGridBreakpoint,cellWidth:j.cellWidth,TableVariant:j.TableVariant,sortable:j.sortable,expandable:j.expandable,SortByDirection:j.SortByDirection},pfReact:D.reactCore});case 2:t=e.sent,n=t.inventoryConnector,r=t.mergeWithEntities,o=t.mergeWithDetail,i=t.INVENTORY_ACTION_TYPES,ze.a.register(Ve(Ve({},r()),o(Ae(i,this.optOutSystem)))),this.setState({InventoryHeader:n(ze.a.getStore()).InventoryDetailHead,InventoryBody:n(ze.a.getStore()).AppInfo,InvWrapper:n(ze.a.getStore()).DetailWrapper}),this.state.removeListener();case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,n=t.InventoryHeader,r=t.InventoryBody,a=t.InvWrapper,o=this.props,i=o.systemDetails,c=void 0===i?{}:i,s=o.errors,l=c.opt_out,u=void 0!==l&&l,p=c.entity,f=c.loaded,d=a||P.a.Fragment;return P.a.createElement(P.a.Fragment,null,P.a.createElement(d,null,P.a.createElement(Fe.a,{title:"",breadcrumbs:[{title:Z.o.systemsPage.title,to:Z.o.systemsPage.to,loaded:!0},{title:(null==p?void 0:p.display_name)||this.props.intl.formatMessage(z.a.invalidSystem),isActive:!0,loaded:f}]},n&&!s&&P.a.createElement(n,{hideBack:!0,actions:p&&[u?{title:this.props.intl.formatMessage(z.a.inventoryKebabOptionsResume),onClick:function(){return e.optOutSystem(!1)}}:{title:this.props.intl.formatMessage(z.a.inventoryKebabOptionsExclude),onClick:function(){return e.optOutSystem(!0)}}]})),r&&P.a.createElement(O.Main,null,P.a.createElement(P.a.Fragment,null,P.a.createElement(r,{optOutSystemHandler:this.optOutSystem})))))}}]),r}(P.a.Component);Le.propTypes={fetchSystemDetails:_.a.func,systemDetails:_.a.object,optOutSystem:_.a.func,match:_.a.object,addNotification:_.a.func,intl:_.a.any,errors:_.a.object};t.default=Object(T.o)(Object(Q.c)(Object(C.connect)((function(e){return{errors:e.SystemCvesStore.cveList.payload.errors,systemDetails:e.entityDetails}}),(function(e){return{optOutSystem:function(t,n){return e(Object(R.w)(t,n))},fetchSystemDetails:function(t){return e(Object(R.s)(t))},addNotification:function(t){return e(Object(g.addNotification)(t))}}}))(Le)))}}]);
//# sourceMappingURL=SystemDetailsPage.b704858f4a823e3b290a.js.map