"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[806],{74372:(e,t,a)=>{a.d(t,{Z:()=>Z});var n=a(29439),s=a(83115),i=a(59775),l=a(92504),r=a(49739),o=a(83826),u=a(87346),c=a(45697),f=a.n(c),m=a(77865),d=a.n(m),v=a(71478),p=a(52837),g=a(91709),b=a(74806),h=a(30893),E=function(e){var t=e.cves,a=e.updateRef,c=e.intl,f=(0,m.useState)(t),b=(0,n.Z)(f,1)[0],E=(0,m.useState)("0"),Z=(0,n.Z)(E,2),S=Z[0],_=Z[1],k=(0,m.useState)(),M=(0,n.Z)(k,2),y=M[0],I=M[1],x=(0,m.useCallback)((function(){I(b&&1===b.length&&b[0].justification||"")}),[b]);(0,m.useEffect)((function(){_(b&&1===b.length&&b[0].business_risk_id.toString()||"0"),x()}),[t,x,b]),(0,m.useEffect)(x,[x]);var C=function(e,t){var a=t.currentTarget.value;_(a)},R={variant:"success",title:c.formatMessage(h.Z.notificationBusinessRiskUpdateSuccessful,{count:b.length||0})},F={variant:"danger",autoDismiss:!1,title:c.formatMessage(h.Z.notificationBusinessRiskUpdateFailureTitle),description:c.formatMessage(h.Z.notificationBusinessRiskUpdateFailureBody)};return d().createElement(g.ZP,{items:b,onSave:function(){return(0,v.le)({business_risk_id:parseInt(S),cve:b.map((function(e){return e.id})),business_risk_text:y}).then(a).catch((function(e){throw e}))},onSuccessNotification:R,onFailureNotification:F,title:c.formatMessage(h.Z.businessRiskModalTitle),ouiaId:"business-risk-modal"},d().createElement(r.K,{hasGutter:!0},d().createElement(o.v,null,c.formatMessage(h.Z.businessRiskModalInfo)),d().createElement(o.v,null,d().createElement(s.l,null,d().createElement(i.c,{label:c.formatMessage(h.Z.businessRiskLabel),fieldId:"businessRiskId"},p.eF.map((function(e){return d().createElement(l.Y,{className:"business-risk-radio",value:e.value,isChecked:S===e.value,onChange:C,label:e.label,key:e.value,id:e.value,name:e.label,"aria-label":e.label,ouiaId:"business-risk-radio"})}))),d().createElement(i.c,{label:c.formatMessage(h.Z.justificationLabel),fieldId:"label"},d().createElement(u.Kx,{type:"text",onChange:function(e){I(e)},value:y,resizeOrientation:"vertical","aria-label":"justification",style:{minHeight:"2.25rem"}}))))))};E.propTypes={cves:f().array,updateRef:f().func,intl:f().any};const Z=(0,b.ZP)(E)},19738:(e,t,a)=>{a.d(t,{Z:()=>k});var n=a(29439),s=a(93149),i=a(83115),l=a(59775),r=a(79851),o=a(34512),u=a(49739),c=a(83826),f=a(44479),m=a(53688),d=a(91290),v=a(45697),p=a.n(v),g=a(77865),b=a.n(g),h=a(71478),E=a(91709),Z=a(74806),S=a(30893),_=function(e){var t=e.cves,a=e.updateRef,v=e.intl,p=(0,g.useState)(t),Z=(0,n.Z)(p,1)[0],_=(0,E.Hb)(Z&&Z.every((function(e){return e.status_id===Z[0].status_id}))&&Z[0].status_id.toString()||"0"),k=_.StatusSelect,M=_.statusId,y=_.setProps,I=(0,E.fj)(Z&&Z.every((function(e){return e.justification===Z[0].justification}))&&Z[0].justification||""),x=I.JustificationInput,C=I.justification,R=(0,g.useState)(!1),F=(0,n.Z)(R,2),P=F[0],T=F[1],j=Z.filter((function(e){return e.exposed_systems_count>0})).map((function(e){return e.id}));(0,g.useEffect)((function(){y({ouiaId:"status-select"})}),[y]);var w={variant:"success",title:v.formatMessage(S.Z.notificationStatusUpdateSuccessful,{count:Z.length||0})},N={variant:"danger",autoDismiss:!1,title:v.formatMessage(S.Z.notificationStatusUpdateFailureTitle),description:v.formatMessage(S.Z.notificationStatusUpdateFailureBody)},U=v.formatMessage(S.Z.cveStatusModalTitle,{count:Z.length||0});return b().createElement(E.ZP,{items:Z,onSave:function(){return(0,h.xn)({status_id:parseInt(M),cve:Z.map((function(e){return e.id})),status_text:C}).then((function(){return!(!P&&j.length>0)||(0,h.cr)({cve:j})})).then(a).catch((function(e){throw e}))},onSuccessNotification:w,onFailureNotification:N,title:U,ouiaId:"status-modal"},b().createElement(u.K,{hasGutter:!0},b().createElement(c.v,null,v.formatMessage(S.Z.cveStatusModalSelected,{count:Z.length||0,cveId:Z[0].id,b:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return b().createElement("b",null,t)}})),b().createElement(c.v,null,b().createElement(m.ZP,{className:"pf-u-mr-xs",fontSize:"var(--pf-global--FontSize--md)",color:"var(--pf-global--active-color--300)"}),v.formatMessage(S.Z.cveStatusModalInfo,{count:Z.length||0}),b().createElement(f.u,{content:v.formatMessage(S.Z.cveStatusModalInfoTooltip)},b().createElement(b().Fragment,null,b().createElement(d.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)"})))),b().createElement(c.v,null,b().createElement(i.l,{key:"key"},k,x,j.length>0&&b().createElement(l.c,{fieldId:"overwrite"},b().createElement(r.P,null,b().createElement(o.J,null,b().createElement(s.X,{label:v.formatMessage(S.Z.cveStatusModalOverwriteCheckbox),id:"alt-form-checkbox-1",name:"alt-form-checkbox-1",isChecked:P,onChange:function(e){return T(e)}})),b().createElement(o.J,null,b().createElement(f.u,{content:v.formatMessage(S.Z.cveStatusModalOverwriteTooltip)},b().createElement(d.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)",style:{verticalAlign:"0"}})))))))))};_.propTypes={cves:p().array,updateRef:p().func,intl:p().any};const k=(0,Z.ZP)(_)}}]);
//# sourceMappingURL=../sourcemaps/806.d6791d3b0cd4fc3210a0.js.map