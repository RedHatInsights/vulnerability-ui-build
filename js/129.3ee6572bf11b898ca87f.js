(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[129],{96282:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var a=n(63038),s=n.n(a),l=n(83115),r=n(59775),i=n(92504),u=n(49739),c=n(83826),o=n(45469),f=n(45697),m=n.n(f),v=n(25558),d=n.n(v),b=n(92339),p=n(59912),g=n(10752),E=n(74806),h=n(18623),_=function(e){var t=e.cves,n=e.updateRef,a=e.intl,f=(0,v.useState)(t),m=s()(f,1)[0],E=(0,v.useState)("0"),_=s()(E,2),S=_[0],k=_[1],M=(0,v.useState)(),Z=s()(M,2),y=Z[0],I=Z[1],x=(0,v.useCallback)((function(){I(m&&1===m.length&&m[0].justification||"")}),[m]);(0,v.useEffect)((function(){k(m&&1===m.length&&m[0].business_risk_id.toString()||"0"),x()}),[t,x,m]),(0,v.useEffect)(x,[t]);var C=function(e,t){var n=t.currentTarget.value;k(n)},P={variant:"success",title:a.formatMessage(h.Z.businessRiskUpdateSuccessful,{count:m.length||0})};return d().createElement(g.ZP,{items:m,onSave:function(){return(0,b.le)({business_risk_id:parseInt(S),cve:m.map((function(e){return e.id})),business_risk_text:y}).then(n)},onSuccessNotification:P,title:a.formatMessage(h.Z.businessRiskModalTitle),ouiaId:"business-risk-modal"},d().createElement(u.K,{hasGutter:!0},d().createElement(c.v,null,a.formatMessage(h.Z.businessRiskModalInfo)),d().createElement(c.v,null,d().createElement(l.l,null,d().createElement(r.c,{label:a.formatMessage(h.Z.businessRiskLabel),fieldId:"businessRiskId"},p.eF.map((function(e){return d().createElement(i.Y,{className:"business-risk-radio",value:e.value,isChecked:S===e.value,onChange:C,label:e.label,key:e.value,id:e.value,name:e.label,"aria-label":e.label,ouiaId:"business-risk-radio"})}))),d().createElement(r.c,{label:a.formatMessage(h.Z.justificationLabel),fieldId:"label"},d().createElement(o.Kx,{type:"text",onChange:function(e){I(e)},value:y,resizeOrientation:"vertical","aria-label":"justification"}))))))};_.propTypes={cves:m().array,updateRef:m().func,intl:m().any};const S=(0,E.ZP)(_)},39005:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var a=n(63038),s=n.n(a),l=n(93149),r=n(83115),i=n(59775),u=n(79851),c=n(34512),o=n(49739),f=n(83826),m=n(44479),v=n(53688),d=n(91290),b=n(45697),p=n.n(b),g=n(25558),E=n.n(g),h=n(92339),_=n(10752),S=n(74806),k=n(18623),M=function(e){var t=e.cves,n=e.updateRef,a=e.intl,b=(0,g.useState)(t),p=s()(b,1)[0],S=(0,_.Hb)(p&&p.every((function(e){return e.status_id===p[0].status_id}))&&p[0].status_id.toString()||"0"),M=S.StatusSelect,Z=S.statusId,y=S.setProps,I=(0,_.fj)(p&&p.every((function(e){return e.justification===p[0].justification}))&&p[0].justification||""),x=I.JustificationInput,C=I.justification,P=(0,g.useState)(!1),R=s()(P,2),j=R[0],T=R[1],w=p.filter((function(e){return e.exposed_systems_count>0})).map((function(e){return e.id}));(0,g.useEffect)((function(){y({ouiaId:"status-select"})}),[y]);var N={variant:"success",title:a.formatMessage(k.Z.cveStatusModalUpdateSuccessful,{count:p.length||0})},z=a.formatMessage(k.Z.cveStatusModalTitle,{count:p.length||0});return E().createElement(_.ZP,{items:p,onSave:function(){return(0,h.xn)({status_id:parseInt(Z),cve:p.map((function(e){return e.id})),status_text:C}).then((function(){return!j&&w.length>0&&(0,h.cr)({cve:w})})).then(n)},onSuccessNotification:N,title:z,ouiaId:"status-modal"},E().createElement(o.K,{hasGutter:!0},E().createElement(f.v,null,a.formatMessage(k.Z.cveStatusModalSelected,{count:p.length||0,cveId:p[0].id,b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return E().createElement("b",null,t)}})),E().createElement(f.v,null,E().createElement(v.ZP,{className:"pf-u-mr-xs",fontSize:"var(--pf-global--FontSize--md)",color:"var(--pf-global--active-color--300)"}),a.formatMessage(k.Z.cveStatusModalInfo,{count:p.length||0}),E().createElement(m.u,{content:a.formatMessage(k.Z.cveStatusModalInfoTooltip)},E().createElement(E().Fragment,null,E().createElement(d.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)",style:{verticalAlign:"-0.125em"}})))),E().createElement(f.v,null,E().createElement(r.l,{key:"key"},M,x,w.length>0&&E().createElement(i.c,{fieldId:"overwrite"},E().createElement(u.P,null,E().createElement(c.J,null,E().createElement(l.X,{label:a.formatMessage(k.Z.cveStatusModalOverwriteCheckbox),id:"alt-form-checkbox-1",name:"alt-form-checkbox-1",isChecked:j,onChange:function(e){return T(e)}})),E().createElement(c.J,null,E().createElement(m.u,{content:a.formatMessage(k.Z.cveStatusModalOverwriteTooltip)},E().createElement(d.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)",style:{verticalAlign:"0"}})))))))))};M.propTypes={cves:p().array,updateRef:p().func,intl:p().any};const Z=(0,S.ZP)(M)}}]);
//# sourceMappingURL=129.3ee6572bf11b898ca87f.js.map