(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{445:function(e,t,n){"use strict";n.r(t);var a=n(68),s=n.n(a),r=n(82),i=n.n(r),c=n(275),o=n.n(c),l=n(50),u=n.n(l),p=n(51),f=n.n(p),m=n(52),h=n.n(m),y=n(53),v=n.n(y),d=n(54),b=n.n(d),g=n(133),k=n.n(g),C=n(48),_=n(98),I=n(107),E=n(106),w=n(80),D=n(79),j=n(321),O=n.n(j),R=n(456),S=n(1),z=n.n(S),L=n(2),T=n.n(L),x=n(36),F=n(49),H=n(121),J=n(277),M=n(290),N=n(280),P=n(322),U=n(287),V=n(55),W=n(81),A=n(283),q=function(e){function t(e){var n;return u()(this,t),(n=h()(this,v()(t).call(this,e))).filterChange=O()(function(e){var t=n.props.systems.meta.page_size;n.setState(o()({},n.state,{filter:e}),function(){return n.props.fetchData({page_size:t,filter:n.state.filter})})},400),n.checkItem=n.checkItem.bind(k()(k()(n))),n.onRefresh=n.onRefresh.bind(k()(k()(n))),n.filterChange=n.filterChange.bind(k()(k()(n))),n.state={InventoryCmp:function(){return T.a.createElement("div",null,"Loading...")},filter:"",removeListener:function(){},columns:[{key:"display_name",title:"Name",composed:["facts.os_release","display_name"]},{key:"cve_count",title:"CVEs"},{key:"updated",title:"Last Seen",isTime:!0}]},n}return b()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.setHeader({breadcrumbs:[{title:"Vulnerability",to:W.b.vulnerabilities},{title:"Systems",isActive:!0}]}),this.props.fetchData(),this.fetchInventory()}},{key:"fetchInventory",value:function(){var e=i()(s.a.mark(function e(){var t,n,a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.loadInventory({react:T.a,reactRouterDom:F,reactCore:C,reactIcons:w,pfReact:{PaginationRow:R.a}});case 2:t=e.sent,n=t.inventoryConnector,a=t.mergeWithEntities,r=t.mergeWithDetail,V.a.register(o()({},a(Object(P.a)(this.state.columns)),r())),this.setState({InventoryCmp:n().InventoryTable}),this.state.removeListener();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"checkItem",value:function(e,t){var n=this.state.systemList;n[e].selected=t,this.setState({systemList:n})}},{key:"onRefresh",value:function(e){var t=e.page,n=e.per_page,a=this.props.systems.meta;a.page===t&&a.page_size===n||this.props.fetchData({page:a.page_size!==n?1:t,page_size:n,filter:this.state.filter})}},{key:"render",value:function(){var e=this.state.InventoryCmp,t=this.props.systems,n=t.data,a=t.meta;return T.a.createElement(_.a,null,T.a.createElement(A.a,{title:"Systems"}),T.a.createElement(D.Main,null,T.a.createElement(e,{hasCheckbox:!1,page:a.page,total:a.total_items,perPage:a.page_size,onRefresh:this.onRefresh,items:n.map(function(e){return o()({id:e.attributes.inventory_id},e.attributes)})},T.a.createElement(I.a,{className:"systems-toolbar"},T.a.createElement(E.a,null,T.a.createElement(D.SimpleTableFilter,{onFilterChange:this.filterChange,buttonTitle:null,placeholder:"Find a system by UUID"}))))))}}]),t}(T.a.Component);q.propTypes={fetchData:z.a.func,setHeader:z.a.func,systems:M.a};t.default=Object(H.a)(Object(x.connect)(function(e){return{systems:Object(U.a)(e)}},function(){return{setHeader:function(e){return Object(J.a)(Object(N.g)(e))},fetchData:function(e){return Object(J.a)(Object(N.f)(e))}}})(q))}}]);
//# sourceMappingURL=../sourcemaps/Systems.js.map