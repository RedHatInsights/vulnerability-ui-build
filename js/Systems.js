(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{639:function(e,t,n){"use strict";n.r(t);var a=n(59),s=n.n(a),r=n(70),i=n.n(r),c=n(272),o=n.n(c),l=n(41),u=n.n(l),p=n(42),f=n.n(p),h=n(43),m=n.n(h),y=n(44),v=n.n(y),d=n(45),g=n.n(d),b=n(124),k=n.n(b),C=n(58),_=n(92),I=n(101),E=n(100),w=n(123),D=n(287),R=n(270),j=n(481),O=n.n(j),z=n(651),L=n(1),S=n.n(L),T=n(2),x=n.n(T),F=n(38),H=n(67),J=n(264),M=n(274),N=n(290),P=n(275),U=n(482),W=n(288),V=n(47),q=n(289),A=function(e){function t(e){var n;return u()(this,t),(n=m()(this,v()(t).call(this,e))).filterChange=O()(function(e){var t=n.props.systems.meta.page_size;n.setState(o()({},n.state,{filter:e}),function(){return n.props.fetchData({page_size:t,filter:n.state.filter})})},400),n.checkItem=n.checkItem.bind(k()(k()(n))),n.onRefresh=n.onRefresh.bind(k()(k()(n))),n.filterChange=n.filterChange.bind(k()(k()(n))),n.state={InventoryCmp:function(){return x.a.createElement("div",null,"Loading...")},filter:"",removeListener:function(){},columns:[{key:"display_name",title:"Name",composed:["facts.os_release","display_name"]},{key:"cve_count",title:"CVEs"},{key:"updated",title:"Last Seen",isTime:!0}]},n}return g()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.fetchData(),this.fetchInventory()}},{key:"fetchInventory",value:function(){var e=i()(s.a.mark(function e(){var t,n,a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.loadInventory({react:x.a,reactRouterDom:H,reactCore:C,reactIcons:w,pfReactTable:D,pfReact:{PaginationRow:z.a}});case 2:t=e.sent,n=t.inventoryConnector,a=t.mergeWithEntities,r=t.mergeWithDetail,V.a.register(o()({},a(Object(U.a)(this.state.columns)),r())),this.setState({InventoryCmp:n().InventoryTable}),this.state.removeListener();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"checkItem",value:function(e,t){var n=this.state.systemList;n[e].selected=t,this.setState({systemList:n})}},{key:"onRefresh",value:function(e){var t=e.page,n=e.per_page,a=this.props.systems.meta;a.page===t&&a.page_size===n||this.props.fetchData({page:a.page_size!==n?1:t,page_size:n,filter:this.state.filter})}},{key:"render",value:function(){var e=this.state.InventoryCmp,t=this.props.systems,n=t.data,a=t.meta;return x.a.createElement(_.a,null,x.a.createElement(q.a,{title:"Systems"}),x.a.createElement(R.Main,null,x.a.createElement(e,{hasCheckbox:!1,page:a.page,total:a.total_items,perPage:a.page_size,onRefresh:this.onRefresh,items:n.map(function(e){return o()({id:e.attributes.inventory_id},e.attributes)})},x.a.createElement(I.a,{className:"systems-toolbar"},x.a.createElement(E.a,null,x.a.createElement(R.SimpleTableFilter,{onFilterChange:this.filterChange,buttonTitle:null,placeholder:"Find a system by UUID"}))))))}}]),t}(x.a.Component);A.propTypes={fetchData:S.a.func,setHeader:S.a.func,systems:N.a};t.default=Object(J.a)(Object(F.connect)(function(e){return{systems:Object(W.a)(e)}},function(){return{setHeader:function(e){return Object(M.a)(Object(P.g)(e))},fetchData:function(e){return Object(M.a)(Object(P.f)(e))}}})(A))}}]);
//# sourceMappingURL=../sourcemaps/Systems.js.map