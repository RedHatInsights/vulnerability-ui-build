"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[3774],{39591:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(85893),o=n(77865);const a=function(e){var t=e.component,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["component"]);return(0,o.useEffect)((function(){console.error("Unable to load inventory component. Failed to load ".concat(t,"."),n)}),[]),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Unable to load inventory component"}),(0,r.jsxs)("h2",{children:["Failed to load ",t]}),(0,r.jsx)("code",{children:"More info can be found in browser console output."})]})}},21892:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var r=n(4942),o=n(29439),a=n(14748),i=n(83215),s=n(77865),c=n.n(s),l=n(28216),u=n(5977),p=n(40306),f=n(45697),d=n.n(f),m=n(39994),y=n(24788),v=n(97481),b=n(32132),O=n(30893),g=n(78733),j=n(37450),h=function(e){var t,n=e.optOutSystemHandler,r=null!==(t=(0,l.v9)((function(e){return e.entityDetails})))&&void 0!==t?t:{},a=r.entity,i=r.loaded,s=r.opt_out,u=(0,j.Wu)([g._I.basicReporting,g._I.readVulnerabilityResults,g._I.setPairStatus,g._I.readExcluded]),p=(0,o.Z)(u,2),f=(0,o.Z)(p[0],4),d=f[0],h=f[1],E=f[2],_=f[3];return p[1]?c().createElement(v.Z,{centered:!0}):h?a&&i&&s?_?c().createElement(y.QJ,{buttonAction:function(){return n(a.display_name,!1)}}):c().createElement(y.bY,{title:b.N.formatMessage(O.Z.notAuthorizedNoAccessForSystem)}):a?c().createElement(m.QE,{entity:{id:null==a?void 0:a.id,display_name:null==a?void 0:a.display_name},showHeaderLabel:!0,setPageTitle:!0,canExport:d,canEditPairStatus:E}):i?null:c().createElement(v.Z,{centered:!0}):c().createElement(y.bY,{serviceName:g.m_})};h.propTypes={optOutSystemHandler:d().func};const E=h;var _=n(83296),x=n(75115),P=n(86896),N=n(85893),w=n(59823),Z=n(35356),S=n(39591),D=n(94184),I=n.n(D),k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},k.apply(this,arguments)},T=function(e){var t=(0,u.k6)(),n=(0,l.oR)(),r=e.component;return(0,N.jsx)(r,k({className:I()(e.className,"inventory")},{children:(0,N.jsx)(s.Suspense,k({fallback:e.fallback},{children:(0,N.jsx)(w.ScalprumComponent,k({history:t,store:n,appName:"inventory",module:"./DetailWrapper",scope:"inventory",ErrorComponent:(0,N.jsx)(S.Z,k({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e))}))}))};T.propTypes={fallback:d().node,innerRef:d().object,component:d().string,className:d().string};var R=c().forwardRef((function(e,t){return(0,N.jsx)(T,k({innerRef:t},e))}));R.propTypes={fallback:d().node,component:d().string,className:d().string},R.defaultProps={fallback:(0,N.jsx)(Z.Bullseye,k({className:"pf-u-p-lg"},{children:(0,N.jsx)(Z.Spinner,{size:"xl"})})),component:"section"};const F=R;var L=function(){return L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},L.apply(this,arguments)},M=function(e){var t=(0,u.k6)(),n=(0,l.oR)(),r=e.component;return(0,N.jsx)(r,L({className:I()(e.className,"inventory")},{children:(0,N.jsx)(s.Suspense,L({fallback:e.fallback},{children:(0,N.jsx)(w.ScalprumComponent,L({history:t,store:n,appName:"inventory",module:"./InventoryDetailHead",scope:"inventory",ErrorComponent:(0,N.jsx)(S.Z,L({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e))}))}))};M.propTypes={fallback:d().node,innerRef:d().object,component:d().string,className:d().string};var C=c().forwardRef((function(e,t){return(0,N.jsx)(M,L({innerProps:t},e))}));C.propTypes={fallback:d().node,component:d().string,className:d().string},C.defaultProps={fallback:(0,N.jsx)(Z.Bullseye,L({className:"pf-u-p-lg"},{children:(0,N.jsx)(Z.Spinner,{size:"xl"})})),component:"section"};const A=C;var B=n(75910);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W={loaded:!1};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const V=function(){var e,t=(0,l.I0)(),n=(0,u.$B)(),r=(0,P.Z)(),f=null!==(e=(0,l.v9)((function(e){return e.entityDetails})))&&void 0!==e?e:{},d=f.entity,m=f.loaded,y=f.opt_out,v=(0,l.v9)((function(e){return e.SystemCvesStore.cveList.payload.errors})),b=(0,j.Wu)([g._I.setExcludedIncluded]),h=(0,o.Z)(b,1),N=(0,o.Z)(h[0],1)[0],w=n.params.inventoryId;(0,s.useEffect)((function(){t((0,p.o0)(w))}),[t,w]),(0,s.useEffect)((function(){return function(){t((0,i.L1)())}}),[t]);var Z=function(e){return{exclude:{success:{variant:"success",title:r.formatMessage(O.Z.notificationExcludeSuccess,{count:1,systemName:e})},failure:{variant:"danger",autoDismiss:!1,title:r.formatMessage(O.Z.notificationExcludeFailureTitle,{count:1,systemName:e}),description:r.formatMessage(O.Z.notificationDetailExcludeFailureBody,{count:1})}},include:{success:{variant:"success",title:r.formatMessage(O.Z.notificationIncludeSuccessTitle,{count:1,systemName:e}),description:r.formatMessage(O.Z.notificationIncludeSuccessBody,{count:1})},failure:{variant:"danger",autoDismiss:!1,title:r.formatMessage(O.Z.notificationIncludeFailureTitle,{count:1,systemName:e}),description:r.formatMessage(O.Z.notificationDetailIncludeFailureBody,{count:1})}}}},S=function(e,n){t((0,p.R0)([w],n)).then((function(){t((0,p.o0)(w)),t((0,i.wN)(n?Z(e).exclude.success:Z(e).include.success))})).catch((function(r){t((0,i.wN)("503"===r.status?g.iF:"403"===r.status?g._V:n?Z(e).exclude.failure:Z(e).include.failure))}))};return c().createElement(F,{inventoryId:w,onLoad:function(e){var t=e.mergeWithEntities,n=e.mergeWithDetail,r=e.INVENTORY_ACTION_TYPES;_.Z.register(z(z({},t()),n(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case B.up+"_FULFILLED":return Y(Y({},t),n.payload.data);case e.LOAD_ENTITY_FULFILLED:case e.LOAD_ENTITY_REJECTED:return Y(Y({},t),{},{loaded:!0});default:return t}}}(r))))}},c().createElement("section",{className:"inventory"},c().createElement(x.Z,{title:"",breadcrumbs:[{title:g.yy.systemsPage.title,to:g.yy.systemsPage.to,loaded:!0},{title:(null==d?void 0:d.display_name)||r.formatMessage(O.Z.invalidSystem),isActive:!0,loaded:m}]},!v&&c().createElement(A,{hideBack:!0,actions:d&&N&&[y?{title:r.formatMessage(O.Z.inventoryKebabOptionsResume),onClick:function(){return S(null==d?void 0:d.display_name,!1)}}:{title:r.formatMessage(O.Z.inventoryKebabOptionsExclude),onClick:function(){return S(null==d?void 0:d.display_name,!0)}}]}))),c().createElement(a.Z,null,c().createElement(E,{optOutSystemHandler:S})))}}}]);
//# sourceMappingURL=../sourcemaps/SystemDetailsPage.cc43b99d2198398bc4c59ac61e770f55.js.map