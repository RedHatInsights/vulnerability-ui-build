"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[215],{62215:(t,e,s)=>{s.d(e,{Z:()=>m});var n=s(4942),r=s(15861),a=s(71002),i=s(15671),o=s(87757),c=s.n(o),u=s(35240),l=s(32132),f=s(30893);function p(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?p(Object(s),!0).forEach((function(e){(0,n.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const m=new function t(){var e=this;(0,i.Z)(this,t),this.filename=function(t){switch(t){case"reports":return"vulnerability_cves-report--".concat((new Date).toISOString().split("T")[0]);case"systems-exposed":return"vulnerability_systems-exposed-".concat(e.params.cve,"--").concat(e.defaultParams.date);case"system-list":return"vulnerability_systems--".concat(e.defaultParams.date);default:return"vulnerability_cves--".concat(e.defaultParams.date)}},this.checkTypes=function(t,s,n){if("function"!=typeof t)throw"exec expects the 1st param to be funtion. Received ".concat((0,a.Z)(t));if(!e.pages.includes(s))throw"Page ".concat(s," does not exist");if(!e.formats.includes(n))throw"Format ".concat(n," is not supported")},this.exec=function(){var t=(0,r.Z)(c().mark((function t(s,n,r,a,i,o){var l,f,p,m,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(e.notifications.start),e.checkTypes(s,a,r),e.params.cve=(null==n?void 0:n.id)||null,t.prev=3,t.next=6,s(d(d(d(d({},n.id&&{id:n.id}),n),e.defaultParams),{},{data_format:r}));case 6:return l=t.sent,f=l.payload,t.next=10,f;case 10:p=t.sent,m=p.data,v="json"===r?JSON.stringify(m):m,(0,u.Sv)(v,e.filename(a),r),o(),i(e.notifications.success),t.next=23;break;case 18:throw t.prev=18,t.t0=t.catch(3),o(),i(e.notifications.failure),"".concat(t.t0);case 23:case"end":return t.stop()}}),t,null,[[3,18]])})));return function(e,s,n,r,a,i){return t.apply(this,arguments)}}(),this.defaultParams={page:1,page_size:Math.min(Number.MAX_SAFE_INTEGER,9007199254740991),date:(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc"},this.params={cve:null},this.pages=["systems-exposed","system-cves","cves","system-list"],this.formats=["csv","json"],this.notifications={start:{variant:"info",title:l.N.formatMessage(f.Z.notificationReportDownloadStart)},success:{variant:"success",title:l.N.formatMessage(f.Z.notificationReportDownloadSuccess)},failure:{variant:"danger",autoDismiss:!1,title:l.N.formatMessage(f.Z.notificationReportDownloadFailureTitle),description:l.N.formatMessage(f.Z.notificationReportDownloadFailureBody)}}}}}]);
//# sourceMappingURL=../sourcemaps/215.6afa3b60411a99872929b48dfd32c903.js.map