"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[774],{98489:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(4942),i=n(86350),o=n(83215),a=n(45697),c=n.n(a),s=n(77865),u=n.n(s),l=n(28216),d=n(5977),f=n(83594),y=n(41740),p=n(24788),m=function(e){var t=e.entity,n=e.isOptOut,r=e.optOutSystemHandler,i=e.loaded;return t&&i&&n?u().createElement(p.QJ,{buttonAction:function(){return r(!1)}}):u().createElement(y.QE,{entity:{id:null==t?void 0:t.id,display_name:null==t?void 0:t.display_name},allowedCveActions:["EDIT_STATUS","REMEDIATE"],showHeaderLabel:!0,setPageTitle:!0})};m.propTypes={entity:c().object,isOptOut:c().bool,loaded:c().bool,optOutSystemHandler:c().func};const O=(0,d.EN)((0,l.$j)((function(e){var t=e.entityDetails;return{entity:t.entity,isOptOut:t.opt_out,loaded:t.loaded}}),null)(m));var b=n(75910);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={loaded:!1},_=n(83296),j=n(75115),D=n(74806),h=n(78733),S=n(30893),P=n(38775),Z=n(53895),w=n(33902);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=e.fetchSystemDetails,n=e.systemDetails,r=void 0===n?{}:n,a=e.optOutSystem,c=e.match,d=e.addNotification,f=e.intl,y=e.errors,p=(0,l.I0)(),m=c.params.inventoryId;(0,s.useEffect)((function(){t(m)}),[t,m]),(0,s.useEffect)((function(){return function(){p((0,o.L1)())}}),[p]);var v=function(e){return{exclude:{success:{variant:"success",title:f.formatMessage(S.Z.notificationExcludeSuccess,{count:1,systemName:e})},failure:{variant:"danger",autoDismiss:!1,title:f.formatMessage(S.Z.notificationExcludeFailureTitle,{count:1,systemName:e}),description:f.formatMessage(S.Z.notificationDetailExcludeFailureBody,{count:1})}},include:{success:{variant:"success",title:f.formatMessage(S.Z.notificationIncludeSuccessTitle,{count:1,systemName:e}),description:f.formatMessage(S.Z.notificationIncludeSuccessBody,{count:1})},failure:{variant:"danger",autoDismiss:!1,title:f.formatMessage(S.Z.notificationIncludeFailureTitle,{count:1,systemName:e}),description:f.formatMessage(S.Z.notificationDetailIncludeFailureBody,{count:1})}}}},D=function(e){a(m,e).then((function(){var n=r.entity.display_name;t(m),d(e?v(n).exclude.success:v(n).include.success)})).catch((function(t){var n=r.entity.display_name;d("503"===t.status?h.iF:e?v(n).exclude.failure:v(n).include.failure)}))},T=r.opt_out,I=void 0!==T&&T,L=r.entity,M=r.loaded;return u().createElement(P.Z,null,u().createElement(j.Z,{title:"",breadcrumbs:[{title:h.yy.systemsPage.title,to:h.yy.systemsPage.to,loaded:!0},{title:(null==L?void 0:L.display_name)||f.formatMessage(S.Z.invalidSystem),isActive:!0,loaded:M}]},!y&&u().createElement(Z.Z,{onLoad:function(e){var t=e.mergeWithEntities,n=e.mergeWithDetail,r=e.INVENTORY_ACTION_TYPES;_.Z.register(N(N({},t()),n(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case b.up+"_FULFILLED":return E(E({},n),r.payload.data);case e.LOAD_ENTITY_FULFILLED:return E(E({},n),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return u().createElement(O,{optOutSystemHandler:t})}}]});case e.LOAD_ENTITY_REJECTED:return E(E({},n),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return u().createElement(O,null)}}]});default:return n}}}(r,D))))},hideBack:!0,actions:L&&[I?{title:f.formatMessage(S.Z.inventoryKebabOptionsResume),onClick:function(){return D(!1)}}:{title:f.formatMessage(S.Z.inventoryKebabOptionsExclude),onClick:function(){return D(!0)}}]})),u().createElement(i.Z,null,u().createElement(w.Z,{optOutSystemHandler:D})))};I.propTypes={fetchSystemDetails:c().func,systemDetails:c().object,optOutSystem:c().func,match:c().object,addNotification:c().func,intl:c().any,errors:c().object};const L=(0,d.EN)((0,D.ZP)((0,l.$j)((function(e){return{errors:e.SystemCvesStore.cveList.payload.errors,systemDetails:e.entityDetails}}),(function(e){return{optOutSystem:function(t,n){return e((0,f.R0)([t],n))},fetchSystemDetails:function(t){return e((0,f.o0)(t))},addNotification:function(t){return e((0,o.wN)(t))}}}))(I)))}}]);
//# sourceMappingURL=../sourcemaps/SystemDetailsPage.44cfaed93325fb92d394d081ff18b9d4.js.map