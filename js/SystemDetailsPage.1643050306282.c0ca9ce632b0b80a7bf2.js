"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[3774],{39591:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(45987),o=n(77865),a=n.n(o),i=n(45697),c=function(e){var t=e.component,n=(0,r.Z)(e,["component"]);return(0,o.useEffect)((function(){console.error("Unable to load iventory component. Failed to load ".concat(t,"."),n)}),[]),a().createElement("div",null,a().createElement("h1",null,"Unable to load inventory component"),a().createElement("h2",null,"Failed to load ",t),a().createElement("code",null,"More info can be found in browser console output."))};c.propTypes={component:n.n(i)().string};const l=c},3054:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var r=n(4942),o=n(29439),a=n(86350),i=n(83215),c=n(45697),l=n.n(c),s=n(77865),u=n.n(s),p=n(28216),d=n(5977),f=n(83594),m=n(46096),y=n(24788),b=n(6023),v=n(32132),E=n(30893),O=function(e){var t=e.entity,n=e.isOptOut,r=e.optOutSystemHandler,o=e.loaded,a=e.rbacPermissions,i=e.isRbacLoading,c=a.canExport,l=a.canReadVulnerabilityResults,s=a.canEditPairStatus,p=a.canReadExcluded;return i?u().createElement(b.Z,{centered:!0}):l?t&&o&&n?p?u().createElement(y.QJ,{buttonAction:function(){return r(t.display_name,!1)}}):u().createElement(y.bY,{title:v.N.formatMessage(E.Z.notAuthorizedNoAccessForSystem)}):u().createElement(m.QE,{entity:{id:null==t?void 0:t.id,display_name:null==t?void 0:t.display_name},showHeaderLabel:!0,setPageTitle:!0,canExport:c,canEditPairStatus:s}):u().createElement(y.bY,null)};O.propTypes={entity:l().object,isOptOut:l().bool,loaded:l().bool,optOutSystemHandler:l().func,rbacPermissions:l().object,isRbacLoading:l().bool};const g=(0,p.$j)((function(e){var t=e.entityDetails;return{entity:t.entity,isOptOut:t.opt_out,loaded:t.loaded}}),null)(O);var _=n(75910);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={loaded:!1},j=n(83296),R=n(75115),D=n(74806),k=n(78733),S=n(87462),I=n(54025),w=n(52643),T=n(2372),N=n(39591),x=function(e){var t=(0,d.k6)(),n=(0,p.oR)();return u().createElement(s.Suspense,{fallback:e.fallback},u().createElement(I.ScalprumComponent,(0,S.Z)({history:t,store:n,appName:"inventory",module:"./DetailWrapper",scope:"inventory",ErrorComponent:u().createElement(N.Z,(0,S.Z)({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e)))};x.propTypes={fallback:l().node,innerRef:l().object};var L=u().forwardRef((function(e,t){return u().createElement(x,(0,S.Z)({innerRef:t},e))}));L.propTypes={fallback:l().node},L.defaultProps={fallback:u().createElement(w.b,{className:"pf-u-p-lg"},u().createElement(T.$,{size:"xl"}))};const C=L;var F=function(e){var t=(0,d.k6)(),n=(0,p.oR)();return u().createElement(s.Suspense,{fallback:e.fallback},u().createElement(I.ScalprumComponent,(0,S.Z)({history:t,store:n,appName:"inventory",module:"./InventoryDetailHead",scope:"inventory",ErrorComponent:u().createElement(N.Z,(0,S.Z)({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e)))};F.propTypes={fallback:l().node,innerRef:l().object};var M=u().forwardRef((function(e,t){return u().createElement(F,(0,S.Z)({innerProps:t},e))}));M.propTypes={fallback:l().node},M.defaultProps={fallback:u().createElement(w.b,{className:"pf-u-p-lg"},u().createElement(T.$,{size:"xl"}))};const A=M;var H=function(e){var t=(0,d.k6)(),n=(0,p.oR)();return u().createElement(s.Suspense,{fallback:e.fallback},u().createElement(I.ScalprumComponent,(0,S.Z)({history:t,store:n,appName:"inventory",module:"./AppInfo",scope:"inventory",ErrorComponent:u().createElement(N.Z,(0,S.Z)({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e)))};H.propTypes={fallback:l().node,innerRef:l().object};var V=u().forwardRef((function(e,t){return u().createElement(H,(0,S.Z)({innerRef:t},e))}));V.propTypes={fallback:l().node},V.defaultProps={fallback:u().createElement(w.b,{className:"pf-u-p-lg"},u().createElement(T.$,{size:"xl"}))};const Y=V;var $=n(37450);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(e){var t=e.systemDetails,n=void 0===t?{}:t,r=e.intl,c=e.errors,l=(0,p.I0)(),m=(0,d.$B)(),y=(0,$.Wu)([k._I.setExcludedIncluded,k._I.basicReporting,k._I.readVulnerabilityResults,k._I.setPairStatus,k._I.readExcluded]),b=(0,o.Z)(y,2),v=(0,o.Z)(b[0],5),O=v[0],Z=v[1],D=v[2],S=v[3],I=v[4],w=b[1],T={canExport:Z,canReadVulnerabilityResults:D,canEditPairStatus:S,canReadExcluded:I},N=m.params.inventoryId;(0,s.useEffect)((function(){l((0,f.o0)(N))}),[l,N]),(0,s.useEffect)((function(){return function(){l((0,i.L1)())}}),[l]);var x=function(e){return{exclude:{success:{variant:"success",title:r.formatMessage(E.Z.notificationExcludeSuccess,{count:1,systemName:e})},failure:{variant:"danger",autoDismiss:!1,title:r.formatMessage(E.Z.notificationExcludeFailureTitle,{count:1,systemName:e}),description:r.formatMessage(E.Z.notificationDetailExcludeFailureBody,{count:1})}},include:{success:{variant:"success",title:r.formatMessage(E.Z.notificationIncludeSuccessTitle,{count:1,systemName:e}),description:r.formatMessage(E.Z.notificationIncludeSuccessBody,{count:1})},failure:{variant:"danger",autoDismiss:!1,title:r.formatMessage(E.Z.notificationIncludeFailureTitle,{count:1,systemName:e}),description:r.formatMessage(E.Z.notificationDetailIncludeFailureBody,{count:1})}}}},L=function(e,t){l((0,f.R0)([N],t)).then((function(){l((0,f.o0)(N)),l((0,i.wN)(t?x(e).exclude.success:x(e).include.success))})).catch((function(n){l((0,i.wN)("503"===n.status?k.iF:"403"===n.status?k._V:t?x(e).exclude.failure:x(e).include.failure))}))},F=n.opt_out,M=void 0!==F&&F,H=n.entity,V=n.loaded;return u().createElement(C,null,u().createElement(R.Z,{title:"",breadcrumbs:[{title:k.yy.systemsPage.title,to:k.yy.systemsPage.to,loaded:!0},{title:(null==H?void 0:H.display_name)||r.formatMessage(E.Z.invalidSystem),isActive:!0,loaded:V}]},!c&&u().createElement(A,{onLoad:function(e){var t=e.mergeWithEntities,n=e.mergeWithDetail,r=e.INVENTORY_ACTION_TYPES;j.Z.register(z(z({},t()),n(function(e,t,n,r){return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case _.up+"_FULFILLED":return P(P({},o),a.payload.data);case e.LOAD_ENTITY_FULFILLED:return P(P({},o),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return u().createElement(g,{rbacPermissions:n,optOutSystemHandler:t,isRbacLoading:r})}}]});case e.LOAD_ENTITY_REJECTED:return P(P({},o),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return u().createElement(g,null)}}]});default:return o}}}(r,L,T,w))))},hideBack:!0,actions:H&&O&&[M?{title:r.formatMessage(E.Z.inventoryKebabOptionsResume),onClick:function(){return L(n.entity.display_name,!1)}}:{title:r.formatMessage(E.Z.inventoryKebabOptionsExclude),onClick:function(){return L(n.entity.display_name,!0)}}]})),u().createElement(a.Z,null,u().createElement(Y,{optOutSystemHandler:L,rbacPermissions:T,isRbacLoading:w})))};U.propTypes={systemDetails:l().object,intl:l().any,errors:l().object};const W=(0,D.ZP)((0,p.$j)((function(e){return{errors:e.SystemCvesStore.cveList.payload.errors,systemDetails:e.entityDetails}}),null)(U))}}]);
//# sourceMappingURL=../sourcemaps/SystemDetailsPage.88af319c2a404b26cd841230cc91e191.js.map