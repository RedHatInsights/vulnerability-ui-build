(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1587:function(e,t,a){"use strict";a.d(t,"c",(function(){return h})),a.d(t,"i",(function(){return O})),a.d(t,"a",(function(){return _})),a.d(t,"j",(function(){return E})),a.d(t,"f",(function(){return j})),a.d(t,"l",(function(){return P})),a.d(t,"g",(function(){return w})),a.d(t,"p",(function(){return C})),a.d(t,"m",(function(){return k})),a.d(t,"n",(function(){return x})),a.d(t,"o",(function(){return D})),a.d(t,"h",(function(){return S})),a.d(t,"b",(function(){return M})),a.d(t,"k",(function(){return T})),a.d(t,"e",(function(){return R})),a.d(t,"d",(function(){return F}));var r=a(1687),n=a.n(r),s=a(1578),o=a.n(s),c=a(1542),l=a(146),i=a.n(l),u=a(1543),p=a(1539),m=a.n(p),f=a(34);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var v=m.a.create();v.interceptors.request.use(u.authInterceptor),v.interceptors.response.use(u.responseDataInterceptor),v.interceptors.response.use(null,u.interceptor401),v.interceptors.response.use(null,(function(e){if(e.response&&503===e.response.status)throw f.s;throw e})),v.interceptors.response.use(null,(function(e){if(!m.a.isCancel(e)){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);if(t.response&&t.response.data&&t.response.data.errors)throw t.response.data.errors[0];throw e}}));var y=v,b=a(429),g=new c.GitApi(void 0,"/api/vulnerability/v1",y);function h(e){return g.getCveDetails(e)}function O(e){return g.getSystemDetails(e)}function _(e,t){var a=Object(b.b)(t,["filter","limit","offset","page","page_size","sort","status_id","data_format","uuid","rule_key","rule_presence","tags","security_rule"]);return g.getAffectedSystemsByCve.apply(g,[e].concat(o()(a)))}function E(e){var t=Object(b.b)(e,["filter","limit","offset","page","page_size","sort","data_format","stale","uuid","tags","sap_system","opt_out"]);return g.getSystemsList.apply(g,o()(t))}function j(e){var t=Object(b.b)(e,["filter","limit","offset","page","page_size","sort","cvss_from","cvss_to","public_from","public_to","impact","data_format","business_risk_id","status_id","security_rule","rule_presence","show_all"]);return g.getCveList.apply(g,o()(t))}function P(e,t){return g.setSystemOptOut(e,t)}function w(e){var t=e.system;if(e&&t){Object.keys(e).forEach((function(t){return(void 0===e[t]||""===e[t])&&delete e[t]}));var a=["filter","limit","offset","page","page_size","sort","cvss_from","cvss_to","public_from","public_to","impact","status_id","data_format","business_risk_id","security_rule","rule_presence"].map((function(t){return e[t]}));return g.getCveListBySystem.apply(g,[t].concat(o()(a))).catch((function(e){if(e&&"404"===e.status)return{errors:e};throw e}))}}function C(e){return g.setStatus(e)}function k(e,t){var a={opt_out:t,inventory_id:n()(Array,o()(e))};return g.setSystemsOptOut(a)}function x(e){return g.setCveBusinessRisk(e)}function D(e){return g.setCveStatus(e)}function S(){return g.getExecutiveReport()}function M(e,t){var a=Object(b.b)(t,["filter","limit","offset","page","page_size","sort","status_id","data_format","rule_key","rule_presence","security_rule"]);return g.getAffectedSystemsIdsByCve.apply(g,[e].concat(o()(a)))}function T(e){var t=Object(b.b)(e,["filter","limit","offset","page","page_size","sort","data_format","stale","uuid","opt_out"]);return g.getSystemsIds.apply(g,o()(t))}function R(e){var t=Object(b.b)(e,["filter","limit","offset","page","page_size","sort","cvss_from","cvss_to","public_from","public_to","impact","data_format","business_risk_id","status_id","security_rule","rule_presence","show_all"]);return g.getCveIdsList.apply(g,o()(t))}function F(e){var t=e.system;if(e&&t){Object.keys(e).forEach((function(t){return(void 0===e[t]||""===e[t])&&delete e[t]}));var a=["filter","limit","offset","page","page_size","sort","cvss_from","cvss_to","public_from","public_to","impact","status_id","data_format","business_risk_id","security_rule","rule_presence"].map((function(t){return e[t]}));return g.getCveIdsBySystem.apply(g,[t].concat(o()(a)))}}},1616:function(e,t,a){"use strict";var r=a(211),n=a.n(r),s=a(146),o=a.n(s),c=a(339),l=a.n(c),i=a(826),u=a.n(i),p=a(340),m=a.n(p),f=a(187);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=new function e(){var t=this;m()(this,e),this.filename=function(e){switch(e){case"reports":return"vulnerability_cves-report--".concat((new Date).toISOString().split("T")[0]);case"systems-exposed":return"vulnerability_systems-exposed-".concat(t.params.cve,"--").concat(t.defaultParams.date);case"system-list":return"vulnerability_systems--".concat(t.defaultParams.date);default:return"vulnerability_cves--".concat(t.defaultParams.date)}},this.checkTypes=function(e,a,r){if("function"!=typeof e)throw"exec expects the 1st param to be funtion. Received ".concat(u()(e));if(!t.pages.includes(a))throw"Page ".concat(a," does not exist");if(!t.formats.includes(r))throw"Format ".concat(r," is not supported")},this.exec=function(){var e=l()(n.a.mark((function e(a,r,s,o){var c,l,i,u,p;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.checkTypes(a,o,s),t.params.cve=Array.isArray(r)?r[0]:"",e.prev=2,!Array.isArray(r)){e.next=9;break}return e.next=6,a(t.params.cve,v({},r[1],{},t.defaultParams,{data_format:s}));case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,a(v({},r,{},t.defaultParams,{data_format:s}));case 11:e.t0=e.sent;case 12:return c=e.t0,l=c.payload,e.next=16,l;case 16:i=e.sent,u=i.data,p="json"===s?JSON.stringify(u):u,Object(f.downloadFile)(p,t.filename(o),s),e.next=25;break;case 22:throw e.prev=22,e.t1=e.catch(2),"".concat(e.t1);case 25:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(t,a,r,n){return e.apply(this,arguments)}}(),this.defaultParams={page:1,page_size:Number.MAX_SAFE_INTEGER,date:(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc"},this.params={cve:""},this.pages=["systems-exposed","system-cves","cves","system-list"],this.formats=["csv","json"]}},1762:function(e,t,a){"use strict";var r=a(211),n=a.n(r),s=a(1578),o=a.n(s),c=a(146),l=a.n(c),i=a(339),u=a.n(i),p=a(210),m=a.n(p),f=a(0),d=a.n(f),v=a(4),y=a.n(v),b=a(640),g=a(1538),h=a(1587),O=a(9),_=a(21),E=a(187),j=a(34),P=a(612),w=a(429);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=function(e){var t=e.data,a=e.page,r=e.intl,n=e.header,s=e.type,c=function(e){var t=e.value,a=e.style;return d.a.createElement(_.j,{key:t,style:a},t)},l=["cvss_score","impact","systems_affected","business_risk","status"],i=[];n?(i.push({value:r.formatMessage(O.a.cveId)}),l=[],n.includes("publish_date")&&i.push({value:r.formatMessage(O.a.publishDate)}),n.includes("cvss_filter")&&(i.push({value:r.formatMessage(O.a.cvssBaseScore)}),l.push("cvss_score")),n.includes("impact")&&(i.push({value:r.formatMessage(O.a.impact)}),l.push("impact")),n.includes("show_all")&&(i.push({value:r.formatMessage(O.a.systemsExposed)}),l.push("systems_affected")),n.includes("business_risk_id")&&(i.push({value:r.formatMessage(O.a.businessRisk)}),l.push("business_risk")),n.includes("status_id")&&(i.push({value:r.formatMessage(O.a.status)}),l.push("status"))):"cves"===s?i=[{value:r.formatMessage(O.a.cveId)},{value:r.formatMessage(O.a.publishDate)},{value:r.formatMessage(O.a.cvssBaseScore)},{value:r.formatMessage(O.a.impact)},{value:r.formatMessage(O.a.systemsExposed)},{value:r.formatMessage(O.a.businessRisk)},{value:r.formatMessage(O.a.status)}]:(l=["display_name","cve_count","last_upload"],i=[{value:"Name"},{value:"Applicable CVEs"},{value:"Last seen"}]);var u=o()(t.map((function(e){var t=e.attributes,a=t.rules&&t.rules.length>0?[P.a.cveCellAlign,P.a.bodyCell,P.a.cveCell]:[P.a.bodyCell,P.a.cveCell];return[d.a.createElement(_.k,{key:t.synopsis},t.rules&&t.rules.length>0&&d.a.createElement(g.a,{style:k({},P.a.bodyCell,{},P.a.cveCell)}),d.a.createElement(_.j,{style:a},d.a.createElement(_.e,{style:P.a.link,src:"".concat(j.c,"/").concat(t.synopsis)},t.synopsis))),(!n||n.includes("publish_date"))&&d.a.createElement(_.j,{key:t.public_date,style:[P.a.bodyCell,P.a.cveCell]},Object(E.processDate)(t.public_date))].concat(o()(l.map((function(e){return c({value:t[e],style:[P.a.bodyCell,P.a.cveCell]})}))))}))),p=o()(t.map((function(e){var t=e.attributes;return[c({value:t.display_name,style:[P.a.bodyCell,P.a.systemNameCell]}),c({value:t.opt_out?r.formatMessage(O.a.systemsTableExcluded):t.cve_count,style:[P.a.bodyCell,P.a.systemCell]}),c({value:Object(w.e)(t.last_upload,!0),style:[P.a.bodyCell,P.a.systemCell]})]})));return d.a.createElement(f.Fragment,{key:a},d.a.createElement(g.i,{withHeader:!0,rows:[i.map((function(e){return c(k({},e,{style:[P.a.headerCell,"cves"===s?P.a.cveCell:"Name"===e.value?P.a.systemNameCell:P.a.systemCell]}))}))].concat(o()("cves"===s?u:p))}),0===t.length&&d.a.createElement(_.j,null,r.formatMessage(O.a.customReportNoCves)))};x.propTypes={data:y.a.object,intl:y.a.any,page:y.a.number,header:y.a.array,type:y.a.string};var D=x,S=a(198),M=function(e){for(var t=e.data,a=e.meta,r=e.filters,n=e.intl,s=e.isReportDynamic,o=e.reportData,c=e.user,l=e.type,i=s?r:r.reduce((function(e,t){return e[t.key]={filter:t.category,values:"publish_date"===t.key?j.n.find((function(e){return e.value===t.chips[0].value})).timespan_label:t.chips.map((function(e){return e.name})).join(", ")},e}),{}),u=[{name:"impact",msg:O.a.CVEsPDFreportFiltersSeverity},{name:"business_risk_id",msg:O.a.CVEsPDFreportFiltersBusinessRisk},{name:"status_id",msg:O.a.CVEsPDFreportFiltersStatus},{name:"security_rule",msg:O.a.CVEsPDFreportFiltersSecurityRule}],p=u.length-1;p>=0;p--)if(i.hasOwnProperty(u[p].name)){u[p].isLast=!0;break}return d.a.createElement(f.Fragment,{key:"first-section"},s&&d.a.createElement(g.g,null,n.formatMessage(O.a.customReportIntroductionText)),"cves"===l?d.a.createElement(g.g,null,Object(S.c)(O.a.customReportSearchTermCvssAndPublishDate,{hasSearchTerm:i.hasOwnProperty("filter")?"yes":"no",searchTerm:i.filter&&i.filter.values,score:i.cvss_filter&&i.cvss_filter.values||j.g.cvss_filter.min.toFixed(1)+" - "+j.g.cvss_filter.max.toFixed(1),published:i.publish_date&&i.publish_date.values||Object(S.c)(O.a.customReportTimespanAnytime)}),u.map((function(e){return i.hasOwnProperty(e.name)&&Object(S.c)(e.msg,{values:i[e.name].values.toLowerCase(),prefix:e.isLast?n.formatMessage(O.a.customReportAnd):";"})})),d.a.createElement(_.j,null,"."),"\n\n"):d.a.createElement(g.g,null,i.filter?Object(S.c)(O.a.systemsPDFreportFiltersSearchTerm,{searchTerm:i.filter.values}):""),"cves"===l&&d.a.createElement(g.g,null,Object(S.c)(O.a.CVEsPDFreportSubHeader,{cve_count:a.total_items.toString(),system_count:a.system_count.toString()})),o&&o.userNotes?d.a.createElement(_.k,{style:P.a.userNotes},d.a.createElement(g.g,{style:P.a.userNotesTitle},d.a.createElement(_.j,{style:P.a.bold},n.formatMessage(O.a.customReportUserNoteLabel))),d.a.createElement(g.g,null,d.a.createElement(_.j,null,o.userNotes)),d.a.createElement(g.g,null,c&&c.identity&&d.a.createElement(_.j,{style:P.a.italic},n.formatMessage(O.a.customReportUserNotesGenerated,{name:"".concat(c.identity.user.first_name," ").concat(c.identity.user.last_name)})))):null,D({data:t,intl:n,header:o&&o.header,type:l}))};M.defaultProps={user:void 0},M.propTypes={intl:y.a.any,filters:y.a.array,data:y.a.object,meta:y.a.object,reportData:y.a.object,isReportDynamic:y.a.bool,user:y.a.object,type:y.a.string};var T=M,R=a(1616);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I=function(e){var t=e.filters,a=e.params,r=e.reportData,s=void 0===r?{}:r,c=e.buttonProps,l=e.isReportDynamic,i=void 0!==l&&l,p=e.type,v=e.label,y=Object(b.a)(),E=Object(f.useState)(!1),w=m()(E,2),C=w[0],k=w[1],x=Object(f.useState)(!1),S=m()(x,2),M=S[0],F=S[1],I=function(e){return e.reduce((function(e,t,a){var r=Math.floor(a/j.l.otherPages);return!e[r]&&(e[r]=[]),e[r].push(t),e}),[])},z=function(){var e=u()(n.a.mark((function e(){var r,c,l,u,m,f;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,Object(h.f)(N({},a,{},R.a.defaultParams,{sort:a.sort||"-cvss_score"}));case 3:if(r=e.sent,c=r.data,l=r.meta,!s||!s.userNotes){e.next=10;break}return e.next=9,insights.chrome.auth.getUser();case 9:u=e.sent;case 10:return c=c.map((function(e){return N({},e,{attributes:N({},e.attributes,{cvss_score:parseFloat(e.attributes.cvss3_score||e.attributes.cvss2_score).toFixed(1)})})})),F(c.some((function(e){return e.attributes.rules.length>0}))),m=T({data:c.splice(0,s.userNotes?j.l.firstPageWithNote:j.l.firstPageWithoutNote),meta:l,filters:t,intl:y,isReportDynamic:i,reportData:s,user:u,type:p}),f=I(c),k(!1),e.abrupt("return",[m].concat(o()(f.map((function(e,t){return D({data:e,page:t,intl:y,header:s&&s.header,type:p})})))));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=u()(n.a.mark((function e(){var r,c,l,i,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,Object(h.j)(N({},a,{},R.a.defaultParams));case 3:return r=e.sent,c=r.data,l=r.meta,i=T({data:c.splice(0,j.l.firstPageWithoutNote),meta:l,filters:t,intl:y}),u=I(c),k(!1),e.abrupt("return",[i].concat(o()(u.map((function(e,t){return D({data:e,page:t,intl:y,header:s&&s.header})})))));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.a.createElement("div",null,d.a.createElement(g.d,{label:C?y.formatMessage(O.a.loading):y.formatMessage(v),asyncFunction:"cves"===p?z:A,buttonProps:N({component:"button"},c),reportName:i?s.reportTitle:"cves"===p?y.formatMessage(O.a.cvePDFReportName):y.formatMessage(O.a.systemPDFReportName),type:"",fileName:"".concat(R.a.filename("cves"===p?i?"reports":"":"system-list"),".pdf"),allPagesHaveTitle:!1,size:"A4",orientation:"landscape",footer:M&&d.a.createElement(_.k,{style:P.a.footer},d.a.createElement(_.j,null,"*"),d.a.createElement(g.a,{style:P.a.footerIcon}),d.a.createElement(_.j,{style:P.a.footerText},y.formatMessage(O.a.customReportFooter)))}))};I.defaultProps={label:O.a.kebabExportAsPDF},I.propTypes={filters:y.a.oneOfType([y.a.array,y.a.object]),params:y.a.object,reportData:y.a.object,buttonProps:y.a.object,label:y.a.oneOfType([y.a.array,y.a.object]),isReportDynamic:y.a.bool,type:y.a.string};t.a=I},1855:function(e,t,a){"use strict";a.r(t);var r=a(210),n=a.n(r),s=a(0),o=a.n(s),c=a(619),l=a(830),i=a(831),u=a(836),p=a(1558),m=a(837),f=a(1559),d=a(616),v=a(615),y=a(1560),b=a.n(y),g=a(211),h=a.n(g),O=a(1578),_=a.n(O),E=a(339),j=a.n(E),P=a(640),w=a(1538),C=a(1587),k=a(9),x=a(146),D=a.n(x),S=a(4),M=a.n(S),T=a(34),R=a(21),F=a(612);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){D()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=function(e){var t=e.data,a=e.intl,r=70,c=t.cves_by_severity,l=t.recent_cves,i=t.top_cves,u=t.cves_total,p=t.system_count,m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];for(var s in e){var o=e[s],c=t[s],l=void 0!==c.count?c.count:c;"na"===s&&0===l||(r&&c.percentage&&(l=a.formatMessage(k.a.executiveReportOfTotal,{count:l,percentage:c.percentage})),n.push([o,l.toString()]))}return n},f=m(T.G,I({},l)),d=m(T.e,I({},c)).map((function(e){var t=n()(e,2),a=t[0],r=t[1];return{x:"CVSS ".concat(a),y:Number(r)}})),v=m(T.e,I({},c),!0),y=function(){var e={firstPage:[],secondPage:[]},t=0;return i.forEach((function(n){var s=Math.ceil(n.description.length/r);t+=s;var c=o.a.createElement(w.e,{key:n.synopsis,title:n.synopsis,description:n.description},o.a.createElement(w.f,{title:a.formatMessage(k.a.executiveReportPanelTitle)},Number.parseFloat(n.cvss3_score).toFixed(1)),o.a.createElement(w.f,{title:a.formatMessage(k.a.systemsExposed)},n.systems_affected.toString()));t<=15&&e.firstPage.push(c)||e.secondPage.push(c)})),e};return[o.a.createElement(s.Fragment,{key:"first-section"},o.a.createElement(w.g,null,a.formatMessage(k.a.executiveReportHeader)),o.a.createElement(w.g,null,a.formatMessage(k.a.executiveReportSubHeader,{systems:o.a.createElement(R.j,{style:F.a.bold},a.formatMessage(k.a.executiveReportHeaderSystems,{systems:p})),cves:o.a.createElement(R.j,{style:F.a.bold},a.formatMessage(k.a.executiveReportHeaderCVEs,{cves:u}))})),o.a.createElement(w.h,{title:a.formatMessage(k.a.executiveReportCvesBySeverity)},o.a.createElement(w.c,null,o.a.createElement(w.i,{withHeader:!0,rows:[T.d].concat(_()(v))})),o.a.createElement(w.c,null,o.a.createElement(w.b,{chartType:"pie",subTitle:"Cves",title:"100",data:d}))),o.a.createElement(w.h,{title:a.formatMessage(k.a.executiveReportRecentlyPublishedCves)},o.a.createElement(w.c,null,o.a.createElement(w.i,{withHeader:!0,rows:[T.F].concat(_()(f))})),o.a.createElement(w.c,null)),o.a.createElement(w.h,{title:a.formatMessage(k.a.executiveReportTop3),withColumn:!1},y().firstPage)),y().secondPage]};z.propTypes={data:M.a.exact({cves_by_severity:M.a.object,recent_cves:M.a.object,top_cves:M.a.array,cves_total:M.a.number,system_count:M.a.number}),intl:M.a.any};var A=z,L=function(){var e=Object(P.a)(),t=Object(s.useState)(!1),a=n()(t,2),r=a[0],c=a[1],l=function(){var t=j()(h.a.mark((function t(){var a,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.next=3,Object(C.h)();case 3:return a=t.sent,r=A({data:a,intl:e}),c(!1),t.abrupt("return",_()(r));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=(new Date).toISOString().split("T"),u=n()(i,1)[0];return o.a.createElement(w.d,{label:r?e.formatMessage(k.a.loading):e.formatMessage(k.a.executiveReportCardButton),asyncFunction:l,buttonProps:{variant:"link",isInline:!0},type:e.formatMessage(k.a.vulnerabilitiesHeader),fileName:"vulnerability_executive-report--".concat(u,".pdf"),allPagesHaveTitle:!1})},B=a(827),G=a(103),H=a(822),V=a(820),U=a(348),W=a(342),J=a(1540),q=a(214),X=a(215),K=a(218),Q=a(161),Y=a(665),Z=a.n(Y),$=a(123),ee=a(279),te=a(212),ae=a(184),re=a(186),ne=a(436),se=a(843),oe=a.n(se),ce=a(14);function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(a,!0).forEach((function(t){D()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ue=function(e){var t=e.filterName,a=e.handleRemove,r=e.filterData,n=e.setFilterData,s=function(e,t){n(ie({},r,{cvss_filter:ie({},r.cvss_filter,D()({},t,e))}))},c=function(e){var t=+r.cvss_filter[e],a=+r.cvss_filter.min,n=+r.cvss_filter.max;return t<0||t>10||a>n?"error":"default"},l=function(e,t){return o.a.createElement(o.a.Fragment,null,e.map((function(e){return o.a.createElement(W.Checkbox,{className:"pf-u-ml-md pf-u-mt-xs",value:e.value,isChecked:r[t].includes(e.value),onChange:function(e,a){return function(e,t,a){var s=t.currentTarget.value;if(e)n(ie({},r,D()({},a,[].concat(_()(r[a]),[s]))));else{var o=r[a].indexOf(s),c=r[a].slice();c.splice(o,1),n(ie({},r,D()({},a,c)))}}(e,a,t)},label:e.label,key:t+e.label,id:t+e.label,name:t+e.label,"aria-label":e.label})})))},i=function(e,t){return o.a.createElement(o.a.Fragment,null,e.map((function(e){return o.a.createElement(ne.Radio,{className:"pf-u-ml-md pf-u-mt-xs",value:e.value,isChecked:r[t]===e.value,onChange:function(e,a){return function(e,t){var a=e.currentTarget.value;n(ie({},r,D()({},t,a)))}(a,t)},label:e.label,key:t+e.label,id:t+e.label,name:t+e.label,"aria-label":e.label})})))},u=o.a.createElement(ee.Split,{className:"pf-u-ml-md pf-u-mt-xs"},o.a.createElement(te.SplitItem,null,o.a.createElement("span",{style:{fontSize:14}},ce.a.formatMessage(k.a.customReportCvssMinLabel)),o.a.createElement("br",null),o.a.createElement(U.TextInput,{type:"number",onChange:function(e){return s(e,"min")},validated:c("min"),id:"cvss-min",value:r.cvss_filter.min,style:{width:"5em"}})),o.a.createElement(te.SplitItem,null,o.a.createElement("br",null),o.a.createElement("span",{className:"pf-u-m-sm"},"-")),o.a.createElement(te.SplitItem,null,o.a.createElement("span",{style:{fontSize:14}},ce.a.formatMessage(k.a.customReportCvssMaxLabel)),o.a.createElement("br",null),o.a.createElement(U.TextInput,{type:"number",onChange:function(e){return s(e,"max")},validated:c("max"),id:"cvss-max",value:r.cvss_filter.max,style:{width:"5em"}})));return o.a.createElement($.StackItem,null,o.a.createElement(ee.Split,{hasGutter:!0},o.a.createElement(te.SplitItem,null,o.a.createElement(re.TextContent,null,o.a.createElement(ae.Text,{component:ae.TextVariants.h4},T.i[t].title))),o.a.createElement(te.SplitItem,null,o.a.createElement(oe.a,{color:"var(--pf-global--Color--200)",onClick:function(){return a(t)},style:{cursor:"pointer",fontSize:12}}))),function(e){switch(e){case"status_id":return l(T.t,"status_id");case"business_risk_id":return l(T.a,"business_risk_id");case"publish_date":return i(T.n,"publish_date");case"impact":return l(T.j,"impact");case"cvss_filter":return u;default:return null}}(t))};ue.propTypes={filterName:M.a.string,handleRemove:M.a.func,filterData:M.a.object,setFilterData:M.a.func};var pe=ue,me=a(198),fe=a(1762);function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(a,!0).forEach((function(t){D()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ye=function(e){var t=e.isOpen,a=e.onClose,r=Object(s.useState)(!1),c=n()(r,2),l=c[0],i=c[1],u=Object(s.useState)(ce.a.formatMessage(k.a.customReportDefaultTitle)),p=n()(u,2),m=p[0],f=p[1],d=Object(s.useState)(""),v=n()(d,2),y=v[0],b=v[1],g=Object(s.useState)([]),h=n()(g,2),O=h[0],E=h[1],j=Object(s.useState)(Object.keys(T.i)),P=n()(j,2),w=P[0],C=P[1],x=Object(s.useState)(T.g),S=n()(x,2),M=S[0],R=S[1],F=Object.entries(T.i).map((function(e){var t=n()(e,2),a=t[0],r=t[1];return"show_all"===a||"security_rule"===a?o.a.createElement(o.a.Fragment,{key:a}):o.a.createElement(X.DropdownItem,{key:a,isDisabled:O.includes(a),onClick:function(){return e=a,void(O.includes(e)||E([].concat(_()(O),[e])));var e}},r.dropdownOverrideTitle||r.title)})),N=function(){f(ce.a.formatMessage(k.a.customReportDefaultTitle)),b(""),E([]),C(Object.keys(T.i)),R(T.g),a()};return o.a.createElement(B.Modal,{title:ce.a.formatMessage(k.a.configModalTitle),variant:"small",isOpen:t,onClose:N,actions:[o.a.createElement(fe.a,{type:"cves",key:"download",reportData:{header:w,reportTitle:m,userNotes:y},params:Object(me.b)(M),filters:Object(me.a)(M),isReportDynamic:!0,buttonProps:{isDisabled:+M.cvss_filter.min<0||+M.cvss_filter.max>10||+M.cvss_filter.min>+M.cvss_filter.max||y.length>T.m,style:{marginRight:"0.5em"}},label:k.a.configModalExportReport}),o.a.createElement(G.Button,{key:"cancel",variant:"secondary",onClick:N},ce.a.formatMessage(k.a.cancel))]},o.a.createElement(H.Form,null,o.a.createElement(V.FormGroup,{label:ce.a.formatMessage(k.a.customReportTitleLabel),fieldId:"horizontal-form-name"},o.a.createElement(U.TextInput,{value:m,onChange:function(e){return f(e)},type:"text",id:"horizontal-form-name"}),o.a.createElement(W.Checkbox,{id:"hasRule",key:"hasRule",label:ce.a.formatMessage(k.a.customOnlyCvesWithRulesLabel),isChecked:"true"===M.security_rule,onChange:function(e){return R(ve({},M,{security_rule:e?"true":void 0}))},className:"pf-u-mt-md"})),o.a.createElement(V.FormGroup,{label:ce.a.formatMessage(k.a.customReportDataToIncludeLabel),fieldId:"horizontal-form-name"},o.a.createElement("div",{style:{columnCount:2}},o.a.createElement(W.Checkbox,{id:"cve_id",label:"CVE ID",isChecked:!0,isDisabled:!0,className:"pf-u-mb-md"}),Object.entries(T.i).map((function(e){var t=n()(e,2),a=t[0],r=t[1];return"security_rule"!==a&&o.a.createElement(W.Checkbox,{id:a,key:a,label:r.checkboxOverrideTitle||r.title,isChecked:w.includes(a),onChange:function(e){return function(e,t){C(t?[].concat(_()(w),[e]):w.filter((function(t){return t!==e})))}(a,e)},className:"pf-u-mb-md"})})))),o.a.createElement(V.FormGroup,{label:ce.a.formatMessage(k.a.customReportFilterDataByLabel),fieldId:"horizontal-form-name"},0===O.length?o.a.createElement("span",{style:{color:"var(--pf-global--Color--200)"}},ce.a.formatMessage(k.a.configModalNoFilters),o.a.createElement("br",null)):o.a.createElement(Q.Stack,{hasGutter:!0},O&&O.map((function(e){return o.a.createElement(pe,{key:e,filterName:e,handleRemove:function(e){return function(e){var t=O.indexOf(e);if(t>-1){var a=O.slice();a.splice(t,1),E(a),R(ve({},M,D()({},e,T.g[e])))}}(e)},filterData:M,setFilterData:R})}))),o.a.createElement(q.Dropdown,{isPlain:!0,direction:"up",onSelect:function(){i(!1)},toggle:o.a.createElement(K.DropdownToggle,{id:"filterToggle",onToggle:function(){i(!l)},toggleIndicator:Z.a,style:{padding:"0px",color:"var(--pf-global--link--Color)"}},ce.a.formatMessage(k.a.configModalAddFilter)),isOpen:l,dropdownItems:F,className:"pf-u-mt-md"})),o.a.createElement(V.FormGroup,{label:ce.a.formatMessage(k.a.customReportUserNotesLabel),fieldId:"horizontal-form-name",helperTextInvalid:ce.a.formatMessage(k.a.customReportUserNoteTooLong),validated:y.length>T.m&&"error"},o.a.createElement(J.TextArea,{value:y,onChange:function(e){return b(e)},type:"text",id:"horizontal-form-name",resizeOrientation:"vertical",style:{minHeight:"4em"},validated:y.length>T.m&&"error"}))))};ye.propTypes={isOpen:M.a.bool,onClose:M.a.func};var be=ye,ge=a(217);t.default=function(){var e=Object(s.useState)(!1),t=n()(e,2),a=t[0],r=t[1];return o.a.createElement(c.Page,null,o.a.createElement(v.a,{title:ce.a.formatMessage(k.a.reportsPageTitle),showBreadcrumb:!1}),o.a.createElement(d.Main,null,o.a.createElement(l.Grid,{hasGutter:!0},o.a.createElement(i.GridItem,{span:3},o.a.createElement(u.Card,null,o.a.createElement(p.CardTitle,null,o.a.createElement(ge.b,null),o.a.createElement("span",{className:"pf-u-ml-sm",style:{verticalAlign:"0.3rem"}},ce.a.formatMessage(k.a.executiveReportCardTitle))),o.a.createElement(m.CardBody,null,ce.a.formatMessage(k.a.executiveReportCardDescription)),o.a.createElement(f.CardFooter,null,o.a.createElement(L,null)))),o.a.createElement(i.GridItem,{span:3},o.a.createElement(u.Card,null,o.a.createElement(p.CardTitle,null,o.a.createElement(b.a,{size:"lg",color:"var(--pf-global--link--Color)"}),o.a.createElement("span",{className:"pf-u-ml-sm",style:{verticalAlign:"0.3rem"}},ce.a.formatMessage(k.a.customReportCardTitle))),o.a.createElement(m.CardBody,null,ce.a.formatMessage(k.a.customReportCardDescription)),o.a.createElement(f.CardFooter,null,o.a.createElement("a",{onClick:function(){return r(!0)}},ce.a.formatMessage(k.a.customReportCardButton))))))),o.a.createElement(be,{isOpen:a,onClose:function(){return r(!1)}}))}}}]);
//# sourceMappingURL=../sourcemaps/Reports.js.map