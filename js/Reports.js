(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1667:function(e,t,a){"use strict";var r=a(231),n=a.n(r),s=a(47),c=a.n(s),o=a(364),l=a.n(o),i=a(861),u=a.n(i),m=a(629),p=a.n(m),f=a(163);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=new function e(){var t=this;p()(this,e),this.filename=function(e){switch(e){case"reports":return"vulnerability_cves-report--".concat((new Date).toISOString().split("T")[0]);case"systems-exposed":return"vulnerability_systems-exposed-".concat(t.params.cve,"--").concat(t.defaultParams.date);case"system-list":return"vulnerability_systems--".concat(t.defaultParams.date);default:return"vulnerability_cves--".concat(t.defaultParams.date)}},this.checkTypes=function(e,a,r){if("function"!=typeof e)throw"exec expects the 1st param to be funtion. Received ".concat(u()(e));if(!t.pages.includes(a))throw"Page ".concat(a," does not exist");if(!t.formats.includes(r))throw"Format ".concat(r," is not supported")},this.exec=function(){var e=l()(n.a.mark((function e(a,r,s,c){var o,l,i,u,m;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.checkTypes(a,c,s),t.params.cve=Array.isArray(r)?r[0]:"",e.prev=2,!Array.isArray(r)){e.next=9;break}return e.next=6,a(t.params.cve,b({},r[1],{},t.defaultParams,{data_format:s}));case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,a(b({},r,{},t.defaultParams,{data_format:s}));case 11:e.t0=e.sent;case 12:return o=e.t0,l=o.payload,e.next=16,l;case 16:i=e.sent,u=i.data,m="json"===s?JSON.stringify(u):u,Object(f.downloadFile)(m,t.filename(c),s),e.next=25;break;case 22:throw e.prev=22,e.t1=e.catch(2),"".concat(e.t1);case 25:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(t,a,r,n){return e.apply(this,arguments)}}(),this.defaultParams={page:1,page_size:Number.MAX_SAFE_INTEGER,date:(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc"},this.params={cve:""},this.pages=["systems-exposed","system-cves","cves","system-list"],this.formats=["csv","json"]}},1831:function(e,t,a){"use strict";var r=a(117),n=a.n(r),s=a(231),c=a.n(s),o=a(143),l=a.n(o),i=a(47),u=a.n(i),m=a(364),p=a.n(m),f=a(162),d=a.n(f),b=a(366),v=a.n(b),y=a(1),g=a.n(y),h=a(5),O=a.n(h),E=a(678),j=a(1596),_=a(105),P=a(7),w=a(24),C=a(163),x=a(30),D=a(628),T=a(145);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){u()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M=function(e){var t=e.data,a=e.page,r=e.intl,n=e.header,s=e.type,c=[{name:"publish_date",header:{value:r.formatMessage(P.a.publishDate)}},{name:"cvss_filter",header:{value:r.formatMessage(P.a.cvssBaseScore)},hit:"cvss_score"},{name:"impact",header:{value:r.formatMessage(P.a.impact)},hit:"impact"},{name:"affecting",header:{value:r.formatMessage(P.a.systemsExposed)},hit:"systems_affected"},{name:"business_risk_id",header:{value:r.formatMessage(P.a.businessRisk)},hit:"business_risk"},{name:"status_id",header:{value:r.formatMessage(P.a.status)},hit:"status"}],o=function(e){var t=e.value,a=e.style;return g.a.createElement(w.j,{key:t,style:a},t)},i=["cvss_score","impact","systems_affected","business_risk","status"],u=[];n?(u.push({value:r.formatMessage(P.a.cveId)}),i=[],c.forEach((function(e){n.includes(e.name)&&(u.push(e.header),e.hit&&i.push(e.hit))}))):"cves"===s?u=[{value:r.formatMessage(P.a.cveId)}].concat(c.map((function(e){return e.header}))):(i=["display_name","cve_count","updated"],u=[{value:"Name"},{value:"Applicable CVEs"},{value:"Last seen"}]);var m=l()(t.map((function(e){var t=e.attributes,a=t.rules&&t.rules.length>0?[D.a.cveCellAlign,D.a.bodyCell,D.a.cveCell]:[D.a.bodyCell,D.a.cveCell];return[g.a.createElement(w.k,{key:t.synopsis},t.rules&&t.rules.length>0&&g.a.createElement(j.a,{style:S({},D.a.bodyCell,{},D.a.cveCell)}),g.a.createElement(w.j,{style:a},g.a.createElement(w.e,{style:D.a.link,src:"".concat(x.e,"/").concat(t.synopsis)},t.synopsis))),(!n||n.includes("publish_date"))&&g.a.createElement(w.j,{key:t.public_date,style:[D.a.bodyCell,D.a.cveCell]},Object(C.processDate)(t.public_date))].concat(l()(i.map((function(e){return o({value:t[e],style:[D.a.bodyCell,D.a.cveCell]})}))))}))),p=l()(t.map((function(e){var t=e.attributes;return[o({value:t.display_name,style:[D.a.bodyCell,D.a.systemNameCell]}),o({value:t.opt_out?r.formatMessage(P.a.systemsTableExcluded):t.cve_count,style:[D.a.bodyCell,D.a.systemCell]}),o({value:Object(T.e)(t.updated,!0),style:[D.a.bodyCell,D.a.systemCell]})]})));return g.a.createElement(y.Fragment,{key:a},g.a.createElement(j.i,{withHeader:!0,rows:[u.map((function(e){return o(S({},e,{style:[D.a.headerCell,"cves"===s?D.a.cveCell:"Name"===e.value?D.a.systemNameCell:D.a.systemCell]}))}))].concat(l()("cves"===s?m:p))}),0===t.length&&g.a.createElement(w.j,null,r.formatMessage(P.a.customReportNoCves)))};M.propTypes={data:O.a.object,intl:O.a.any,page:O.a.number,header:O.a.array,type:O.a.string};var N=M,R=a(218),F=function(e){for(var t=e.data,a=e.meta,r=e.filters,n=e.intl,s=e.isReportDynamic,c=e.reportData,o=e.user,l=e.type,i=s?r:r.reduce((function(e,t){return e[t.key]={filter:t.category,values:"publish_date"===t.key?x.q.find((function(e){return e.value===t.chips[0].value})).timespan_label:t.chips.map((function(e){return e.name})).join(", ")},e}),{}),u=[{name:"impact",msg:P.a.CVEsPDFreportFiltersSeverity},{name:"business_risk_id",msg:P.a.CVEsPDFreportFiltersBusinessRisk},{name:"status_id",msg:P.a.CVEsPDFreportFiltersStatus},{name:"security_rule",msg:P.a.CVEsPDFreportFiltersSecurityRule}],m=u.length-1;m>=0;m--)if(i.hasOwnProperty(u[m].name)){u[m].isLast=!0;break}return g.a.createElement(y.Fragment,{key:"first-section"},s&&g.a.createElement(j.g,null,Object(R.c)(P.a.customReportIntroductionText)),"cves"===l?g.a.createElement(j.g,null,Object(R.c)(P.a.customReportSearchTermCvssAndPublishDate,{hasSearchTerm:i.hasOwnProperty("filter")?"yes":"no",searchTerm:i.filter&&i.filter.values,score:i.cvss_filter&&i.cvss_filter.values||x.j.cvss_filter.min.toFixed(1)+" - "+x.j.cvss_filter.max.toFixed(1),published:i.publish_date&&i.publish_date.values||Object(R.c)(P.a.customReportTimespanAnytime)}),u.map((function(e){return i.hasOwnProperty(e.name)&&Object(R.c)(e.msg,{values:i[e.name].values.toLowerCase(),prefix:e.isLast?n.formatMessage(P.a.customReportAnd):";"})})),g.a.createElement(w.j,null,"."),"\n\n"):g.a.createElement(j.g,null,i.filter?Object(R.c)(P.a.systemsPDFreportFiltersSearchTerm,{searchTerm:i.filter.values}):""),"cves"===l&&g.a.createElement(j.g,null,Object(R.c)(P.a.CVEsPDFreportSubHeader,{cve_count:a.total_items.toString(),system_count:a.system_count.toString()})),c&&c.userNotes?g.a.createElement(w.k,{style:D.a.userNotes},g.a.createElement(j.g,{style:D.a.userNotesTitle},g.a.createElement(w.j,{style:D.a.bold},n.formatMessage(P.a.customReportUserNoteLabel))),g.a.createElement(j.g,null,g.a.createElement(w.j,null,c.userNotes)),g.a.createElement(j.g,null,o&&o.identity&&g.a.createElement(w.j,{style:D.a.italic},n.formatMessage(P.a.customReportUserNotesGenerated,{name:"".concat(o.identity.user.first_name," ").concat(o.identity.user.last_name)})))):null,N({data:t,intl:n,header:c&&c.header,type:l}))};F.defaultProps={user:void 0},F.propTypes={intl:O.a.any,filters:O.a.array,data:O.a.object,meta:O.a.object,reportData:O.a.object,isReportDynamic:O.a.bool,user:O.a.object,type:O.a.string};var I=F,B=a(1667),A=a(206),H=a(627);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){u()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G=function(e){var t=e.filters,a=e.params,r=e.reportData,s=void 0===r?{}:r,o=e.buttonProps,i=e.isReportDynamic,u=void 0!==i&&i,m=e.type,f=e.label,b=v()(e,["filters","params","reportData","buttonProps","isReportDynamic","type","label"]),h=Object(E.a)(),O=Object(y.useState)(!1),C=d()(O,2),T=C[0],k=C[1],S=Object(y.useState)(!1),M=d()(S,2),R=M[0],F=M[1],L=Object(A.useDispatch)();Object(y.useEffect)((function(){return function(){L(Object(H.clearNotifications)())}}),[L]);var G=function(e){return e.reduce((function(e,t,a){var r=Math.floor(a/x.o.otherPages);return!e[r]&&(e[r]=[]),e[r].push(t),e}),[])},V=function(){var e=p()(c.a.mark((function e(){var r,n,o,i,p,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),L(Object(H.addNotification)({dismissable:!0,variant:"info",title:h.formatMessage(P.a.customReportNotificationCve)})),e.next=4,Object(_.f)(z({},a,{},B.a.defaultParams,{sort:a.sort||"-cvss_score",affecting:"true,false"}));case 4:if(r=e.sent,n=r.data,o=r.meta,!s||!s.userNotes){e.next=11;break}return e.next=10,insights.chrome.auth.getUser();case 10:i=e.sent;case 11:return n=n.map((function(e){return z({},e,{attributes:z({},e.attributes,{cvss_score:parseFloat(e.attributes.cvss3_score||e.attributes.cvss2_score).toFixed(1)})})})),F(n.some((function(e){return e.attributes.rules.length>0}))),p=I({data:n.splice(0,s.userNotes?x.o.firstPageWithNote:x.o.firstPageWithoutNote),meta:o,filters:t,intl:h,isReportDynamic:u,reportData:s,user:i,type:m}),f=G(n),k(!1),e.abrupt("return",[p].concat(l()(f.map((function(e,t){return N({data:e,page:t,intl:h,header:s&&s.header,type:m})})))));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=p()(c.a.mark((function e(){var r,n,o,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),L(Object(H.addNotification)({dismissable:!0,variant:"info",title:h.formatMessage(P.a.customReportNotificationSystem)})),e.next=4,Object(_.j)(z({},a,{},B.a.defaultParams));case 4:return r=e.sent,n=r.data,o=r.meta,i=I({data:n.splice(0,x.o.firstPageWithoutNote),meta:o,filters:t,intl:h}),u=G(n),k(!1),e.abrupt("return",[i].concat(l()(u.map((function(e,t){return N({data:e,page:t,intl:h,header:s&&s.header})})))));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g.a.createElement("div",null,g.a.createElement(j.d,n()({},b,{label:T?h.formatMessage(P.a.loading):h.formatMessage(f),asyncFunction:"cves"===m?V:U,buttonProps:z({component:"button"},o),reportName:u?s.reportTitle:"cves"===m?h.formatMessage(P.a.cvePDFReportName):h.formatMessage(P.a.systemPDFReportName),type:"",fileName:"".concat(B.a.filename("cves"===m?u?"reports":"":"system-list"),".pdf"),allPagesHaveTitle:!1,size:"A4",orientation:"landscape",footer:R&&g.a.createElement(w.k,{style:D.a.footer},g.a.createElement(w.j,null,"*"),g.a.createElement(j.a,{style:D.a.footerIcon}),g.a.createElement(w.j,{style:D.a.footerText},h.formatMessage(P.a.customReportFooter)))})))};G.defaultProps={label:P.a.kebabExportAsPDF},G.propTypes={filters:O.a.oneOfType([O.a.array,O.a.object]),params:O.a.object,reportData:O.a.object,buttonProps:O.a.object,label:O.a.oneOfType([O.a.array,O.a.object]),isReportDynamic:O.a.bool,type:O.a.string};t.a=G},1889:function(e,t,a){"use strict";a.r(t);var r=a(162),n=a.n(r),s=a(1),c=a.n(s),o=a(640),l=a(866),i=a(867),u=a(863),m=a(1615),p=a(864),f=a(1616),d=a(637),b=a(1617),v=a.n(b),y=a(231),g=a.n(y),h=a(143),O=a.n(h),E=a(364),j=a.n(E),_=a(678),P=a(1596),w=a(105),C=a(7),x=a(47),D=a.n(x),T=a(5),k=a.n(T),S=a(30),M=a(24),N=a(628);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){D()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I=function(e){var t=e.data,a=e.intl,r=70,o=t.cves_by_severity,l=t.recent_cves,i=t.top_cves,u=t.cves_total,m=t.system_count,p=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];for(var s in e){var c=e[s],o=t[s],l=void 0!==o.count?o.count:o;"na"===s&&0===l||(r&&o.percentage&&(l="number"===r?o.percentage:a.formatMessage(C.a.executiveReportOfTotal,{count:l,percentage:o.percentage})),n.push([c,l.toString()]))}return n},f=p(S.K,F({},l)),d=p(S.h,F({},o),"number").map((function(e){var t=n()(e,2),a=t[0],r=t[1];return{x:"CVSS ".concat(a),y:Number(r)}})),b=p(S.h,F({},o),"string"),v=function(){var e={firstPage:[],secondPage:[]},t=0;return i.forEach((function(n){var s=Math.ceil(n.description.length/r);t+=s;var o=c.a.createElement(P.e,{key:n.synopsis,title:n.synopsis,description:n.description},c.a.createElement(P.f,{title:a.formatMessage(C.a.executiveReportPanelTitle)},Number.parseFloat(n.cvss3_score).toFixed(1)),c.a.createElement(P.f,{title:a.formatMessage(C.a.systemsExposed)},n.systems_affected.toString()));t<=15&&e.firstPage.push(o)||e.secondPage.push(o)})),e};return[c.a.createElement(s.Fragment,{key:"first-section"},c.a.createElement(P.g,null,a.formatMessage(C.a.executiveReportHeader)),c.a.createElement(P.g,null,a.formatMessage(C.a.executiveReportSubHeader,{systems:c.a.createElement(M.j,{style:N.a.bold},a.formatMessage(C.a.executiveReportHeaderSystems,{systems:m})),cves:c.a.createElement(M.j,{style:N.a.bold},a.formatMessage(C.a.executiveReportHeaderCVEs,{cves:u}))})),c.a.createElement(P.h,{title:a.formatMessage(C.a.executiveReportCvesBySeverity)},c.a.createElement(P.c,null,c.a.createElement(P.i,{withHeader:!0,rows:[S.g].concat(O()(b))})),c.a.createElement(P.c,null,c.a.createElement(P.b,{chartType:"pie",subTitle:"Cves",title:"100",data:d}))),c.a.createElement(P.h,{title:a.formatMessage(C.a.executiveReportRecentlyPublishedCves)},c.a.createElement(P.c,null,c.a.createElement(P.i,{withHeader:!0,rows:[S.J].concat(O()(f))})),c.a.createElement(P.c,null)),c.a.createElement(P.h,{title:a.formatMessage(C.a.executiveReportTop3),withColumn:!1},v().firstPage)),v().secondPage]};I.propTypes={data:k.a.exact({cves_by_severity:k.a.object,recent_cves:k.a.object,top_cves:k.a.array,cves_total:k.a.number,system_count:k.a.number}),intl:k.a.any};var B=I,A=a(206),H=a(627),L=function(){var e=Object(_.a)(),t=Object(s.useState)(!1),a=n()(t,2),r=a[0],o=a[1],l=Object(s.useState)(!1),i=n()(l,2),u=i[0],m=i[1],p=Object(A.useDispatch)(),f=function(){var t=j()(g.a.mark((function t(){var a,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),p(Object(H.addNotification)({dismissable:!0,variant:"info",title:e.formatMessage(C.a.downloadExecutiveNotification)})),t.next=4,Object(w.h)();case 4:return a=t.sent,r=B({data:a,intl:e}),o(!1),t.abrupt("return",O()(r));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=(new Date).toISOString().split("T"),b=n()(d,1)[0];return c.a.createElement(s.Fragment,null,c.a.createElement("a",{href:!0,onClick:function(){m(!0)}},e.formatMessage(C.a.executiveReportCardButton)),u&&c.a.createElement(P.d,{showButton:!1,label:r?e.formatMessage(C.a.loading):e.formatMessage(C.a.executiveReportCardButton),asyncFunction:f,buttonProps:{variant:"link",isInline:!0},type:e.formatMessage(C.a.vulnerabilitiesHeader),fileName:"vulnerability_executive-report--".concat(b,".pdf"),allPagesHaveTitle:!1,onSuccess:function(){p(Object(H.clearNotifications)()),m(!1)}}))},z=a(862),G=a(113),V=a(859),U=a(855),J=a(368),W=a(367),q=a(1597),K=a(207),X=a(146),Q=a(458),Y=a(85),Z=a(460),$=a(300),ee=a(11),te=a(298),ae=a.n(te);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){D()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var se=function(e){var t,a,r=e.filterName,o=e.filterData,l=e.setFilterData,i=Object(s.useState)(!1),u=n()(i,2),m=u[0],p=u[1],f=function(e,t){l(ne({},o,{cvss_filter:ne({},o.cvss_filter,D()({},t,e))}))},d=function(e){var t=+o.cvss_filter[e],a=+o.cvss_filter.min,r=+o.cvss_filter.max;return t<0||t>10||a>r?"error":"default"},b=function(e,t){return c.a.createElement(Z.Select,{variant:"checkbox","aria-label":"Select Input",onToggle:function(){return p(!m)},isOpen:m,placeholderText:"".concat(S.f[t].title,": ").concat(0===o[t].length||o[t].length===S.f[t].items.length?"All":o[t].map((function(e){return S.f[t].items.find((function(t){return t.value===e})).label})).join(", ")),direction:"up",key:t,width:"auto",className:"pf-u-mr-sm pf-u-mb-sm custom-report-filter-select",onSelect:function(e,a){!function(e,t){var a=S.f[e].items.find((function(e){return e.label===t})).value;if(o[e].includes(a)){var r=o[e].indexOf(a),n=o[e].slice();n.splice(r,1),l(ne({},o,D()({},e,n)))}else l(ne({},o,D()({},e,[].concat(O()(o[e]),[a]))))}(t,a)},selections:o[t].map((function(e){return S.f[t].items.find((function(t){return t.value===e})).label})),isCheckboxSelectionBadgeHidden:!0},e.map((function(e){return c.a.createElement($.SelectOption,{key:t+e.label,value:e.label})})))},v=function(e,t){return c.a.createElement(Z.Select,{variant:"single","aria-label":"Select Input",onToggle:function(){return p(!m)},isOpen:m,placeholderText:"".concat(S.f[t].title,":\n                ").concat(S.f[t].items.find((function(e){return e.value===o[t]})).label),direction:"up",key:t,onSelect:function(e,a){!function(e,t){var a=S.f[e].items.find((function(e){return e.label===t})).value;l(ne({},o,D()({},e,a)))}(t,a)},className:"pf-u-mr-sm pf-u-mb-sm",width:"auto"},e.map((function(e){return c.a.createElement($.SelectOption,{width:"100%",key:t+e.label,value:e.label},c.a.createElement(Q.Radio,{"aria-label":"Select Input",label:e.label,value:e.label,isChecked:o[t]===e.value}))})))},y=c.a.createElement(K.Split,{className:"pf-u-m-md"},c.a.createElement(X.SplitItem,null,c.a.createElement("span",{style:{fontSize:14}},ee.a.formatMessage(C.a.customReportCvssMinLabel)),c.a.createElement("br",null),c.a.createElement(J.TextInput,{type:"number",onChange:function(e){return f(e,"min")},validated:d("min"),id:"cvss-min",value:o.cvss_filter.min,style:{width:"5em"}})),c.a.createElement(X.SplitItem,null,c.a.createElement("br",null),c.a.createElement("span",{className:"pf-u-m-sm"},"-")),c.a.createElement(X.SplitItem,null,c.a.createElement("span",{style:{fontSize:14}},ee.a.formatMessage(C.a.customReportCvssMaxLabel)),c.a.createElement("br",null),c.a.createElement(J.TextInput,{type:"number",onChange:function(e){return f(e,"max")},validated:d("max"),id:"cvss-max",value:o.cvss_filter.max,style:{width:"5em"}}))),g=c.a.createElement(Z.Select,{variant:"panel","aria-label":"Select Input",customContent:y,onToggle:function(){return p(!m)},isOpen:m,placeholderText:(t=+o.cvss_filter.min,a=+o.cvss_filter.max,0===t&&10===a?"".concat(S.f.cvss_filter.title,": ").concat(ee.a.formatMessage(C.a.optionsAll)):c.a.createElement(Y.Text,null,"".concat(S.f.cvss_filter.title,": ").concat(parseFloat(t).toFixed(1)," - ").concat(parseFloat(a).toFixed(1)),(t<0||a>10||t>a)&&c.a.createElement(ae.a,{color:"var(--pf-global--danger-color--100)",className:"pf-u-ml-xs"}))),className:"pf-u-mr-sm pf-u-mb-sm",direction:"up",width:"auto"});return function(e){switch(e){case"status_id":return b(S.w,"status_id");case"business_risk_id":return b(S.c,"business_risk_id");case"publish_date":return v(S.q,"publish_date");case"impact":return b(S.m,"impact");case"cvss_filter":return g;default:return null}}(r)};se.propTypes={filterName:k.a.string,filterData:k.a.object,setFilterData:k.a.func};var ce=se;function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var le=function(e){var t=e.isOpen,a=e.handleModalClose,r=e.filterData,s=e.setFilterData,o=e.handleDownloadButton,l=e.columnsToInclude,i=e.setColumnsToInclude,u=e.userNotes,m=e.setUserNotes,p=e.reportTitle,f=e.setReportTitle,d=["publish_date","impact","cvss_filter","status_id","business_risk_id"];return c.a.createElement(z.Modal,{title:ee.a.formatMessage(C.a.configModalTitle),id:"custom-report-modal",isOpen:t,onClose:a,actions:[c.a.createElement(G.Button,{key:"export",variant:"primary",onClick:o},ee.a.formatMessage(C.a.configModalExportReport)),c.a.createElement(G.Button,{key:"cancel",variant:"secondary",onClick:a},ee.a.formatMessage(C.a.cancel))]},c.a.createElement(V.Form,null,c.a.createElement(U.FormGroup,{label:ee.a.formatMessage(C.a.customReportTitleLabel),fieldId:"horizontal-form-name"},c.a.createElement(J.TextInput,{value:p,onChange:function(e){return f(e)},type:"text",id:"horizontal-form-name"}),c.a.createElement(W.Checkbox,{id:"hasRule",key:"hasRule",label:ee.a.formatMessage(C.a.customOnlyCvesWithRulesLabel),isChecked:"true"===r.security_rule,onChange:function(e){return s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(a,!0).forEach((function(t){D()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r,{security_rule:e?"true":void 0}))},className:"pf-u-mt-md"})),c.a.createElement(U.FormGroup,{label:ee.a.formatMessage(C.a.customReportDataToIncludeLabel),fieldId:"horizontal-form-name"},c.a.createElement("div",{style:{columnCount:2}},c.a.createElement(W.Checkbox,{id:"cve_id",label:"CVE ID",isChecked:!0,isDisabled:!0,className:"pf-u-mb-md"}),Object.entries(S.f).map((function(e){var t=n()(e,2),a=t[0],r=t[1];return c.a.createElement(W.Checkbox,{id:a,key:a,label:r.title,isChecked:l.includes(a),onChange:function(e){return function(e,t){i(t?[].concat(O()(l),[e]):l.filter((function(t){return t!==e})))}(a,e)},className:"pf-u-mb-md"})})))),c.a.createElement(U.FormGroup,{label:ee.a.formatMessage(C.a.customReportFilterDataByLabel),fieldId:"horizontal-form-name"},c.a.createElement("div",{className:"custom-report-filter-wrapper"}," ",d&&d.map((function(e){return c.a.createElement(ce,{key:e,filterName:e,filterData:r,setFilterData:s})})))),c.a.createElement(U.FormGroup,{label:ee.a.formatMessage(C.a.customReportUserNotesLabel),fieldId:"horizontal-form-name",helperTextInvalid:ee.a.formatMessage(C.a.customReportUserNoteTooLong),validated:u.length>S.p&&"error"},c.a.createElement(q.TextArea,{value:u,onChange:function(e){return m(e)},type:"text",id:"horizontal-form-name",resizeOrientation:"vertical",style:{minHeight:"4em"},validated:u.length>S.p&&"error"}))))};le.propTypes={isOpen:k.a.bool,filterData:k.a.object,setFilterData:k.a.func,handleModalClose:k.a.func,handleDownloadButton:k.a.func,columnsToInclude:k.a.array,setColumnsToInclude:k.a.func,userNotes:k.a.string,setUserNotes:k.a.func,reportTitle:k.a.string,setReportTitle:k.a.func};var ie=le,ue=a(169),me=a(638),pe=a(1831),fe=a(218);t.default=function(){var e=Object(s.useState)(!1),t=n()(e,2),a=t[0],r=t[1],b=Object(s.useState)(!1),y=n()(b,2),g=y[0],h=y[1],O=Object(s.useState)(ee.a.formatMessage(C.a.customReportDefaultTitle)),E=n()(O,2),j=E[0],_=E[1],P=Object(s.useState)(""),w=n()(P,2),x=w[0],D=w[1],T=Object(s.useState)(Object.keys(S.f)),k=n()(T,2),M=k[0],R=k[1],F=Object(s.useState)(S.j),I=n()(F,2),B=I[0],A=I[1],H=function(){_(ee.a.formatMessage(C.a.customReportDefaultTitle)),D(""),R(Object.keys(S.f)),A(S.j),h(!1),r(!1)};return c.a.createElement(o.Page,null,c.a.createElement(me.a,{title:ee.a.formatMessage(C.a.reportsPageTitle),showBreadcrumb:!1}),c.a.createElement(d.Main,null,c.a.createElement(l.Grid,{hasGutter:!0,lg:3,md:4,sm:12},c.a.createElement(i.GridItem,null,c.a.createElement(u.Card,{className:"report-card"},c.a.createElement(m.CardTitle,null,c.a.createElement(ue.b,{style:N.a.pieChartIcon}),c.a.createElement("span",{className:"pf-u-ml-sm",style:N.a.cardTitle},ee.a.formatMessage(C.a.executiveReportCardTitle))),c.a.createElement(p.CardBody,null,ee.a.formatMessage(C.a.executiveReportCardDescription)),c.a.createElement(f.CardFooter,null,c.a.createElement(L,null)))),c.a.createElement(i.GridItem,null,c.a.createElement(u.Card,{className:"report-card"},c.a.createElement(m.CardTitle,null,c.a.createElement(v.a,{size:"lg",color:"var(--pf-global--link--Color)"}),c.a.createElement("span",{className:"pf-u-ml-sm",style:N.a.cardTitle},ee.a.formatMessage(C.a.customReportCardTitle))),c.a.createElement(p.CardBody,null,ee.a.formatMessage(C.a.customReportCardDescription)),c.a.createElement(f.CardFooter,null,c.a.createElement("a",{className:"create-report",onClick:function(){return r(!0)}},ee.a.formatMessage(C.a.customReportCardButton))))))),c.a.createElement(ie,{isOpen:a,columnsToInclude:M,setColumnsToInclude:R,filterData:B,userNotes:x,reportTitle:j,setReportTitle:_,setUserNotes:D,setFilterData:A,handleModalClose:H,handleDownloadButton:function(){h(!0),r(!1)}}),g&&c.a.createElement(pe.a,{type:"cves",key:"download",reportData:{header:M,reportTitle:j,userNotes:x},showButton:!1,onSuccess:H,params:Object(fe.b)(B),filters:Object(fe.a)(B),isReportDynamic:!0,buttonProps:{isDisabled:+B.cvss_filter.min<0||+B.cvss_filter.max>10||+B.cvss_filter.min>+B.cvss_filter.max||x.length>S.p,style:{marginRight:"0.5em"}},label:C.a.configModalExportReport}))}}}]);
//# sourceMappingURL=../sourcemaps/Reports.js.map