(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[982],{93622:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(59713),i=n.n(r),u=n(63038),c=n.n(u),o=n(89421),s=n(96928),a=n(23279),l=n.n(a),f=n(25558),v=n.n(f);const p=function(e,t,n,r,u){var a=v().useState(),f=c()(a,2),p=f[0],d=f[1],y=v().useState((function(){return l()((function(t){var n;void 0!==t&&u((n={},i()(n,e,t),i()(n,"page",1),n))}),400)})),m=c()(y,1)[0];return v().useEffect((function(){return d(r)}),[r]),{type:o.Yu.text,label:s.N.formatMessage(t),filterValues:{"aria-label":"search-field",id:"search-".concat(t.id),onChange:function(e,t){d(t),m(t)},placeholder:s.N.formatMessage(n),value:p}}}},47496:(e,t,n)=>{"use strict";n.d(t,{A6:()=>l,lO:()=>f,HV:()=>v,DU:()=>d,vH:()=>y});var r=n(59713),i=n.n(r),u=n(60578),c=n(9470),o=n(96928);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n){return n({page:t})},f=function(e,t,n){return n({page_size:t,page:1})},v=function(e){return{onSelect:function(t,n){return e.downloadReport(n)}}},p=["affecting","excluded"],d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.filter,r=e.advisory,i=function(e,n){return c.Oq[e].items.reduce((function(r,i){if(n===i.value)r.name=i.label,r.value=i.value;else if("security_rule"===e){var u=t.find((function(e){return e.value===n}));["true","false"].includes(n)?r.name=c.Oq.security_rule.items.find((function(e){return e.value===n})).label:r.name=u&&u.label||n,r.value=n}return r}),{})},s=function(e,t){return e.reduce((function(e,n){return e.push(i(t,n)),e}),[])},a=function(e){return[].concat(null==e?void 0:e.split(",").flatMap((function(e,t){return"true"===(null==e?void 0:e.toLowerCase())?t.toString():[]})))},l=function(e,t){return Object.keys(e).includes(t)&&!["",void 0].includes(e[t])},f=Object.keys(c.Oq).reduce((function(t,n){if("security_rule"===n&&(l(e,"rule_presence")||l(e,"rule_key"))){var r=[].concat(e.rule_presence?e.rule_presence.split(","):[],e.rule_key?e.rule_key.split(","):[]);t.push({key:n,multiValue:r,category:c.Oq[n].title,chips:s(r,n)})}else if(p.includes(n)&&l(e,n)){var u=a(e[n]);t.push({key:n,multiValue:u,category:c.Oq[n].title,chips:s(u,n)})}else if("cvss_filter"===n&&(l(e,"cvss_from")||l(e,"cvss_to"))){var o=e.cvss_from&&parseFloat(e.cvss_from).toFixed(1)||"0.0",f=e.cvss_to&&parseFloat(e.cvss_to).toFixed(1)||"10.0";"0.0"===o&&"10.0"===f||t.push({key:n,category:c.Oq[n].title,chips:[{name:"".concat(o," - ").concat(f)}]})}else if(l(e,n)){var v="string"==typeof e[n]&&e[n].split(","),d=v&&v.length>1&&s(v,n)||[i(n,e[n])];t.push({key:n,multiValue:v,category:c.Oq[n].title,chips:d})}return t}),[]);return n&&f.push({key:"filter",category:o.N.formatMessage(u.Z.searchLabel),chips:[{name:n}]}),r&&f.push({key:"advisory",category:o.N.formatMessage(u.Z.advisory),chips:[{name:r}]}),f},y=function(e,t){t(a(a({},e.reduce((function(e,t){if("security_rule"===t.key){var n=t.multiValue.filter((function(e){return!t.chips.some((function(t){return t.value===e}))}));e.rule_presence=n.filter((function(e){return["true","false"].includes(e)})).join(",")||"",e.rule_key=n.filter((function(e){return!["true","false"].includes(e)})).join(",")||""}else if(p.includes(t.key)){var r=t.multiValue.filter((function(e){return!t.chips.some((function(t){return t.value===e}))})),i=[!1,!1];r.forEach((function(e){i[e]=!0}));var u=i.join(",");e[t.key]="false,false"===u?"":i.join(",")}else"filter"===t.key||"advisory"===t.key||t.multiValue&&1===t.multiValue.length?e[t.key]="":"cvss_filter"===t.key?(e.cvss_filter=void 0,e.cvss_from=void 0,e.cvss_to=void 0):e[t.key]=t.multiValue.filter((function(e){return!t.chips.some((function(t){return t.value===e}))})).join(",");return e}),{})),{},{page:1}))}},72239:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(93386),i=n.n(r),u=n(60578),c=n(96928);const o=function(e){var t=e.selectedItems,n=e.selectorHandler,r=e.items,o=e.fetchResource,s=e.multiRow,a=void 0!==s&&s,l=Array.from(t),f=l&&l.length,v=r.meta,p=r.data,d=p&&(Array.isArray(p)&&p.length&&a?p.length/2:p.length),y=function(){n(!1,[])},m=function(){var e=(o&&o({page_size:v.total_items,page:1})).payload;e&&e.then((function(e){var t=e.data.map((function(e){return e.id&&e.id||e}));n(!0,t)}))};return{handleOnCheckboxChange:function(){0===f?m():y()},items:[{title:c.N.formatMessage(u.Z.selectNone),onClick:y},{title:"".concat(c.N.formatMessage(u.Z.selectPage,{count:d})),onClick:function(){var e=r.data,t=i()(e.filter((function(e){return e.id})).map((function(e){return e.id})),l);n(!0,t)}},{title:"".concat(c.N.formatMessage(u.Z.selectAll,{count:v.total_items?v.total_items:0})),onClick:m}]}}}}]);