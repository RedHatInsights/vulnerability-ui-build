"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[774],{98489:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(4942),i=n(86350),o=n(83215),c=n(45697),a=n.n(c),s=n(77865),u=n.n(s),l=n(14494),f=n(5977),d=n(83594),p=n(15671),y=n(43144),m=n(60136),O=n(82963),v=n(61120),b=n(41740),E=n(24788);var g=function(e){(0,m.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,v.Z)(t);if(n){var i=(0,v.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,O.Z)(this,e)});function i(e){return(0,p.Z)(this,i),r.call(this,e)}return(0,y.Z)(i,[{key:"render",value:function(){var e=this.props,t=e.entity,n=e.isOptOut,r=e.optOutSystemHandler,i=e.loaded;return t&&i?n?u().createElement(u().Fragment,null,u().createElement(E.QJ,{buttonAction:function(){return r(!1)}})):u().createElement(u().Fragment,null,u().createElement(b.QE,{entity:{id:t.id,display_name:t.display_name},allowedCveActions:["EDIT_STATUS","REMEDIATE"],showHeaderLabel:!0,setPageTitle:!0})):null}}]),i}(u().Component);g.propTypes={entity:a().object,isOptOut:a().bool,loaded:a().bool,optOutSystemHandler:a().func};const h=(0,f.EN)((0,l.$j)((function(e){var t=e.entityDetails;return{entity:t.entity,isOptOut:t.opt_out,loaded:t.loaded}}),null)(g));var D=n(75910);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z={loaded:!1},P=n(83296),S=n(75115),w=n(74806),T=n(52837),N=n(30893),I=n(38775),L=n(53895),M=n(33902);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(e){var t=e.fetchSystemDetails,n=e.systemDetails,r=void 0===n?{}:n,o=e.optOutSystem,c=e.match,a=e.addNotification,l=e.intl,f=e.errors,d=c.params.inventoryId;(0,s.useEffect)((function(){t(d)}),[t,d]);var p=function(e){return{exclude:{success:{variant:"success",title:l.formatMessage(N.Z.notificationExcludeSuccess,{count:1,systemName:e})},failure:{variant:"danger",autoDismiss:!1,title:l.formatMessage(N.Z.notificationExcludeFailureTitle,{count:1,systemName:e}),description:l.formatMessage(N.Z.notificationDetailExcludeFailureBody,{count:1})}},include:{success:{variant:"success",title:l.formatMessage(N.Z.notificationIncludeSuccessTitle,{count:1,systemName:e}),description:l.formatMessage(N.Z.notificationIncludeSuccessBody,{count:1})},failure:{variant:"danger",autoDismiss:!1,title:l.formatMessage(N.Z.notificationIncludeFailureTitle,{count:1,systemName:e}),description:l.formatMessage(N.Z.notificationDetailIncludeFailureBody,{count:1})}}}},y=function(e){o(d,e).then((function(){var n=r.entity.display_name;t(d),a(e?p(n).exclude.success:p(n).include.success)})).catch((function(){var t=r.entity.display_name;a(e?p(t).exclude.failure:p(t).include.failure)}))},m=r.opt_out,O=void 0!==m&&m,v=r.entity,b=r.loaded;return u().createElement(I.Z,null,u().createElement(S.Z,{title:"",breadcrumbs:[{title:T.yy.systemsPage.title,to:T.yy.systemsPage.to,loaded:!0},{title:(null==v?void 0:v.display_name)||l.formatMessage(N.Z.invalidSystem),isActive:!0,loaded:b}]},!f&&u().createElement(L.Z,{onLoad:function(e){var t=e.mergeWithEntities,n=e.mergeWithDetail,r=e.INVENTORY_ACTION_TYPES;P.Z.register(A(A({},t()),n(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case D.up+"_FULFILLED":return j(j({},n),r.payload.data);case e.LOAD_ENTITY_FULFILLED:return j(j({},n),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return u().createElement(h,{optOutSystemHandler:t})}}]});case e.LOAD_ENTITY_REJECTED:return j(j({},n),{},{loaded:!0,activeApps:[{title:"Vulnerabilities",name:"vulnerabilities",component:function(){return u().createElement(h,null)}}]});default:return n}}}(r,y))))},hideBack:!0,actions:v&&[O?{title:l.formatMessage(N.Z.inventoryKebabOptionsResume),onClick:function(){return y(!1)}}:{title:l.formatMessage(N.Z.inventoryKebabOptionsExclude),onClick:function(){return y(!0)}}]})),u().createElement(i.Z,null,u().createElement(M.Z,{optOutSystemHandler:y})))};F.propTypes={fetchSystemDetails:a().func,systemDetails:a().object,optOutSystem:a().func,match:a().object,addNotification:a().func,intl:a().any,errors:a().object};const C=(0,f.EN)((0,w.ZP)((0,l.$j)((function(e){return{errors:e.SystemCvesStore.cveList.payload.errors,systemDetails:e.entityDetails}}),(function(e){return{optOutSystem:function(t,n){return e((0,d.DP)(t,n))},fetchSystemDetails:function(t){return e((0,d.o0)(t))},addNotification:function(t){return e((0,o.wN)(t))}}}))(F)))}}]);
//# sourceMappingURL=../sourcemaps/SystemDetailsPage.fb5e1a3972ab1c189b7866b17f4b8d78.js.map