(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[129],{96282:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var n=a(63038),s=a.n(n),l=a(4853),r=a(23811),i=a(9568),c=a(81159),o=a(34023),u=a(85806),f=a(45697),m=a.n(f),d=a(25558),v=a.n(d),p=a(92339),b=a(59912),g=a(10752),S=a(74806),k=a(18623),E=function(e){var t=e.cves,a=e.updateRef,n=e.intl,f=(0,d.useState)(t),m=s()(f,1)[0],S=(0,d.useState)("0"),E=s()(S,2),h=E[0],_=E[1],I=(0,d.useState)(),M=s()(I,2),Z=M[0],y=M[1],x=(0,d.useCallback)((function(){y(m&&1===m.length&&m[0].justification||"")}),[m]);(0,d.useEffect)((function(){_(m&&1===m.length&&m[0].business_risk_id.toString()||"0"),x()}),[t,x,m]),(0,d.useEffect)(x,[t]);var C=function(e,t){var a=t.currentTarget.value;_(a)},R={variant:"success",title:n.formatMessage(k.Z.businessRiskUpdateSuccessful,{count:m.length||0})};return v().createElement(g.ZP,{items:m,onSave:function(){return(0,p.le)({business_risk_id:parseInt(h),cve:m.map((function(e){return e.id})),business_risk_text:Z}).then(a)},onSuccessNotification:R,title:n.formatMessage(k.Z.businessRiskModalTitle),ouiaId:"business-risk-modal"},v().createElement(c.Stack,{hasGutter:!0},v().createElement(o.StackItem,null,n.formatMessage(k.Z.businessRiskModalInfo)),v().createElement(o.StackItem,null,v().createElement(l.Form,null,v().createElement(r.FormGroup,{label:n.formatMessage(k.Z.businessRiskLabel),fieldId:"businessRiskId"},b.eF.map((function(e){return v().createElement(i.Radio,{className:"business-risk-radio",value:e.value,isChecked:h===e.value,onChange:C,label:e.label,key:e.value,id:e.value,name:e.label,"aria-label":e.label,ouiaId:"business-risk-radio"})}))),v().createElement(r.FormGroup,{label:n.formatMessage(k.Z.justificationLabel),fieldId:"label"},v().createElement(u.Kx,{type:"text",onChange:function(e){y(e)},value:Z,resizeOrientation:"vertical","aria-label":"justification"}))))))};E.propTypes={cves:m().array,updateRef:m().func,intl:m().any};const h=(0,S.ZP)(E)},39005:(e,t,a)=>{"use strict";a.d(t,{Z:()=>M});var n=a(63038),s=a.n(n),l=a(32752),r=a(4853),i=a(23811),c=a(36842),o=a(21508),u=a(81159),f=a(34023),m=a(76004),d=a(31369),v=a(55795),p=a(45697),b=a.n(p),g=a(25558),S=a.n(g),k=a(92339),E=a(10752),h=a(74806),_=a(18623),I=function(e){var t=e.cves,a=e.updateRef,n=e.intl,p=(0,g.useState)(t),b=s()(p,1)[0],h=(0,E.Hb)(b&&b.every((function(e){return e.status_id===b[0].status_id}))&&b[0].status_id.toString()||"0"),I=h.StatusSelect,M=h.statusId,Z=h.setProps,y=(0,E.fj)(b&&b.every((function(e){return e.justification===b[0].justification}))&&b[0].justification||""),x=y.JustificationInput,C=y.justification,R=(0,g.useState)(!1),T=s()(R,2),j=T[0],F=T[1],P=b.filter((function(e){return e.exposed_systems_count>0})).map((function(e){return e.id}));(0,g.useEffect)((function(){Z({ouiaId:"status-select"})}),[Z]);var w={variant:"success",title:n.formatMessage(_.Z.cveStatusModalUpdateSuccessful,{count:b.length||0})},N=n.formatMessage(_.Z.cveStatusModalTitle,{count:b.length||0});return S().createElement(E.ZP,{items:b,onSave:function(){return(0,k.xn)({status_id:parseInt(M),cve:b.map((function(e){return e.id})),status_text:C}).then((function(){return!j&&P.length>0&&(0,k.cr)({cve:P})})).then(a)},onSuccessNotification:w,title:N,ouiaId:"status-modal"},S().createElement(u.Stack,{hasGutter:!0},S().createElement(f.StackItem,null,n.formatMessage(_.Z.cveStatusModalSelected,{count:b.length||0,cveId:b[0].id,b:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return S().createElement("b",null,t)}})),S().createElement(f.StackItem,null,S().createElement(d.ZP,{className:"pf-u-mr-xs",fontSize:"var(--pf-global--FontSize--md)",color:"var(--pf-global--active-color--300)"}),n.formatMessage(_.Z.cveStatusModalInfo,{count:b.length||0}),S().createElement(m.Tooltip,{content:n.formatMessage(_.Z.cveStatusModalInfoTooltip)},S().createElement(S().Fragment,null,S().createElement(v.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)",style:{verticalAlign:"-0.125em"}})))),S().createElement(f.StackItem,null,S().createElement(r.Form,{key:"key"},I,x,P.length>0&&S().createElement(i.FormGroup,{fieldId:"overwrite"},S().createElement(c.Split,null,S().createElement(o.SplitItem,null,S().createElement(l.Checkbox,{label:n.formatMessage(_.Z.cveStatusModalOverwriteCheckbox),id:"alt-form-checkbox-1",name:"alt-form-checkbox-1",isChecked:j,onChange:function(e){return F(e)}})),S().createElement(o.SplitItem,null,S().createElement(m.Tooltip,{content:n.formatMessage(_.Z.cveStatusModalOverwriteTooltip)},S().createElement(v.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)",style:{verticalAlign:"0"}})))))))))};I.propTypes={cves:b().array,updateRef:b().func,intl:b().any};const M=(0,h.ZP)(I)}}]);
//# sourceMappingURL=129.2c33a21c904f1a0b550d.js.map