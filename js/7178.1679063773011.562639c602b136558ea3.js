"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[7178],{60448:function(e,t,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,r=0,i=t.length;r<i;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(85893),l=n(4259),o=n(69573),c=i(n(94184));n(39998),t.default=function(e){var t,n=e.canSelectAll,i=void 0!==n&&n,u=e.isSelectable,f=void 0!==u&&u,d=e.sortBy,m=e.variant,p=e.isDark,v=void 0!==p&&p,b=e.colSize,g=void 0===b?0:b,h=e.columns,k=e.paddingColumnSize,S=void 0===k?0:k,Z=e.hasRadio,y=void 0!==Z&&Z,E=e.rowSize,_=void 0===E?0:E,j=function(e){return r([],Array(e),!0)};return(0,s.jsxs)(l.Table,a({className:(0,c.default)({"ins-c-skeleton-table__dark":v}),cells:j(S).map((function(){return""})).concat(h||r([],Array(g),!0).map((function(){return{title:(0,s.jsx)(o.Skeleton,{isDark:v,size:o.SkeletonSize.sm})}}))),rows:(t=h?h.length:g,j(_).map((function(){return{disableSelection:!0,cells:j(S).map((function(){return""})).concat(j(t).map((function(){return{title:(0,s.jsx)(o.Skeleton,{isDark:v,size:o.SkeletonSize.md})}})))}}))),sortBy:d,"aria-label":"Loading",onSelect:f?function(){}:void 0,selectVariant:f?y?(null===l.RowSelectVariant||void 0===l.RowSelectVariant?void 0:l.RowSelectVariant.radio)||"radio":(null===l.RowSelectVariant||void 0===l.RowSelectVariant?void 0:l.RowSelectVariant.checkbox)||"checkbox":void 0,canSelectAll:i,variant:m},{children:[(0,s.jsx)(l.TableHeader,{}),(0,s.jsx)(l.TableBody,{})]}))}},41489:(e,t,n)=>{n.d(t,{Ec:()=>c,Eh:()=>u,bp:()=>f});var a=n(87462),r=n(84457),i=n(77865),s=n.n(i),l=n(30893),o=n(44012),c=function(e,t,n){var r=(0,a.Z)({},n);return s().createElement("li",{key:"pdf"},s().createElement("button",(0,a.Z)({id:"kebab-item-download-pdf",className:"pf-c-dropdown__menu-item",onClick:function(){return t(!0)}},r),e?s().createElement(o.Z,l.Z.loading):s().createElement(o.Z,l.Z.kebabExportAsPDF)))},u=function(e,t,n){var i=(0,a.Z)({},n);return s().createElement(r.h,(0,a.Z)({key:"editBusinessRisk",component:"button",onClick:function(){return e(t)}},i),s().createElement(o.Z,l.Z.kebabEditBusinessRisk))},f=function(e,t,n,i){var c=(0,a.Z)({},i);return s().createElement(r.h,(0,a.Z)({key:"editStatus",component:"button",onClick:function(){return e(t,n)}},c),s().createElement(o.Z,l.Z.kebabEditStatus))}},42601:(e,t,n)=>{n.d(t,{Z:()=>S,t:()=>h});var a=n(4942),r=n(87462),i=n(45987),s=n(35664),l=n(60448),o=n.n(l),c=n(97481),u=n(45697),f=n.n(u),d=n(77865),m=n.n(d),p=n(75863),v=["isLoading","variant","children","size"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={spinner:"spinner",table:"table",compactTable:"compactTable",rectangle:"rectangle",inlineSkeleton:"inlineSkeleton",skeleton:"skeleton"},k=function(e){var t=e.isLoading,n=e.variant,a=e.children,l=e.size,u=(0,i.Z)(e,v);if(t)switch(n){case h.spinner:return m().createElement(c.Z,(0,r.Z)({centered:!0},u));case h.table:return m().createElement(o(),u);case h.compactTable:return m().createElement(o(),(0,r.Z)({variant:p.B.compact},u));case h.rectangle:return m().createElement(s.Z,(0,r.Z)({shape:"square"},u));case h.inlineSkeleton:return m().createElement(s.Z,(0,r.Z)({size:null!=l?l:s.i.lg},u,{style:g({display:"inline-block"},u.style)}));default:return m().createElement(s.Z,(0,r.Z)({size:null!=l?l:s.i.lg},u))}return a};k.propTypes={isLoading:f().bool,variant:f().oneOf(Object.keys(h)),style:f().object,children:f().node,size:f().string};const S=k},74372:(e,t,n)=>{n.d(t,{Z:()=>S});var a=n(29439),r=n(83115),i=n(59775),s=n(35575),l=n(49739),o=n(83826),c=n(23393),u=n(45697),f=n.n(u),d=n(77865),m=n.n(d),p=n(71478),v=n(78733),b=n(91709),g=n(74806),h=n(30893),k=function(e){var t=e.cves,n=e.updateRef,u=e.intl,f=(0,d.useState)(t),g=(0,a.Z)(f,1)[0],k=(0,d.useState)("0"),S=(0,a.Z)(k,2),Z=S[0],y=S[1],E=(0,d.useState)(),_=(0,a.Z)(E,2),j=_[0],w=_[1],M=(0,d.useCallback)((function(){w(g&&1===g.length&&g[0].justification||"")}),[g]);(0,d.useEffect)((function(){y(g&&1===g.length&&g[0].business_risk_id.toString()||"0"),M()}),[t,M,g]),(0,d.useEffect)(M,[M]);var O=function(e,t){var n=t.currentTarget.value;y(n)},P={variant:"success",title:u.formatMessage(h.Z.notificationBusinessRiskUpdateSuccessful,{count:g.length||0})},x={variant:"danger",autoDismiss:!1,title:u.formatMessage(h.Z.notificationBusinessRiskUpdateFailureTitle),description:u.formatMessage(h.Z.notificationBusinessRiskUpdateFailureBody)};return m().createElement(b.ZP,{items:g,onSave:function(){return(0,p.le)({business_risk_id:parseInt(Z),cve:g.map((function(e){return e.id})),business_risk_text:j}).then(n).catch((function(e){throw e}))},onSuccessNotification:P,onFailureNotification:x,title:u.formatMessage(h.Z.businessRiskModalTitle),ouiaId:"business-risk-modal"},m().createElement(l.K,{hasGutter:!0},m().createElement(o.v,null,u.formatMessage(h.Z.businessRiskModalInfo)),m().createElement(o.v,null,m().createElement(r.l,null,m().createElement(i.c,{label:u.formatMessage(h.Z.businessRiskLabel),fieldId:"businessRiskId"},v.eF.map((function(e){return m().createElement(s.Y,{className:"business-risk-radio",value:e.value,isChecked:Z===e.value,onChange:O,label:e.label,key:e.value,id:e.value,name:e.label,"aria-label":e.label,ouiaId:"business-risk-radio"})}))),m().createElement(i.c,{label:u.formatMessage(h.Z.justificationLabel),fieldId:"label"},m().createElement(c.Kx,{type:"text",onChange:function(e){w(e)},value:j,resizeOrientation:"vertical","aria-label":"justification",style:{minHeight:"2.25rem"}}))))))};k.propTypes={cves:f().array,updateRef:f().func,intl:f().any};const S=(0,g.ZP)(k)},19738:(e,t,n)=>{n.d(t,{Z:()=>E});var a=n(29439),r=n(93149),i=n(83115),s=n(59775),l=n(79851),o=n(34512),c=n(49739),u=n(83826),f=n(75824),d=n(53688),m=n(91290),p=n(45697),v=n.n(p),b=n(77865),g=n.n(b),h=n(71478),k=n(91709),S=n(74806),Z=n(30893),y=function(e){var t=e.cves,n=e.updateRef,p=e.intl,v=e.canEditPairStatus,S=(0,b.useState)(t),y=(0,a.Z)(S,1)[0],E=(0,k.Hb)(y&&y.every((function(e){return e.status_id===y[0].status_id}))&&y[0].status_id.toString()||"0"),_=E.StatusSelect,j=E.statusId,w=E.setProps,M=(0,k.fj)(y&&y.every((function(e){return e.justification===y[0].justification}))&&y[0].justification||""),O=M.JustificationInput,P=M.justification,x=(0,b.useState)(!1),R=(0,a.Z)(x,2),I=R[0],T=R[1],z=y.filter((function(e){return e.exposed_systems_count>0})).map((function(e){return e.id}));(0,b.useEffect)((function(){w({ouiaId:"status-select"})}),[w]);var C={variant:"success",title:p.formatMessage(Z.Z.notificationStatusUpdateSuccessful,{count:y.length||0})},B={variant:"danger",autoDismiss:!1,title:p.formatMessage(Z.Z.notificationStatusUpdateFailureTitle),description:p.formatMessage(Z.Z.notificationStatusUpdateFailureBody)},D=p.formatMessage(Z.Z.cveStatusModalTitle,{count:y.length||0});return g().createElement(k.ZP,{items:y,onSave:function(){return Promise.all([(0,h.xn)({cve:y.map((function(e){return e.id})),status_id:parseInt(j),status_text:P})].concat([!I&&z.length>0&&v&&(0,h.cr)({cve:z,status_id:parseInt(j),status_text:P})])).then((function(){return n(!I)})).catch((function(e){throw e}))},onSuccessNotification:C,onFailureNotification:B,title:D,ouiaId:"status-modal"},g().createElement(c.K,{hasGutter:!0},g().createElement(u.v,null,p.formatMessage(Z.Z.cveStatusModalSelected,{count:y.length||0,cveId:y[0].id,b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g().createElement("b",null,t)}})),g().createElement(u.v,null,g().createElement(d.ZP,{className:"pf-u-mr-xs",fontSize:"var(--pf-global--FontSize--md)",color:"var(--pf-global--active-color--300)"}),p.formatMessage(Z.Z.cveStatusModalInfo,{count:y.length||0}),g().createElement(f.u,{content:p.formatMessage(Z.Z.cveStatusModalInfoTooltip)},g().createElement(m.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)"}))),g().createElement(u.v,null,g().createElement(i.l,{key:"key"},_,O,z.length>0&&v&&g().createElement(s.c,{fieldId:"overwrite"},g().createElement(l.P,null,g().createElement(o.J,null,g().createElement(r.X,{label:p.formatMessage(Z.Z.cveStatusModalOverwriteCheckbox),id:"alt-form-checkbox-1",name:"alt-form-checkbox-1",isChecked:I,onChange:function(e){return T(e)}})),g().createElement(o.J,null,g().createElement(f.u,{content:p.formatMessage(Z.Z.cveStatusModalOverwriteTooltip)},g().createElement(m.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)",style:{verticalAlign:"0"}})))))))))};y.propTypes={cves:v().array,updateRef:v().func,intl:v().any,canEditPairStatus:v().bool.isRequired};const E=(0,S.ZP)(y)},39998:(e,t,n)=>{n.r(t)}}]);
//# sourceMappingURL=../sourcemaps/7178.ead2f14feda047534c46d1d1809d7f6c.js.map