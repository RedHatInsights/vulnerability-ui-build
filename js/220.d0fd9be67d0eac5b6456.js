(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[220],{97841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var a=n(28481),s=n(83115),l=n(59775),r=n(92504),i=n(49739),u=n(83826),c=n(23393),o=n(45697),f=n.n(o),m=n(25558),v=n.n(m),d=n(40287),b=n(9470),p=n(59797),g=n(90654),E=n(60578),h=function(e){var t=e.cves,n=e.updateRef,o=e.intl,f=(0,m.useState)(t),g=(0,a.Z)(f,1)[0],h=(0,m.useState)("0"),_=(0,a.Z)(h,2),Z=_[0],S=_[1],k=(0,m.useState)(),M=(0,a.Z)(k,2),y=M[0],I=M[1],x=(0,m.useCallback)((function(){I(g&&1===g.length&&g[0].justification||"")}),[g]);(0,m.useEffect)((function(){S(g&&1===g.length&&g[0].business_risk_id.toString()||"0"),x()}),[t,x,g]),(0,m.useEffect)(x,[t]);var C=function(e,t){var n=t.currentTarget.value;S(n)},P={variant:"success",title:o.formatMessage(E.Z.businessRiskUpdateSuccessful,{count:g.length||0})};return v().createElement(p.ZP,{items:g,onSave:function(){return(0,d.le)({business_risk_id:parseInt(Z),cve:g.map((function(e){return e.id})),business_risk_text:y}).then(n)},onSuccessNotification:P,title:o.formatMessage(E.Z.businessRiskModalTitle),ouiaId:"business-risk-modal"},v().createElement(i.K,{hasGutter:!0},v().createElement(u.v,null,o.formatMessage(E.Z.businessRiskModalInfo)),v().createElement(u.v,null,v().createElement(s.l,null,v().createElement(l.c,{label:o.formatMessage(E.Z.businessRiskLabel),fieldId:"businessRiskId"},b.eF.map((function(e){return v().createElement(r.Y,{className:"business-risk-radio",value:e.value,isChecked:Z===e.value,onChange:C,label:e.label,key:e.value,id:e.value,name:e.label,"aria-label":e.label,ouiaId:"business-risk-radio"})}))),v().createElement(l.c,{label:o.formatMessage(E.Z.justificationLabel),fieldId:"label"},v().createElement(c.Kx,{type:"text",onChange:function(e){I(e)},value:y,resizeOrientation:"vertical","aria-label":"justification"}))))))};h.propTypes={cves:f().array,updateRef:f().func,intl:f().any};const _=(0,g.ZP)(h)},87973:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var a=n(28481),s=n(93149),l=n(83115),r=n(59775),i=n(79851),u=n(34512),c=n(49739),o=n(83826),f=n(35224),m=n(53688),v=n(91290),d=n(45697),b=n.n(d),p=n(25558),g=n.n(p),E=n(40287),h=n(59797),_=n(90654),Z=n(60578),S=function(e){var t=e.cves,n=e.updateRef,d=e.intl,b=(0,p.useState)(t),_=(0,a.Z)(b,1)[0],S=(0,h.Hb)(_&&_.every((function(e){return e.status_id===_[0].status_id}))&&_[0].status_id.toString()||"0"),k=S.StatusSelect,M=S.statusId,y=S.setProps,I=(0,h.fj)(_&&_.every((function(e){return e.justification===_[0].justification}))&&_[0].justification||""),x=I.JustificationInput,C=I.justification,P=(0,p.useState)(!1),R=(0,a.Z)(P,2),j=R[0],T=R[1],w=_.filter((function(e){return e.exposed_systems_count>0})).map((function(e){return e.id}));(0,p.useEffect)((function(){y({ouiaId:"status-select"})}),[y]);var N={variant:"success",title:d.formatMessage(Z.Z.cveStatusModalUpdateSuccessful,{count:_.length||0})},z=d.formatMessage(Z.Z.cveStatusModalTitle,{count:_.length||0});return g().createElement(h.ZP,{items:_,onSave:function(){return(0,E.xn)({status_id:parseInt(M),cve:_.map((function(e){return e.id})),status_text:C}).then((function(){return!j&&w.length>0&&(0,E.cr)({cve:w})})).then(n)},onSuccessNotification:N,title:z,ouiaId:"status-modal"},g().createElement(c.K,{hasGutter:!0},g().createElement(o.v,null,d.formatMessage(Z.Z.cveStatusModalSelected,{count:_.length||0,cveId:_[0].id,b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g().createElement("b",null,t)}})),g().createElement(o.v,null,g().createElement(m.ZP,{className:"pf-u-mr-xs",fontSize:"var(--pf-global--FontSize--md)",color:"var(--pf-global--active-color--300)"}),d.formatMessage(Z.Z.cveStatusModalInfo,{count:_.length||0}),g().createElement(f.u,{content:d.formatMessage(Z.Z.cveStatusModalInfoTooltip)},g().createElement(g().Fragment,null,g().createElement(v.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)",style:{verticalAlign:"-0.125em"}})))),g().createElement(o.v,null,g().createElement(l.l,{key:"key"},k,x,w.length>0&&g().createElement(r.c,{fieldId:"overwrite"},g().createElement(i.P,null,g().createElement(u.J,null,g().createElement(s.X,{label:d.formatMessage(Z.Z.cveStatusModalOverwriteCheckbox),id:"alt-form-checkbox-1",name:"alt-form-checkbox-1",isChecked:j,onChange:function(e){return T(e)}})),g().createElement(u.J,null,g().createElement(f.u,{content:d.formatMessage(Z.Z.cveStatusModalOverwriteTooltip)},g().createElement(v.ZP,{className:"pf-u-ml-xs",color:"var(--pf-global--Color--200)",style:{verticalAlign:"0"}})))))))))};S.propTypes={cves:b().array,updateRef:b().func,intl:b().any};const k=(0,_.ZP)(S)}}]);