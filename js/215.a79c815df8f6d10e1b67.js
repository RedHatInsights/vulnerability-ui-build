"use strict";(self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities=self.webpackChunk_redhat_cloud_services_frontend_components_inventory_vulnerabilities||[]).push([[215],{62215:(t,e,r)=>{r.d(e,{Z:()=>m});var a=r(4942),s=r(15861),n=r(71002),i=r(15671),o=r(87757),c=r.n(o),u=r(35240),f=r(32132),l=r(30893);function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){(0,a.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const m=new function t(){var e=this;(0,i.Z)(this,t),this.filename=function(t){switch(t){case"reports":return"vulnerability_cves-report--".concat((new Date).toISOString().split("T")[0]);case"systems-exposed":return"vulnerability_systems-exposed-".concat(e.params.cve,"--").concat(e.defaultParams.date);case"system-list":return"vulnerability_systems--".concat(e.defaultParams.date);default:return"vulnerability_cves--".concat(e.defaultParams.date)}},this.checkTypes=function(t,r,a){if("function"!=typeof t)throw"exec expects the 1st param to be funtion. Received ".concat((0,n.Z)(t));if(!e.pages.includes(r))throw"Page ".concat(r," does not exist");if(!e.formats.includes(a))throw"Format ".concat(a," is not supported")},this.exec=function(){var t=(0,s.Z)(c().mark((function t(r,a,s,n,i,o){var f,l,p,m,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i(e.notifications.start),e.checkTypes(r,n,s),e.params.cve=Array.isArray(a)?a[0]:"",t.prev=3,!Array.isArray(a)){t.next=10;break}return t.next=7,r(e.params.cve,d(d(d({},a[1]),e.defaultParams),{},{data_format:s}));case 7:t.t0=t.sent,t.next=13;break;case 10:return t.next=12,r(d(d(d({},a),e.defaultParams),{},{data_format:s}));case 12:t.t0=t.sent;case 13:return f=t.t0,l=f.payload,t.next=17,l;case 17:p=t.sent,m=p.data,v="json"===s?JSON.stringify(m):m,(0,u.Sv)(v,e.filename(n),s),o(),i(e.notifications.success),t.next=30;break;case 25:throw t.prev=25,t.t1=t.catch(3),o(),i(e.notifications.failure),"".concat(t.t1);case 30:case"end":return t.stop()}}),t,null,[[3,25]])})));return function(e,r,a,s,n,i){return t.apply(this,arguments)}}(),this.defaultParams={page:1,page_size:Number.MAX_SAFE_INTEGER,date:(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc"},this.params={cve:""},this.pages=["systems-exposed","system-cves","cves","system-list"],this.formats=["csv","json"],this.notifications={start:{variant:"info",title:f.N.formatMessage(l.Z.notificationReportDownloadStart)},success:{variant:"success",title:f.N.formatMessage(l.Z.notificationReportDownloadSuccess)},failure:{variant:"danger",autoDismiss:!1,title:f.N.formatMessage(l.Z.notificationReportDownloadFailureTitle),description:f.N.formatMessage(l.Z.notificationReportDownloadFailureBody)}}}}}]);
//# sourceMappingURL=../sourcemaps/215.ed269286bdc933349030.js.map