{"version":3,"file":"js/806.60c7a838ba67d514cd8a.js","mappings":"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","sources":["webpack:///./src/Components/SmartComponents/Modals/BusinessRiskModal.js","webpack:///./src/Components/SmartComponents/Modals/CveStatusModal.js"],"sourcesContent":["import { Form, FormGroup, Radio, Stack, StackItem, TextArea } from '@patternfly/react-core';\nimport propTypes from 'prop-types';\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { setBusinessRisk } from '../../../Helpers/APIHelper';\nimport { BUSINESS_RISK_OPTIONS } from '../../../Helpers/constants';\nimport BaseModal from './BaseModal';\nimport { injectIntl } from 'react-intl';\nimport messages from '../../../Messages';\n\nexport const BusinessRiskModal = ({ cves, updateRef, intl }) => {\n    const [cveList] = useState(cves);\n    const [businessRiskId, setBusinessRiskId] = useState('0');\n    const [label, setLabel] = useState();\n\n    const getDefaultLabel = useCallback(() => {\n        setLabel((cveList && cveList.length === 1 && cveList[0].justification) || '');\n    }, [cveList]);\n\n    useEffect(() => {\n        const getDefaultBusinessRisk = () => {\n            setBusinessRiskId((cveList && cveList.length === 1 && cveList[0].business_risk_id.toString()) || '0');\n        };\n\n        getDefaultBusinessRisk();\n        getDefaultLabel();\n    }, [cves, getDefaultLabel, cveList]);\n\n    useEffect(getDefaultLabel, [getDefaultLabel]);\n\n    const handleOnRadioChange = (_, event) => {\n        const { value } = event.currentTarget;\n        setBusinessRiskId(value);\n    };\n\n    const handleOnLabelChange = value => {\n        setLabel(value);\n    };\n\n    const handleSave = () => {\n        return setBusinessRisk({\n            business_risk_id: parseInt(businessRiskId),\n            cve: cveList.map(item => item.id),\n            business_risk_text: label\n        }).then(updateRef);\n    };\n\n    const successNotification = {\n        variant: 'success',\n        title: intl.formatMessage(messages.businessRiskUpdateSuccessful, { count: cveList.length || 0 })\n    };\n\n    return (\n        <BaseModal\n            items={cveList}\n            onSave={handleSave}\n            onSuccessNotification={successNotification}\n            title={intl.formatMessage(messages.businessRiskModalTitle)}\n            ouiaId={'business-risk-modal'}\n        >\n            <Stack hasGutter>\n                <StackItem>\n                    {intl.formatMessage(messages.businessRiskModalInfo)}\n                </StackItem>\n                <StackItem>\n                    <Form>\n                        <FormGroup label={intl.formatMessage(messages.businessRiskLabel)} fieldId={'businessRiskId'}>\n                            {BUSINESS_RISK_OPTIONS.map(item => (\n                                <Radio\n                                    className={'business-risk-radio'}\n                                    value={item.value}\n                                    isChecked={businessRiskId === item.value}\n                                    onChange={handleOnRadioChange}\n                                    label={item.label}\n                                    key={item.value}\n                                    id={item.value}\n                                    name={item.label}\n                                    aria-label={item.label}\n                                    ouiaId={'business-risk-radio'}\n                                />\n                            ))}\n                        </FormGroup>\n                        <FormGroup label={intl.formatMessage(messages.justificationLabel)} fieldId={'label'}>\n                            <TextArea\n                                type=\"text\"\n                                onChange={handleOnLabelChange}\n                                value={label}\n                                resizeOrientation=\"vertical\"\n                                aria-label={'justification'}\n                                style={{ minHeight: '2.25rem' }}\n                            />\n                        </FormGroup>\n                    </Form>\n                </StackItem>\n            </Stack>\n        </BaseModal>\n    );\n};\n\nBusinessRiskModal.propTypes = {\n    cves: propTypes.array,\n    updateRef: propTypes.func,\n    intl: propTypes.any\n};\n\nexport default injectIntl(BusinessRiskModal);\n","import { Checkbox, Form, FormGroup, Split, SplitItem, Stack, StackItem, Tooltip } from '@patternfly/react-core';\nimport { InfoCircleIcon, OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\nimport propTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport { setCveStatus, setSystemCveStatus } from '../../../Helpers/APIHelper';\nimport BaseModal, { useJustificationInput, useStatusSelect } from './BaseModal';\nimport { injectIntl } from 'react-intl';\nimport messages from '../../../Messages';\n\nexport const CveStatusModal = ({ cves, updateRef, intl }) => {\n    const [cveList] = useState(cves);\n    const { StatusSelect, statusId, setProps: setSelectProps } = useStatusSelect(getDefaultStatus());\n    const { JustificationInput, justification } = useJustificationInput(getDefaultJustification());\n    const [checkboxState, setCheckboxState] = useState(false);\n\n    const cvesWithExposedSystems = cveList.filter(item => item.exposed_systems_count > 0).map(item => item.id);\n\n    useEffect(() => {\n        setSelectProps({ ouiaId: 'status-select' });\n    }, [setSelectProps]);\n\n    const handleSave = () => {\n        return setCveStatus({\n            status_id: parseInt(statusId),\n            cve: cveList.map(item => item.id),\n            status_text: justification\n        })\n        .then(() => !checkboxState && cvesWithExposedSystems.length > 0 && setSystemCveStatus({ cve: cvesWithExposedSystems }))\n        .then(updateRef);\n    };\n\n    function getDefaultStatus() {\n        return (cveList && cveList.every(item => item.status_id === cveList[0].status_id)\n            && cveList[0].status_id.toString()) || '0';\n    }\n\n    function getDefaultJustification() {\n        return (cveList && cveList.every(item => item.justification === cveList[0].justification)\n            && cveList[0].justification) || '';\n    }\n\n    const successNotification = {\n        variant: 'success',\n        title: intl.formatMessage(messages.cveStatusModalUpdateSuccessful, { count: cveList.length || 0 })\n    };\n    const title = intl.formatMessage(messages.cveStatusModalTitle, { count: cveList.length || 0 });\n\n    return (\n        <BaseModal\n            items={cveList}\n            onSave={handleSave}\n            onSuccessNotification={successNotification}\n            title={title}\n            ouiaId={'status-modal'}\n        >\n            <Stack hasGutter>\n                <StackItem>\n                    {intl.formatMessage(\n                        messages.cveStatusModalSelected,\n                        {\n                            count: cveList.length || 0,\n                            cveId: cveList[0].id, // only used when length is 1\n                            b: (...chunks) => <b>{chunks}</b> // explicitly specifying what is wrapped <b> should be bold\n                        }\n                    )}\n                </StackItem>\n                <StackItem>\n                    <InfoCircleIcon\n                        className=\"pf-u-mr-xs\"\n                        fontSize=\"var(--pf-global--FontSize--md)\"\n                        color=\"var(--pf-global--active-color--300)\"\n                    />\n                    {intl.formatMessage(messages.cveStatusModalInfo, { count: cveList.length || 0 })}\n                    <Tooltip\n                        content={intl.formatMessage(messages.cveStatusModalInfoTooltip)}\n                    >\n                        <React.Fragment>\n                            <OutlinedQuestionCircleIcon\n                                className=\"pf-u-ml-xs\"\n                                color=\"var(--pf-global--Color--200)\"\n                            />\n                        </React.Fragment>\n                    </Tooltip>\n                </StackItem>\n                <StackItem>\n                    <Form key=\"key\">\n                        {StatusSelect}\n                        {JustificationInput}\n                        {cvesWithExposedSystems.length > 0 &&\n                            <FormGroup fieldId={'overwrite'}>\n                                <Split>\n                                    <SplitItem>\n                                        <Checkbox\n                                            label={intl.formatMessage(messages.cveStatusModalOverwriteCheckbox)}\n                                            id=\"alt-form-checkbox-1\"\n                                            name=\"alt-form-checkbox-1\"\n                                            isChecked={checkboxState}\n                                            onChange={checked => setCheckboxState(checked)}\n                                        />\n                                    </SplitItem>\n                                    <SplitItem>\n                                        <Tooltip\n                                            content={intl.formatMessage(messages.cveStatusModalOverwriteTooltip)}\n                                        >\n                                            <OutlinedQuestionCircleIcon\n                                                className=\"pf-u-ml-xs\"\n                                                color=\"var(--pf-global--Color--200)\"\n                                                style={{ verticalAlign: '0' }}\n                                            />\n                                        </Tooltip>\n                                    </SplitItem>\n                                </Split>\n                            </FormGroup>\n                        }\n                    </Form>\n                </StackItem>\n            </Stack>\n        </BaseModal>\n    );\n};\n\nCveStatusModal.propTypes = {\n    cves: propTypes.array,\n    updateRef: propTypes.func,\n    intl: propTypes.any\n};\n\nexport default injectIntl(CveStatusModal);\n"],"names":["BusinessRiskModal","cves","updateRef","intl","useState","cveList","businessRiskId","setBusinessRiskId","label","setLabel","getDefaultLabel","useCallback","length","justification","useEffect","business_risk_id","toString","handleOnRadioChange","_","event","value","currentTarget","successNotification","variant","title","formatMessage","messages","count","items","onSave","setBusinessRisk","parseInt","cve","map","item","id","business_risk_text","then","onSuccessNotification","ouiaId","hasGutter","fieldId","BUSINESS_RISK_OPTIONS","className","isChecked","onChange","key","name","type","resizeOrientation","style","minHeight","propTypes","injectIntl","CveStatusModal","useStatusSelect","every","status_id","StatusSelect","statusId","setSelectProps","setProps","useJustificationInput","JustificationInput","checkboxState","setCheckboxState","cvesWithExposedSystems","filter","exposed_systems_count","setCveStatus","status_text","setSystemCveStatus","cveId","b","chunks","fontSize","color","content","checked","verticalAlign"],"sourceRoot":""}