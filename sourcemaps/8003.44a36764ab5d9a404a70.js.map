{"version":3,"sources":["webpack:///./src/Components/PresentationalComponents/CSAwRuleBox/CSAwRuleSummary.js","webpack:///./src/Components/PresentationalComponents/Filters/PrimaryToolbarFilters/SecurityRuleFilter.js","webpack:///./src/Components/PresentationalComponents/Filters/PrimaryToolbarFilters/StatusFilter.js","webpack:///./src/Components/PresentationalComponents/Snippets/GroupedCVELabels.js","webpack:///./src/Components/PresentationalComponents/Snippets/KnownExploitLabel.js","webpack:///./src/Components/SmartComponents/Modals/BaseModal.js"],"names":["renderer","marked","link","this","arguments","replace","CSAwRuleSummary","text","truncate","intl","props","className","length","TRUNCATE_TEXT_THRESHOLD","expandText","formatMessage","messages","collapseText","spaceBetween","dangerouslySetInnerHTML","__html","sanitizeHtml","dangerousHtml","defaultProps","propTypes","PropTypes","injectIntl","apply","currentFilter","dynamicFilters","currentValue","rule_presence","concat","split","rule_key","filterBySecurityRule","values","filter","value","includes","join","undefined","page","label","type","conditionalFilterType","filterValues","onChange","event","items","unionWith","RULE_PRESENCE_OPTIONS","isEqual","map","item","status_id","filterByStatus","STATUS_OPTIONS","GroupedCVELabels","hasExploit","hasRule","KnownExploitLabel","style","content","color","useStatusSelect","initialValue","useState","statusId","setStatusId","setProps","StatusSelect","fieldId","aria-label","selection","key","useJustificationInput","justification","setJustification","JustificationInput","resizeOrientation","BaseModal","title","onSave","onSuccessNotification","targetItems","setTargetItems","handleClose","useEffect","clearNotifications","variant","isOpen","Boolean","onClose","actions","ouiaId","onClick","then","notification","addNotification","children","updateRef","connect","dispatch","data"],"mappings":"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","file":"js/8003.c3de783b7649b50858e1.js","sourcesContent":["/* eslint-disable react/no-danger */\nimport React from 'react';\nimport marked from 'marked';\nimport PropTypes from 'prop-types';\nimport { injectIntl } from 'react-intl';\nimport sanitizeHtml from 'sanitize-html';\nimport { Truncate } from '@redhat-cloud-services/frontend-components/Truncate';\nimport { StackItem, TextContent } from '@patternfly/react-core';\nimport { TRUNCATE_TEXT_THRESHOLD } from '../../../Helpers/constants';\nimport messages from '../../../Messages';\n\n/**\n * extend marked's renderer in order to open link in new tab\n */\nlet renderer = new marked.Renderer();\nrenderer.link = function() {\n    let link = marked.Renderer.prototype.link.apply(this, arguments);\n    return link.replace('<a', '<a target=\\'_blank\\'');\n};\n\nmarked.setOptions({ renderer });\n\nconst CSAwRuleSummary = ({ text, truncate, intl, ...props }) => {\n    const dangerousHtml = (text) => ({ __html: sanitizeHtml(text) });\n\n    return (text &&\n        <StackItem {...props}>\n            <TextContent className=\"rule-description\">\n                {truncate && text.length > TRUNCATE_TEXT_THRESHOLD\n                    ? (\n                        <Truncate\n                            length={TRUNCATE_TEXT_THRESHOLD}\n                            expandText={intl.formatMessage(messages.readMore)}\n                            collapseText={intl.formatMessage(messages.readLess)}\n                            text={marked(text)}\n                            spaceBetween\n                        />\n                    ) : (\n                        <span dangerouslySetInnerHTML={dangerousHtml(marked(text))} />\n                    )\n                }\n            </TextContent>\n        </StackItem>\n    );\n\n};\n\nCSAwRuleSummary.defaultProps = {\n    truncate: true,\n    link: null\n};\n\nCSAwRuleSummary.propTypes = {\n    intl: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.object\n    ]),\n    truncate: PropTypes.bool,\n    text: PropTypes.string.isRequired\n};\n\nexport default injectIntl(CSAwRuleSummary);\n","\nimport { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport { RULE_PRESENCE_OPTIONS } from '../../../../Helpers/constants';\nimport { intl } from '../../../../Utilities/IntlProvider';\nimport messages from '../../../../Messages';\nimport unionWith from 'lodash/unionWith';\nimport isEqual from 'lodash/isEqual';\n\nconst securityRuleFilter = (apply, currentFilter = {}, dynamicFilters = []) => {\n    let currentValue = [];\n    if (currentFilter.rule_presence) {\n        currentValue = currentValue.concat(currentFilter.rule_presence.split(','));\n    }\n\n    if (currentFilter.rule_key) {\n        currentValue = currentValue.concat(currentFilter.rule_key.split(','));\n    }\n\n    const filterBySecurityRule = values => {\n        apply({\n            rule_presence: values.filter(value => ['true', 'false'].includes(value)).join(',') || undefined,\n            rule_key: values.filter(value => !['true', 'false'].includes(value)).join(',') || undefined,\n            page: 1\n        });\n    };\n\n    return {\n        label: intl.formatMessage(messages.filterSecurityRules),\n        type: conditionalFilterType.checkbox,\n        filterValues: {\n            onChange: (event, value) => {\n                filterBySecurityRule(value);\n            },\n            items:\n                unionWith(RULE_PRESENCE_OPTIONS, dynamicFilters, isEqual).map(item => ({ label: item.label, value: item.value })),\n            value: currentValue\n        }\n    };\n};\n\nexport default securityRuleFilter;\n","\nimport { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport { STATUS_OPTIONS } from '../../../../Helpers/constants';\nimport { intl } from '../../../../Utilities/IntlProvider';\nimport messages from '../../../../Messages';\n\nconst statusFilter = (apply, currentFilter = {}) => {\n\n    let { status_id: currentValue } = currentFilter;\n\n    const filterByStatus = values => {\n        apply({ status_id: (values.length > '0' && values.filter(value => value !== ',').join(',')) || '', page: 1 });\n    };\n\n    return {\n        label: intl.formatMessage(messages.filterStatus),\n        type: conditionalFilterType.checkbox,\n        filterValues: {\n            onChange: (event, value) => {\n                filterByStatus(value);\n            },\n            items: STATUS_OPTIONS.map(item => ({ label: item.label, value: item.value })),\n            value: (currentValue ? currentValue.split(',') : [])\n        }\n    };\n};\n\nexport default statusFilter;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { LabelGroup } from '@patternfly/react-core';\nimport KnownExploitLabel from './KnownExploitLabel';\nimport CSAwLabel from './CSAwLabel';\n\nconst GroupedCVELabels = ({ hasExploit, hasRule }) =>\n    (hasExploit || hasRule) && (\n        <LabelGroup className=\"pf-u-mt-xs cve-labels-grouped--nowrap\">\n            {hasExploit && <KnownExploitLabel/>}\n            {hasRule && <CSAwLabel/>}\n        </LabelGroup>\n    );\n\nGroupedCVELabels.propTypes = {\n    hasExploit: propTypes.bool.isRequired,\n    hasRule: propTypes.bool.isRequired\n};\n\nexport default GroupedCVELabels;\n","import React from 'react';\nimport { Label, Tooltip } from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport messages from '../../../Messages';\n\nconst KnownExploitLabel = ({ style, className }) => (\n    <Tooltip content={<FormattedMessage {...messages.knownExploitLabelTooltip} />}>\n        <Label color=\"red\" style={{ ...style }} className={['cve-labels', className]}>\n            <FormattedMessage {...messages.filterKnownExploit} />\n        </Label>\n    </Tooltip>\n);\n\nKnownExploitLabel.propTypes = {\n    style: PropTypes.object,\n    className: PropTypes.string\n};\n\nexport default KnownExploitLabel;\n","import { Button, FormGroup, FormSelect, FormSelectOption, Modal, TextArea } from '@patternfly/react-core';\nimport {\n    addNotification,\n    clearNotifications\n} from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport propTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { STATUS_OPTIONS } from '../../../Helpers/constants';\nimport messages from '../../../Messages';\nimport { FormattedMessage } from 'react-intl';\n\nexport function useStatusSelect(initialValue) {\n    const [statusId, setStatusId] = useState(initialValue);\n    const [props, setProps] = useState({});\n    const StatusSelect = (\n        <FormGroup label={<FormattedMessage {...messages.statusLabel} />} fieldId={'statusId'}>\n            <FormSelect aria-label=\"Select Input\" onChange={selection => setStatusId(selection)} value={statusId} {...props}>\n                {STATUS_OPTIONS.map(({ value, label }) => (\n                    <FormSelectOption key={value} value={value} label={label} />\n                ))}\n            </FormSelect>\n        </FormGroup>\n    );\n    return { StatusSelect, statusId, setStatusId, setProps };\n}\n\nexport function useJustificationInput(initialValue) {\n    const [justification, setJustification] = useState(initialValue);\n    const [props, setProps] = useState({});\n    const JustificationInput = (\n        <FormGroup label={<FormattedMessage {...messages.justificationLabel} />} fieldId={'label'}>\n            <TextArea\n                key=\"input\"\n                type=\"text\"\n                onChange={value => setJustification(value)}\n                value={justification}\n                resizeOrientation=\"vertical\"\n                aria-label={'justification note'}\n                {...props}\n            />\n        </FormGroup>\n    );\n    return { JustificationInput, justification, setJustification, setProps };\n}\n\nexport const BaseModal = ({ items, title, onSave, onSuccessNotification, ...props }) => {\n    const [targetItems, setTargetItems] = useState(items);\n\n    const createNotification = notification => {\n        return props.addNotification(notification);\n    };\n\n    const handleClose = () => {\n        setTargetItems(undefined);\n    };\n\n    const handleSave = () => {\n        onSave().then(() => createNotification(onSuccessNotification));\n        handleClose();\n    };\n\n    useEffect(() => {\n        return () => {\n            props.clearNotifications();\n        };\n    }, []);\n\n    return (\n        <React.Fragment>\n            <Modal\n                variant=\"small\"\n                title={title}\n                isOpen={Boolean(targetItems)}\n                onClose={handleClose}\n                actions={[\n                    <Button key=\"save\" variant=\"primary\" ouiaId=\"save\" onClick={handleSave}>\n                        {<FormattedMessage {...messages.save} />}\n                    </Button>,\n                    <Button key=\"cancel\" variant=\"secondary\" ouiaId=\"close\" onClick={handleClose}>\n                        {<FormattedMessage {...messages.cancel} />}\n                    </Button>\n                ]}\n                ouiaId={props.ouiaId}\n            >\n                {props.children}\n            </Modal>\n        </React.Fragment>\n    );\n};\n\nBaseModal.propTypes = {\n    children: propTypes.any,\n    onClose: propTypes.func,\n    items: propTypes.array,\n    updateRef: propTypes.func,\n    addNotification: propTypes.func,\n    title: propTypes.string,\n    onSave: propTypes.func,\n    onSuccessNotification: propTypes.object,\n    clearNotifications: propTypes.func,\n    ouiaId: propTypes.string\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        addNotification: data => dispatch(addNotification(data)),\n        clearNotifications: () => dispatch(clearNotifications())\n    };\n};\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(BaseModal);\n"],"sourceRoot":""}