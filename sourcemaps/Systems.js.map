{"version":3,"sources":["webpack:///./node_modules/@patternfly/react-table/dist/esm/index.js","webpack:///./src/Helpers/CVEHelper.js","webpack:///./src/Store/Selectors/CVESelectors.js","webpack:///./node_modules/reselect/lib/index.js","webpack:///./src/Store/Reducers/InventoryEntitiesReducer.js","webpack:///./node_modules/@patternfly/react-table/dist/esm/components/Table/utils/decorators/compoundExpand.js","webpack:///./node_modules/@patternfly/react-table/dist/esm/components/Table/utils/decorators/headerCol.js","webpack:///./node_modules/@patternfly/react-table/dist/esm/components/Table/utils/decorators/cellWidth.js","webpack:///./node_modules/@patternfly/react-table/dist/esm/components/Table/utils/decorators/textCenter.js","webpack:///./src/Components/SmartComponents/Systems/Systems.js","webpack:///./src/Components/SmartComponents/Systems/Systems.scss?4fb1","webpack:///./src/Components/SmartComponents/Systems/Systems.scss"],"names":["createExposedSystemsTable","affectedSystems","isLoading","payload","asMutable","data","meta","map","item","attributes","status","StatusDropdown","currentStatusName","status_name","currentStatusId","status_id","systemId","id","cveName","cve","hasNotification","createMitreLink","target","rel","href","sCveDetailsPage","createSelector","state","CVEStore","cveDetails","cves","impact","public_date","processDate","description","synopsis","rh_link","mitre_link","cvss3_score","cvss2_score","cvss2_metrics","cvss3_metrics","business_risk","business_risk_justification","business_risk_text","business_risk_id","sExposedSystemsTable","affectedSystemsByCVE","sAllSystems","SystemsStore","defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","length","i","defaultMemoize","func","arguments","undefined","lastArgs","lastResult","apply","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","join","Error","createSelectorCreator","memoize","_len","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","concat","selector","params","push","resetRecomputations","exports","__esModule","createStructuredSelector","selectors","selectorCreator","objectKeys","Object","keys","key","_len3","values","_key3","reduce","composition","value","index","init","columns","rows","entities","modifyInventory","getSelectedFunc","loaded","selected","filter","insights_id","has","inventoryEntitiesReducer","action","type","compoundExpand","rowIndex","columnIndex","rowData","column","property","title","props","extraParams","onExpand","extraData","className","tableCompoundExpansionToggle","isOpen","modifiers","expanded","children","createElement","variant","onClick","event","ariaControls","result","component","width","textCenter","Systems","downloadReport","format","opt_out","fetchSystems","data_format","page","page_size","Number","MAX_SAFE_INTEGER","then","response","JSON","stringify","downloadFile","Date","toISOString","config","setState","fetchData","addFilter","param","newFilter","doOptOut","size","optOutSystems","addNotification","Set","onSelect","add","getSelected","handleFilterChange","debounce","systems","handleRefresh","perPage","per_page","handleOptOut","handleKebabToggle","isKebabOpen","handleKebabSelect","InventoryCmp","removeListener","composed","isTime","selectListener","middlewareListener","addNew","on","callback","this","fetchInventory","insights","loadInventory","react","React","reactRouterDom","reactCore","reactIcons","pfReactTable","inventoryConnector","mergeWithEntities","mergeWithDetail","ReducerRegistry","register","InventoryTable","items","cve_count","rest","inventory_id","showBreadcrumb","hasCheckbox","total","total_items","onRefresh","onFilterChange","buttonTitle","placeholder","toggle","onToggle","isPlain","dropdownItems","Component","propTypes","dataShape","withRouter","connect","setHeader","header","dispatchAction","options","optOutSystemsAction","notification","content","module","transform","locals"],"mappings":"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","file":"js/Systems.js","sourcesContent":["export * from './components';\n//# sourceMappingURL=index.js.map","import { ExternalLinkAltIcon } from '@patternfly/react-icons';\nimport { processDate } from '@redhat-cloud-services/frontend-components-utilities/files/helpers';\nimport React from 'react';\nimport StatusDropdown from '../Components/SmartComponents/StatusDropdown/StatusDropdown';\n\nexport function createExposedSystemsTable(affectedSystems) {\n    let isLoading = affectedSystems.isLoading;\n    if (!isLoading) {\n        let payload = affectedSystems.payload.asMutable();\n        let { data, meta } = payload;\n        const dataWithStatus = data.map(item => ({\n            ...item,\n            attributes: {\n                ...item.attributes,\n                status: (\n                    <span>\n                        <StatusDropdown\n                            currentStatusName={item.attributes.status_name}\n                            currentStatusId={item.attributes.status_id}\n                            systemId={item.id}\n                            cveName={affectedSystems.cve}\n                            hasNotification\n                        />\n                    </span>\n                )\n            }\n        }));\n        return { data: dataWithStatus, meta, isLoading };\n    }\n\n    return { data: (affectedSystems.payload && affectedSystems.payload.data) || [], meta: {}, isLoading };\n}\n\nexport function createCveDetailsPage(cves) {\n    let isLoading = cves.isLoading;\n    if (!isLoading) {\n        let payload = cves.payload.asMutable();\n        let { data, meta } = payload;\n\n        data = {\n            impact: data.attributes.impact,\n            public_date: processDate(data.attributes.public_date),\n            description: data.attributes.description,\n            synopsis: data.attributes.synopsis,\n            rh_link: createRHDBLink(data.attributes.synopsis),\n            mitre_link: createMitreLink(data.attributes.synopsis),\n            cvss3_score: data.attributes.cvss3_score,\n            cvss2_score: data.attributes.cvss2_score,\n            cvss2_metrics: data.attributes.cvss2_metrics,\n            cvss3_metrics: data.attributes.cvss3_metrics,\n            business_risk: data.attributes.business_risk,\n            business_risk_justification: data.attributes.business_risk_text,\n            business_risk_id: data.attributes.business_risk_id\n        };\n        return { data, meta, isLoading };\n    }\n\n    return { data: [], meta: {}, isLoading };\n}\n\nexport function createRHDBLink(item) {\n    return (\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href={'https://access.redhat.com/security/cve/' + item}>\n            View in Red Hat CVE database <ExternalLinkAltIcon />\n        </a>\n    );\n}\n\nexport function createMitreLink(item) {\n    return (\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href={'https://cve.mitre.org/cgi-bin/cvename.cgi?name=' + item}>\n            MITRE Database <ExternalLinkAltIcon />\n        </a>\n    );\n}\n","import { createSelector } from 'reselect';\nimport { createCveDetailsPage, createExposedSystemsTable } from '../../Helpers/CVEHelper';\n\nconst cveListWithSystemsSelector = (state, cve) => ({ ...state.CVEStore.affectedSystemsByCVE, cve });\nconst systemsListAllSelector = state => state.SystemsStore;\nconst cveDetailsPageSelector = state => state.CVEStore.cveDetails;\n\nexport const sCveDetailsPage = createSelector(\n    [cveDetailsPageSelector],\n    createCveDetailsPage\n);\nexport const sExposedSystemsTable = createSelector(\n    [cveListWithSystemsSelector],\n    createExposedSystemsTable\n);\n\nexport const sAllSystems = createSelector(\n    [systemsListAllSelector],\n    createExposedSystemsTable\n);\n","'use strict';\n\nexports.__esModule = true;\nexports.defaultMemoize = defaultMemoize;\nexports.createSelectorCreator = createSelectorCreator;\nexports.createStructuredSelector = createStructuredSelector;\nfunction defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nfunction createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = defaultMemoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nvar createSelector = exports.createSelector = createSelectorCreator(defaultMemoize);\n\nfunction createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","// Initial State\nexport const init = {\n    columns: [],\n    rows: [],\n    entities: []\n};\n// Reducer\n\nfunction modifyInventory(columns, state, getSelectedFunc) {\n    // If a system does not have insights_id, it means it was deleted from inventory but somehow survived in Vuln backend\n    if (state.loaded) {\n        const selected = getSelectedFunc();\n        return {\n            ...state,\n            rows: state.rows.filter(item => item.insights_id).map(item => ({ ...item, selected: selected.has(item.id) })),\n            columns\n        };\n    }\n\n    return state;\n}\n\nexport const inventoryEntitiesReducer = (columns, selected) => (state = init, action) => {\n    switch (action.type) {\n        case 'LOAD_ENTITIES_FULFILLED':\n            return modifyInventory(columns, state, selected);\n\n        default:\n            return state;\n    }\n};\n","import React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport { Button } from '@patternfly/react-core';\nimport styles from '@patternfly/react-styles/css/components/Table/table';\nexport const compoundExpand = (value, {\n  rowIndex,\n  columnIndex,\n  rowData,\n  column,\n  property\n}) => {\n  if (!value) {\n    return null;\n  }\n\n  const {\n    title,\n    props\n  } = value;\n  const {\n    extraParams: {\n      onExpand\n    }\n  } = column;\n  const extraData = {\n    rowIndex,\n    columnIndex,\n    column,\n    property\n  };\n\n  function onToggle(event) {\n    onExpand && onExpand(event, rowIndex, columnIndex, props.isOpen, rowData, extraData);\n  }\n\n  return {\n    className: css(styles.tableCompoundExpansionToggle, props.isOpen && styles.modifiers.expanded),\n    children: props.isOpen !== undefined && React.createElement(Button, {\n      variant: \"link\",\n      onClick: onToggle,\n      \"aria-expanded\": props.isOpen,\n      \"aria-controls\": props.ariaControls\n    }, title)\n  };\n};\n//# sourceMappingURL=compoundExpand.js.map","import React from 'react';\nexport default ((id = 'simple-node') => {\n  const headerCol = (value, {\n    rowIndex\n  } = {}) => {\n    const result = typeof value === 'object' ? value.title : value;\n    return {\n      component: 'th',\n      children: React.createElement(\"div\", {\n        id: id + rowIndex\n      }, result)\n    };\n  };\n\n  return headerCol;\n});\n//# sourceMappingURL=headerCol.js.map","import { css, getModifier } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/Table/table';\nexport default (width => () => ({\n  className: css(getModifier(styles, `width-${width}`))\n}));\n//# sourceMappingURL=cellWidth.js.map","export default (() => ({\n  textCenter: true\n}));\n//# sourceMappingURL=textCenter.js.map","import * as reactCore from '@patternfly/react-core';\nimport { Dropdown, DropdownItem, KebabToggle, Page, ToolbarGroup } from '@patternfly/react-core';\nimport * as reactIcons from '@patternfly/react-icons';\nimport * as pfReactTable from '@patternfly/react-table';\nimport { Main, SimpleTableFilter } from '@redhat-cloud-services/frontend-components';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { downloadFile } from '@redhat-cloud-services/frontend-components-utilities/files/helpers';\nimport debounce from 'lodash/debounce';\nimport propTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport * as reactRouterDom from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport { dispatchAction } from '../../../Helpers/Dispatcher';\nimport { dataShape } from '../../../Helpers/MiscHelper';\nimport { fetchSystems, optOutSystemsAction, setHeader } from '../../../Store/Actions/Actions';\nimport { inventoryEntitiesReducer } from '../../../Store/Reducers/InventoryEntitiesReducer';\nimport { sAllSystems } from '../../../Store/Selectors/CVESelectors';\nimport ReducerRegistry, { middlewareListener } from '../../../Utilities/ReducerRegistry';\nimport VulnerabilityHeader from '../VulnerabilityHeader/VulnerabilityHeader';\nimport './Systems.scss';\n\n/*eslint camelcase: 0*/\n\nclass Systems extends React.Component {\n    static propTypes = {\n        fetchData: propTypes.func,\n        systems: dataShape,\n        optOutSystems: propTypes.func,\n        addNotification: propTypes.func\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            InventoryCmp: () => <div>Loading...</div>,\n            filter: '',\n            removeListener: () => {},\n            columns: [\n                {\n                    key: 'display_name',\n                    title: 'Name',\n                    composed: ['facts.os_release', 'display_name']\n                },\n                {\n                    key: 'cve_count',\n                    title: 'Number of CVEs'\n                },\n                {\n                    key: 'updated',\n                    title: 'Last Seen',\n                    isTime: true\n                }\n            ],\n            opt_out: false,\n            isKebabOpen: false,\n            selectListener: middlewareListener.addNew({\n                on: 'SELECT_ENTITY',\n                callback: payload => this.onSelect(payload)\n            }),\n            selected: new Set()\n        };\n    }\n\n    componentDidMount() {\n        this.props.fetchData();\n        this.fetchInventory();\n    }\n\n    downloadReport = format => {\n        const { opt_out, filter } = this.state;\n        const { payload } = fetchSystems({\n            opt_out,\n            filter,\n            data_format: format,\n            page: 1,\n            page_size: Number.MAX_SAFE_INTEGER\n        });\n        payload &&\n            payload.then(({ data: response }) => {\n                const data = format === 'json' ? JSON.stringify(response) : response;\n                return downloadFile(data, `systems-${new Date().toISOString()}`, format);\n            });\n    };\n\n    async fetchInventory() {\n        const { inventoryConnector, mergeWithEntities, mergeWithDetail } = await insights.loadInventory({\n            react: React,\n            reactRouterDom,\n            reactCore,\n            reactIcons,\n            pfReactTable\n        });\n        ReducerRegistry.register({\n            ...mergeWithEntities(inventoryEntitiesReducer(this.state.columns, this.getSelected)),\n            ...mergeWithDetail()\n        });\n\n        this.setState({\n            InventoryCmp: inventoryConnector().InventoryTable\n        });\n        this.state.removeListener();\n    }\n\n    apply = (config = {}) => {\n        this.setState({ ...this.state, ...config }, () => {\n            this.props.fetchData(this.params());\n        });\n    };\n\n    addFilter = (param, value, type) => {\n        let newFilter;\n        if (type === 'radio' || param === 'show_all') {\n            newFilter = { [param]: value };\n        } else {\n            newFilter = this.state[param] ? { [param]: `${this.state[param]},${value}` } : { [param]: value };\n        }\n\n        this.apply({ ...newFilter, page: 1 });\n    };\n\n    doOptOut = () => {\n        if (this.state.selected.size > 0) {\n            this.props.optOutSystems(this.state.selected, !this.state.opt_out).then(() => {\n                this.props.fetchData({ ...this.params(), page: 1 });\n                this.state.opt_out === false\n                    ? this.props.addNotification({\n                        variant: 'success',\n                        title: this.state.selected.size + ' systems successfully excluded from vulnerability analysis'\n                    })\n                    : this.props.addNotification({\n                        variant: 'success',\n                        title: this.state.selected.size + ' systems successfully resumed vulnerability analysis',\n                        description: 'There may be 24 hours before data is available'\n                    });\n                this.setState({ selected: new Set() });\n            });\n        }\n    };\n\n    onSelect = payload => {\n        const { selected } = this.state;\n        payload.data.selected ? selected.add(payload.data.id) : selected.delete(payload.data.id);\n        this.setState({ selected });\n    };\n\n    getSelected = () => {\n        return this.state.selected;\n    };\n\n    params = () => {\n        const { filter, opt_out, page, page_size } = this.state;\n        return { filter, opt_out, page, page_size };\n    };\n\n    handleFilterChange = debounce(value => {\n        const { meta } = this.props.systems;\n        const { page_size } = meta;\n        this.apply({ filter: value, page_size });\n    }, 400);\n\n    handleRefresh = ({ page, per_page: perPage }) => {\n        const { meta } = this.props.systems;\n        if (meta.page !== page || meta.page_size !== perPage) {\n            this.apply({\n                page: meta.page_size !== perPage ? 1 : page,\n                page_size: perPage,\n                filter: this.state.filter\n            });\n        }\n    };\n\n    handleOptOut = () => {\n        this.setState({\n            opt_out: !this.state.opt_out,\n            selected: new Set(),\n            page: 1\n        });\n        this.handleFilterChange(this.state.filter);\n    };\n\n    handleKebabToggle = isKebabOpen => {\n        this.setState({\n            isKebabOpen\n        });\n    };\n\n    handleKebabSelect = () => {\n        this.setState({\n            isKebabOpen: !this.state.isKebabOpen\n        });\n    };\n\n    render() {\n        const { InventoryCmp } = this.state;\n        const { data, meta } = this.props.systems;\n        const items = data.map(item => {\n            const { cve_count, ...rest } = item.attributes;\n            return {\n                cve_count: (meta.opt_out && 'Excluded') || cve_count,\n                id: item.attributes.inventory_id,\n                ...rest\n            };\n        });\n        return (\n            <Page>\n                <VulnerabilityHeader showBreadcrumb={false} />\n                <Main>\n                    <InventoryCmp\n                        hasCheckbox={data.length !== 0}\n                        page={meta.page}\n                        total={meta.total_items}\n                        perPage={meta.page_size}\n                        onRefresh={this.handleRefresh}\n                        items={items}\n                    >\n                        <ToolbarGroup className=\"systems-toolbar\">\n                            <div>\n                                <SimpleTableFilter\n                                    onFilterChange={this.handleFilterChange}\n                                    buttonTitle={null}\n                                    placeholder=\"Find a system by UUID\"\n                                />\n                            </div>\n                            <div>\n                                <Dropdown\n                                    onSelect={this.handleKebabSelect}\n                                    toggle={<KebabToggle onToggle={this.handleKebabToggle} />}\n                                    isOpen={this.state.isKebabOpen}\n                                    isPlain\n                                    dropdownItems={[\n                                        <DropdownItem key=\"do_opt_out\" component=\"button\" onClick={() => this.doOptOut()}>\n                                            {this.state.opt_out ? 'Resume analysis for system' : 'Exclude system from analysis'}\n                                        </DropdownItem>,\n                                        <DropdownItem key=\"opt_out\" component=\"button\" onClick={() => this.handleOptOut()}>\n                                            {this.state.opt_out\n                                                ? 'Hide systems excluded from analysis'\n                                                : 'Show systems excluded from analysis'}\n                                        </DropdownItem>,\n                                        <DropdownItem key=\"csv\" component=\"button\" onClick={() => this.downloadReport('csv')}>\n                                            Export as CSV\n                                        </DropdownItem>,\n                                        <DropdownItem key=\"json\" component=\"button\" onClick={() => this.downloadReport('json')}>\n                                            Export as JSON\n                                        </DropdownItem>\n                                    ]}\n                                />\n                            </div>\n                        </ToolbarGroup>\n                    </InventoryCmp>\n                </Main>\n            </Page>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        systems: sAllSystems(state)\n    };\n}\n\nconst mapDispatchToProps = () => {\n    return {\n        setHeader: header => dispatchAction(setHeader(header)),\n        fetchData: options => dispatchAction(fetchSystems(options)),\n        optOutSystems: (systems, status) => dispatchAction(optOutSystemsAction(systems, status)),\n        addNotification: notification => dispatchAction(addNotification(notification))\n    };\n};\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Systems)\n);\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Systems.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Systems.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Systems.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".systems-toolbar > div {\\n  margin-right: var(--pf-global--spacer--sm); }\\n\\n.space-between-toolbar-items {\\n  justify-content: space-between;\\n  flex-wrap: nowrap; }\\n  .space-between-toolbar-items > div {\\n    flex-wrap: nowrap; }\\n\\n.vulnerability-toolbar-spacing {\\n  justify-content: flex-start; }\\n  .vulnerability-toolbar-spacing > div:not(:last-child) {\\n    margin-right: var(--pf-global--spacer--sm); }\\n\", \"\"]);\n\n// exports\n"],"sourceRoot":""}