{"version":3,"sources":["webpack:///./src/Components/SmartComponents/Vulnerabilities/Vulnerabilities.js"],"names":["VulnerabilitiesCVEs","asyncComponent","CVEPage","Systems","InventoryDetail","Upgrade","Vulnerabilities","props","this","location","history","pathname","paths","upgrade","to","getSystems","page_size","then","res","meta","total_items","replace","path","Fragment","exact","vulnerabilitiesCves","component","systems","inventoryDetail","cvePage","from","cvepagePath","render","some","p","React","Component","propTypes","object","isRequired","withRouter"],"mappings":"sRAQMA,EAAsBC,YAAe,kBAAM,8DAC3CC,EAAUD,YAAe,kBAAM,8DAE/BE,EAAUF,YAAe,kBAAM,uDAC/BG,EAAkBH,YAAe,kBACnC,8DAEEI,EAAUJ,YAAe,kBAC3B,iCAGEK,E,YAMF,WAAYC,GAAO,6CACTA,I,iEAGU,MACcC,KAAKD,MAA3BE,EADQ,EACRA,SAAUC,EADF,EACEA,QACdD,EAASE,WAAaC,IAAMC,QAAQC,IACpCC,YAAW,CAAEC,UAAW,IAAKC,KAAK,SAAAC,GAC9BA,EAAIC,MAAQD,EAAIC,KAAKC,aAAe,GAAKV,EAAQW,QAAQT,IAAMC,QAAQC,Q,+BAK1E,IAGDQ,EAFcd,KAAVD,MAESE,SAASE,SAC1B,OACI,kBAAC,IAAMY,SAAP,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,OAAK,EAACF,KAAMV,IAAMa,oBAAoBX,GAAIY,UAAW1B,IAC5D,kBAAC,IAAD,CAAOwB,OAAK,EAACF,KAAMV,IAAMe,QAAQb,GAAIY,UAAWvB,IAChD,kBAAC,IAAD,CAAOmB,KAAMV,IAAMgB,gBAAgBd,GAAIY,UAAWtB,IAClD,kBAAC,IAAD,CAAOoB,OAAK,EAACF,KAAMV,IAAMiB,QAAQf,GAAIY,UAAWxB,IAChD,kBAAC,IAAD,CAAOsB,OAAK,EAACF,KAAMV,IAAMC,QAAQC,GAAIY,UAAWrB,IAChD,kBAAC,IAAD,CAAUyB,KAAMlB,IAAMmB,YAAYjB,GAAIA,GAAIF,IAAMgB,gBAAgBd,KAChE,kBAAC,IAAD,CACIkB,OAAQ,kBAAOC,IAAKrB,IAAO,SAAAsB,GAAC,OAAIA,EAAEpB,KAAOQ,IAAQ,KAAO,kBAAC,IAAD,CAAUR,GAAIF,IAAMa,oBAAoBX,c,GAjC1FqB,IAAMC,WAA9B9B,EACK+B,UAAY,CACf5B,SAAU4B,IAAUC,OAAOC,WAC3B7B,QAAS2B,IAAUC,QAsCZE,sBAAWlC","file":"js/Vulnerabilities.js","sourcesContent":["import some from 'lodash/some';\nimport propTypes from 'prop-types';\nimport React from 'react';\nimport { Redirect, Route, Switch, withRouter } from 'react-router-dom';\nimport { getSystems } from '../../../Helpers/APIHelper';\nimport asyncComponent from '../../../Utilities/asyncComponent';\nimport { paths } from '../../../Utilities/Routes';\n\nconst VulnerabilitiesCVEs = asyncComponent(() => import(/* webpackChunkName: \"VulnerabilitiesCVEs\" */ '../CVEs/CVEs'));\nconst CVEPage = asyncComponent(() => import(/* webpackChunkName: \"CVEPage\" */ '../CVEPage/CVEPage'));\n\nconst Systems = asyncComponent(() => import(/* webpackChunkName: \"Systems\" */ '../Systems/Systems'));\nconst InventoryDetail = asyncComponent(() =>\n    import(/* webpackChunkName: \"InventoryDetail\" */ '../InventoryDetail/InventoryDetail')\n);\nconst Upgrade = asyncComponent(() =>\n    import(/* webpackChunkName: \"Upgrade\" */ '../../PresentationalComponents/StaticPages/UpgradePage')\n);\n\nclass Vulnerabilities extends React.Component {\n    static propTypes = {\n        location: propTypes.object.isRequired,\n        history: propTypes.object\n    };\n\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        const { location, history } = this.props;\n        if (location.pathname !== paths.upgrade.to) {\n            getSystems({ page_size: 1 }).then(res => {\n                res.meta && res.meta.total_items <= 0 && history.replace(paths.upgrade.to);\n            });\n        }\n    }\n\n    render() {\n        const { props } = this;\n\n        let path = props.location.pathname;\n        return (\n            <React.Fragment>\n                <Switch>\n                    <Route exact path={paths.vulnerabilitiesCves.to} component={VulnerabilitiesCVEs} />\n                    <Route exact path={paths.systems.to} component={Systems} />\n                    <Route path={paths.inventoryDetail.to} component={InventoryDetail} />\n                    <Route exact path={paths.cvePage.to} component={CVEPage} />\n                    <Route exact path={paths.upgrade.to} component={Upgrade} />\n                    <Redirect from={paths.cvepagePath.to} to={paths.inventoryDetail.to} />\n                    <Route\n                        render={() => (some(paths, p => p.to === path) ? null : <Redirect to={paths.vulnerabilitiesCves.to} />)}\n                    />\n                </Switch>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withRouter(Vulnerabilities);\n"],"sourceRoot":""}