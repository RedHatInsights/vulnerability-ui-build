{"version":3,"file":"js/SystemDetailsPage.41ddb0723adfd7601ec5.js","mappings":"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","sources":["webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/Inventory/InventoryLoadError.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/Inventory/WithHistory.js","webpack:///./src/Components/SmartComponents/SystemDetailsPage/SystemDetails.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/Inventory/DetailWrapper.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/Inventory/InventoryDetailHead.js","webpack:///./src/Components/SmartComponents/SystemDetailsPage/SystemDetailsPage.js"],"sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect } from 'react';\nvar InventoryLoadError = function (_a) {\n    var component = _a.component, props = __rest(_a, [\"component\"]);\n    useEffect(function () {\n        console.error(\"Unable to load inventory component. Failed to load \".concat(component, \".\"), props);\n    }, []);\n    return (_jsxs(\"div\", { children: [_jsx(\"h1\", { children: \"Unable to load inventory component\" }), _jsxs(\"h2\", { children: [\"Failed to load \", component] }), _jsx(\"code\", { children: \"More info can be found in browser console output.\" })] }));\n};\nexport default InventoryLoadError;\n//# sourceMappingURL=InventoryLoadError.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useMemo } from 'react';\nimport * as reactRouter from 'react-router-dom';\nimport useChrome from '../useChrome';\nvar WithReactRouterHistory = function (_a) {\n    var Component = _a.Component, props = __rest(_a, [\"Component\"]);\n    var history = reactRouter.useHistory();\n    return _jsx(Component, __assign({ history: history }, props));\n};\nvar WithChromeHistory = function (_a) {\n    var Component = _a.Component, props = __rest(_a, [\"Component\"]);\n    var chromeHistory = useChrome().chromeHistory;\n    return _jsx(Component, __assign({ history: chromeHistory }, props));\n};\nvar WithHistory = function (_a, ref) {\n    var Component = _a.Component, props = __rest(_a, [\"Component\"]);\n    var HistoryComponent = useMemo(function () { return (typeof reactRouter.useHistory === 'function' ? WithReactRouterHistory : WithChromeHistory); }, [Component, props]);\n    return _jsx(HistoryComponent, __assign({ innerRef: ref, Component: Component }, props));\n};\nexport default React.forwardRef(WithHistory);\n//# sourceMappingURL=WithHistory.js.map","import React from 'react';\nimport propTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { ConnectedSystemCves } from '../SystemCves/SystemCves';\nimport {\n    EmptyStateExcludedSystem,\n    NotAuthorized\n} from '../../PresentationalComponents/EmptyStates/EmptyStates';\nimport { Spinner } from '@redhat-cloud-services/frontend-components/Spinner';\nimport { intl } from '../../../Utilities/IntlProvider';\nimport messages from '../../../Messages';\nimport { PERMISSIONS, SERVICE_NAME } from '../../../Helpers/constants';\nimport { useRbac } from '../../../Helpers/Hooks';\n\nconst SystemDetails = ({ optOutSystemHandler }) => {\n    const { loaded, opt_out: isOptOut } = useSelector(({ SystemDetailsPageStore }) => SystemDetailsPageStore) ?? {};\n    const { entity } = useSelector(state => state.entityDetails) ?? {};\n\n    const [[\n        canExport,\n        canReadVulnerabilityResults,\n        canEditPairStatus,\n        canReadExcluded\n    ], isRbacLoading] = useRbac([\n        PERMISSIONS.basicReporting,\n        PERMISSIONS.readVulnerabilityResults,\n        PERMISSIONS.setPairStatus,\n        PERMISSIONS.readExcluded]\n    );\n\n    if (isRbacLoading) {\n        return <Spinner centered />;\n    } else if (canReadVulnerabilityResults) {\n        if (entity && loaded && isOptOut) {\n            if (canReadExcluded) {\n                return <EmptyStateExcludedSystem buttonAction={() => optOutSystemHandler(entity.display_name, false)} />;\n            } else {\n                return <NotAuthorized title={intl.formatMessage(messages.notAuthorizedNoAccessForSystem)} />;\n            }\n        } else if (entity) {\n            return <ConnectedSystemCves\n                entity={{ id: entity?.id, display_name: entity?.display_name, insights_id: entity?.insights_id }}\n                showHeaderLabel\n                setPageTitle\n                canExport={canExport}\n                canEditPairStatus={canEditPairStatus}\n            />;\n        } else {\n            return loaded ? null : <Spinner centered />;\n        }\n    } else {\n        return <NotAuthorized serviceName={SERVICE_NAME} />;\n    }\n};\n\nSystemDetails.propTypes = {\n    optOutSystemHandler: propTypes.func\n};\n\nexport default SystemDetails;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { Suspense } from 'react';\nimport PropTypes from 'prop-types';\nimport { ScalprumComponent } from '@scalprum/react-core';\nimport { useStore } from 'react-redux';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\nimport InventoryLoadError from './InventoryLoadError';\nimport classNames from 'classnames';\nimport WithHistory from './WithHistory';\nvar BaseDetailWrapper = function (props) {\n    var store = useStore();\n    var Cmp = props.component;\n    return (_jsx(Cmp, __assign({ className: classNames(props.className, 'inventory') }, { children: _jsx(Suspense, __assign({ fallback: props.fallback }, { children: _jsx(ScalprumComponent, __assign({ history: props.history, store: store, appName: \"inventory\", module: \"./DetailWrapper\", scope: \"inventory\", ErrorComponent: _jsx(InventoryLoadError, __assign({ component: \"InventoryDetailHead\" }, props)), ref: props.innerRef }, props)) })) })));\n};\nBaseDetailWrapper.propTypes = {\n    fallback: PropTypes.node,\n    innerRef: PropTypes.object,\n    component: PropTypes.string,\n    className: PropTypes.string,\n    history: PropTypes.object,\n};\nvar DetailWrapper = React.forwardRef(function (props, ref) { return _jsx(BaseDetailWrapper, __assign({ innerRef: ref }, props)); });\nDetailWrapper.propTypes = {\n    fallback: PropTypes.node,\n    component: PropTypes.string,\n    className: PropTypes.string,\n};\nDetailWrapper.defaultProps = {\n    fallback: (_jsx(Bullseye, __assign({ className: \"pf-u-p-lg\" }, { children: _jsx(Spinner, { size: \"xl\" }) }))),\n    component: 'section',\n};\nvar CompatiblityWrapper = function (props, ref) { return _jsx(WithHistory, __assign({ innerRef: ref, Component: DetailWrapper }, props)); };\nexport default React.forwardRef(CompatiblityWrapper);\n//# sourceMappingURL=DetailWrapper.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { Suspense } from 'react';\nimport PropTypes from 'prop-types';\nimport { ScalprumComponent } from '@scalprum/react-core';\nimport { useStore } from 'react-redux';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\nimport InventoryLoadError from './InventoryLoadError';\nimport classNames from 'classnames';\nimport WithHistory from './WithHistory';\nvar BaseInventoryDetailHead = function (props) {\n    var store = useStore();\n    var Cmp = props.component;\n    return (_jsx(Cmp, __assign({ className: classNames(props.className, 'inventory') }, { children: _jsx(Suspense, __assign({ fallback: props.fallback }, { children: _jsx(ScalprumComponent, __assign({ history: props.history, store: store, appName: \"inventory\", module: \"./InventoryDetailHead\", scope: \"inventory\", ErrorComponent: _jsx(InventoryLoadError, __assign({ component: \"InventoryDetailHead\" }, props)), ref: props.innerRef }, props)) })) })));\n};\nBaseInventoryDetailHead.propTypes = {\n    fallback: PropTypes.node,\n    innerRef: PropTypes.object,\n    component: PropTypes.string,\n    className: PropTypes.string,\n    history: PropTypes.object,\n};\nvar InventoryDetailHead = React.forwardRef(function (props, ref) { return _jsx(BaseInventoryDetailHead, __assign({ innerProps: ref }, props)); });\nInventoryDetailHead.propTypes = {\n    fallback: PropTypes.node,\n    component: PropTypes.string,\n    className: PropTypes.string,\n};\nInventoryDetailHead.defaultProps = {\n    fallback: (_jsx(Bullseye, __assign({ className: \"pf-u-p-lg\" }, { children: _jsx(Spinner, { size: \"xl\" }) }))),\n    component: 'section',\n};\nvar CompatiblityWrapper = function (props, ref) { return _jsx(WithHistory, __assign({ innerRef: ref, Component: InventoryDetailHead }, props)); };\nexport default React.forwardRef(CompatiblityWrapper);\n//# sourceMappingURL=InventoryDetailHead.js.map","import { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport { addNotification, clearNotifications } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { fetchSystemDetails, optOutSystemsAction } from '../../../Store/Actions/Actions';\nimport SystemDetails from './SystemDetails';\nimport Header from '../../PresentationalComponents/Header/Header';\nimport { useIntl } from 'react-intl';\nimport {\n    NotAuthorizedNotification,\n    PATHS,\n    PERMISSIONS,\n    ReadOnlyNotification\n} from '../../../Helpers/constants';\nimport messages from '../../../Messages';\n\nimport { DetailWrapper, InventoryDetailHead } from '@redhat-cloud-services/frontend-components/Inventory';\nimport { useRbac } from '../../../Helpers/Hooks';\nimport ReducerRegistry from '../../../Utilities/ReducerRegistry';\n\nconst InventoryDetail = () => {\n    const dispatch = useDispatch();\n    const { inventoryId } = useParams();\n    const intl = useIntl();\n\n    const { loaded, opt_out: isOptOut } = useSelector(({ SystemDetailsPageStore }) => SystemDetailsPageStore) ?? {};\n    const { entity } = useSelector(state => state.entityDetails) ?? {};\n\n    const errors = useSelector(({ SystemCvesStore }) => SystemCvesStore.cveList.payload.errors);\n\n    const [[canSetExcludedIncluded]] = useRbac([PERMISSIONS.setExcludedIncluded]);\n\n    useEffect(() => {\n        dispatch(fetchSystemDetails(inventoryId));\n    }, [dispatch, inventoryId]);\n\n    useEffect(() => {\n        return () => {\n            dispatch(clearNotifications());\n        };\n    }, [dispatch]);\n\n    const notifications = systemName => ({\n        exclude: {\n            success: {\n                variant: 'success',\n                title: intl.formatMessage(messages.notificationDisableSuccess, { count: 1, systemName })\n            },\n            failure: {\n                variant: 'danger',\n                autoDismiss: false,\n                title: intl.formatMessage(messages.notificationDisableFailureTitle, { count: 1, systemName }),\n                description: intl.formatMessage(messages.notificationDetailDisableFailureBody, { count: 1 })\n            }\n        },\n        include: {\n            success: {\n                variant: 'success',\n                title: intl.formatMessage(messages.notificationEnableSuccessTitle, { count: 1, systemName }),\n                description: intl.formatMessage(messages.notificationEnableSuccessBody, { count: 1 })\n            },\n            failure: {\n                variant: 'danger',\n                autoDismiss: false,\n                title: intl.formatMessage(messages.notificationEnableFailureTitle, { count: 1, systemName }),\n                description: intl.formatMessage(messages.notificationDetailEnableFailureBody, { count: 1 })\n            }\n        }\n    });\n\n    const handleOptOutSystem = (systemName, toExclude) => {\n        dispatch(optOutSystemsAction([inventoryId], toExclude)).then(() => {\n            dispatch(fetchSystemDetails(inventoryId));\n            dispatch(addNotification(toExclude\n                ? notifications(systemName).exclude.success\n                : notifications(systemName).include.success));\n        }).catch(error => {\n            dispatch(addNotification(\n                error.status === '503' ? ReadOnlyNotification :\n                    error.status === '403' ? NotAuthorizedNotification :\n                        toExclude\n                            ? notifications(systemName).exclude.failure\n                            : notifications(systemName).include.failure));\n        });\n    };\n\n    return (\n        <DetailWrapper\n            inventoryId={inventoryId}\n            onLoad={({ mergeWithDetail }) => {\n                ReducerRegistry.register({\n                    ...mergeWithDetail()\n                });\n            }}\n        >\n            <section className=\"inventory\">\n                <Header\n                    title=\"\"\n                    breadcrumbs={[\n                        {\n                            title: PATHS.systemsPage.title,\n                            to: PATHS.systemsPage.to,\n                            isLoaded: true\n                        },\n                        {\n                            title: entity?.display_name || intl.formatMessage(messages.invalidSystem),\n                            isActive: true,\n                            isLoaded: loaded\n                        }\n                    ]}\n                >\n                    {!errors && (\n                        <InventoryDetailHead\n                            hideBack\n                            actions={\n                                entity && canSetExcludedIncluded && [\n                                    isOptOut\n                                        ? {\n                                            title: intl.formatMessage(messages.inventoryKebabOptionsEnable),\n                                            onClick: () => handleOptOutSystem(entity?.display_name, false)\n                                        }\n                                        : {\n                                            title: intl.formatMessage(messages.inventoryKebabOptionsDisable),\n                                            onClick: () => handleOptOutSystem(entity?.display_name, true)\n                                        }\n                                ]\n                            }\n                        />\n                    )}\n                </Header>\n            </section>\n            <Main>\n                <SystemDetails optOutSystemHandler={handleOptOutSystem} />\n            </Main>\n        </DetailWrapper>\n    );\n};\n\nexport default InventoryDetail;\n"],"names":["_a","component","props","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","__rest","useEffect","console","error","concat","children","__assign","assign","n","arguments","apply","this","WithReactRouterHistory","Component","history","WithChromeHistory","chromeHistory","ref","HistoryComponent","useMemo","innerRef","SystemDetails","_ref","_useSelector","_useSelector2","optOutSystemHandler","_ref2","useSelector","_ref3","SystemDetailsPageStore","loaded","isOptOut","opt_out","entity","state","entityDetails","_useRbac","useRbac","PERMISSIONS","basicReporting","readVulnerabilityResults","setPairStatus","readExcluded","_useRbac2","_slicedToArray","_useRbac2$","canExport","canReadVulnerabilityResults","canEditPairStatus","canReadExcluded","React","Spinner","centered","EmptyStateExcludedSystem","buttonAction","display_name","NotAuthorized","title","intl","formatMessage","messages","notAuthorizedNoAccessForSystem","ConnectedSystemCves","id","insights_id","showHeaderLabel","setPageTitle","serviceName","SERVICE_NAME","propTypes","BaseDetailWrapper","store","Cmp","className","Suspense","fallback","ScalprumComponent","appName","module","scope","ErrorComponent","InventoryLoadError","DetailWrapper","defaultProps","Bullseye","size","WithHistory","BaseInventoryDetailHead","InventoryDetailHead","innerProps","dispatch","useDispatch","inventoryId","useParams","useIntl","errors","_ref4","SystemCvesStore","cveList","payload","setExcludedIncluded","canSetExcludedIncluded","fetchSystemDetails","clearNotifications","notifications","systemName","exclude","success","variant","notificationDisableSuccess","count","failure","autoDismiss","notificationDisableFailureTitle","description","notificationDetailDisableFailureBody","include","notificationEnableSuccessTitle","notificationEnableSuccessBody","notificationEnableFailureTitle","notificationDetailEnableFailureBody","handleOptOutSystem","toExclude","optOutSystemsAction","then","addNotification","status","ReadOnlyNotification","NotAuthorizedNotification","onLoad","_ref5","mergeWithDetail","ReducerRegistry","register","_objectSpread","Header","breadcrumbs","PATHS","systemsPage","to","isLoaded","invalidSystem","isActive","hideBack","actions","inventoryKebabOptionsEnable","onClick","inventoryKebabOptionsDisable","Main"],"sourceRoot":""}